<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- hexo injector head_begin start -->
<link rel="stylesheet" href="css/bilicard.css">
<!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>商品价格和银行危机 | 小荷才露尖尖角</title><meta name="author" content="揭晓"><meta name="copyright" content="揭晓"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Eberhardt, M. , &amp; Presbitero, A. F. . (2021). Commodity prices and banking crises. Journal of International Economics(2), 103474.  【摘要】 在发展中国家，商品价格是驱动产出波动最重要的因素之一。作者发现商品价格因素影响实体经济的主要机制在于影响银行的资产负债">
<meta property="og:type" content="article">
<meta property="og:title" content="商品价格和银行危机">
<meta property="og:url" content="https://dhndzwxj.github.io/2914285830.html">
<meta property="og:site_name" content="小荷才露尖尖角">
<meta property="og:description" content="Eberhardt, M. , &amp; Presbitero, A. F. . (2021). Commodity prices and banking crises. Journal of International Economics(2), 103474.  【摘要】 在发展中国家，商品价格是驱动产出波动最重要的因素之一。作者发现商品价格因素影响实体经济的主要机制在于影响银行的资产负债">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://dhndzwxj.github.io/private_img/banner2.gif">
<meta property="article:published_time" content="2021-07-03T12:12:08.000Z">
<meta property="article:modified_time" content="2023-09-13T03:56:38.705Z">
<meta property="article:author" content="揭晓">
<meta property="article:tag" content="stata">
<meta property="article:tag" content="发展中国家">
<meta property="article:tag" content="商品价格">
<meta property="article:tag" content="金融部门">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://dhndzwxj.github.io/private_img/banner2.gif"><link rel="shortcut icon" href="/private_img/favicon.png"><link rel="canonical" href="https://dhndzwxj.github.io/2914285830.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: {"limitDay":50,"position":"top","messagePrev":"本文上次更新距离今天已经过去","messageNext":"天, 文中内容可能已经过时，望周知。"},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: false,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '商品价格和银行危机',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-09-13 11:56:38'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@400;500;700&display=swap" rel="stylesheet"><link href="https://fonts.loli.net/css2?family=Ma+Shan+Zheng:wght@400;500;700&display=swap" rel="stylesheet"><link rel="stylesheet" href="/css/wave.css?v1"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="atom.xml" title="小荷才露尖尖角" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/private_img/yuyingnan.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="archives/"><div class="headline">文章</div><div class="length-num">307</div></a><a href="tags/"><div class="headline">标签</div><div class="length-num">669</div></a><a href="categories/"><div class="headline">分类</div><div class="length-num">78</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="../../"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-laptop-house"></i><span> 结构</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/air-conditioner/"><i class="fa-fw fas fa-wind"></i><span> 便携小空调</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/private_img/banner2.gif')"><nav id="nav"><span id="blog-info"><a href="index.html" title="小荷才露尖尖角"><span class="site-name">小荷才露尖尖角</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="../../"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-laptop-house"></i><span> 结构</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/air-conditioner/"><i class="fa-fw fas fa-wind"></i><span> 便携小空调</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">商品价格和银行危机</h1><div id="post-meta"><div class="meta-firstline"><i class="fa-solid fa-user"></i><span class="post-meta-author">揭晓</span><span class="post-meta-date"><span class="post-meta-separator">|</span><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-07-03T12:12:08.000Z" title="发表于 2021-07-03 20:12:08">2021-07-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-13T03:56:38.705Z" title="更新于 2023-09-13 11:56:38">2023-09-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="categories/%E8%AE%A1%E9%87%8F%E4%B8%8E%E6%A8%A1%E5%9E%8B/">计量与模型</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="categories/%E8%AE%A1%E9%87%8F%E4%B8%8E%E6%A8%A1%E5%9E%8B/%E8%AE%A1%E9%87%8F/">计量</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="categories/%E8%AE%A1%E9%87%8F%E4%B8%8E%E6%A8%A1%E5%9E%8B/%E8%AE%A1%E9%87%8F/stata/">stata</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">37.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>163分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="商品价格和银行危机"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>Eberhardt, M. , &amp; Presbitero, A. F. . (2021). Commodity prices and banking crises. Journal of International Economics(2), 103474.</p>
</blockquote>
<p>【摘要】</p>
<p>在发展中国家，商品价格是驱动产出波动最重要的因素之一。作者发现商品价格因素影响实体经济的主要机制在于影响银行的资产负债表和金融稳定性。通过对60个低收入国家（low-income countries, LIC）的实证考量，作者发现商品价格波动是银行危机良好的先行指标。与之相对的，在发达国家和新兴经济体中，信贷扩张和资本流入可以较好预测银行危机，但这两个指标对于低收入国家的预测性大大削弱，主要是因为低收入国家金融未能高度自由化（lack of financial liberalization）。作者还发现在低收入国家中，商品价格波动还会通过削减政府收入、缩短主权债务期限等渠道导致银行不稳定性。</p>
<hr />
<p>20世纪60年代以来，商品价格的全球冲击可以解释低收入国家四分之一的产出波动。</p>
<ul>
<li>价格波动影响企业的雇佣计划和投资决定。</li>
<li>此外，商品价格波动通过金融渠道产生实际影响。
<ul>
<li>银行资产负债表。价格下降银行减少放贷。</li>
<li>金融稳定性。
<ul>
<li>商品价格快速上涨会扭曲信息，导致银行很难分辨借款者的资质</li>
<li>商品价格急剧下降削减出口企业的收益，难以承担债务责任</li>
<li>挤兑，银行流动性紧张</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>对于发达国家和新兴经济体而言，信贷扩张和资本流入是金融不稳定性的关键驱动力，但作者发现私人信贷增长——银行危机的主要先行指标——并不是银行危机的稳健估计量，资本流入也不是。低收入国家依赖于官方融资（official financing），收到政府控制而非银行系统直接影响。</p>
<p>作者做的实证工作：</p>
<ul>
<li>首先进行一系列回归检验商品价格波动导致银行危机的机制</li>
<li>然后检验，来自金融部门的压力是否可能是为应对商品价格总波动（aggregate commodity price， ACP）导致的财政状况恶化的结果——有实证表明，在商品相关收入占政府总收入比重很高的国家里（in countries where commodity-linked revenues are a significant share of government revenues），财政政策往往是顺周期的，结果会扩大商品价格冲击的影响。</li>
</ul>
<p>本文的两点贡献</p>
<ul>
<li>强调商品价格是导致金融部门（financial sector stress）压力的重要因素</li>
<li>大多数文献重点关注发达国家和新兴市场国家，本文将研究视角放在低收入国家</li>
</ul>
<p>本文框架：</p>
<ul>
<li>第二部分介绍样本、讨论变量构造和描述性统计（呈现单边量的分析结果）</li>
<li>第三部分讨论如何进行实证</li>
<li>第四部分展示主要结果，稳健性检验</li>
<li>第五部分使用历史样本进行扩展性分析</li>
<li>第六部分深入讨论商品价格对银行危机的影响机制</li>
<li>第七部分总结</li>
</ul>
<hr />
<p>商品价格与银行危机</p>
<h2 id="摘要"><a class="markdownIt-Anchor" href="#摘要"></a> 摘要</h2>
<p>商品价格是发展中国家产出波动的最重要驱动力之一。我们发现，大宗商品价格变动影响实体经济的一个主要渠道是通过其对银行资产负债表和金融稳定的影响。我们的分析发现，在60个低收入国家的样本中，商品价格的波动是银行业危机的一个重要预测因素。与发达经济体和新兴经济体最近的调查结果不同，信贷繁荣和资本流入在预测银行业危机方面没有发挥重要作用，这与低收入国家缺乏事实上的金融自由化是一致的。我们用1848年至1938年间40个“外围”经济体的历史数据证实了我们的主要发现。大宗商品价格波动对银行业危机的影响主要集中在具有固定汇率制度和初级商品生产份额较高的低收入国家。我们还发现，大宗商品价格波动可能通过政府收入减少和主权债务期限缩短引发金融不稳定，这可能会削弱银行的资产负债表。</p>
<h2 id="1-引言"><a class="markdownIt-Anchor" href="#1-引言"></a> 1. 引言</h2>
<p>在经历了1980年代和1990年代普遍的金融不稳定时期（主要集中在初级商品出口国）之后，在过去20年中，只有少数发展中国家受到了系统性银行业危机的冲击。造成这种状况的因素有几个，包括经济持续增长的时间延长、金融深化和有利的外部条件，特别是大宗商品价格长期稳定高企。自2014年大宗商品超级周期结束以来，越来越多的低收入国家陷入财政困境，银行盈利能力的下降和银行资产质量的恶化证明了这一点，这一发展符合这样一种观点，即从银行业危机中毕业到目前为止已被证明是虚幻的（Reinhart和Rogoff，2013）。</p>
<p>在这些发展的推动下，我们将重点放在LIC的经验上，并关注大宗商品价格在推动金融部门陷入困境中的作用。鉴于银行系统危机的驱动因素在不同结构特征的经济体中可能不同（Hardy和Pazarbasioglu，1999），我们根据Laeven和Valencia（2013）的定义，为系统性银行危机开发了一个特定于LIC的预警系统（EWS）。我们首选的实证结果来自随机效应logit模型，该模型使用特定国家所有协变量的平均值（也称为“相关随机效应”模型），其方法可以追溯到Mundlak（1978）和Chamberlain（1982）。这使我们能够保持60个国家的完整样本，包括那些从未经历过危机的国家，同时仍然可以估计其“国内”的参数系数。</p>
<p>把重点放在商品价格上，是因为有人认为商品价格是推动发展中国家经济总量的最重要因素之一（Mendoza，1997；迪顿，1999年；Kose，2002年；Raddatz，2007年；Céspedes和Velasco，2012年）。在最近的一篇论文中，Fernández et al.（2017）估计，自20世纪60年代以来，LIC产出波动的25%可以归因于全球大宗商品价格冲击；这一份额与较富裕经济体的份额相当，并在过去15年中随着商品市场的金融化而显著增加。此外，基于Ramey和Ramey（1995）的开创性贡献，一系列文献表明了波动冲击对经济增长和发展的重要性（例如。，Koren和Tenreyro，2007年；Fernández Villaverde等人，2011年）。特别是，Bloom（2009）发现，不确定性冲击（包括对商品价格的冲击）对企业的招聘和投资决策具有实际影响，这与宏观文献表明，商品价格的波动比其增长对产出波动的影响更大（Blaney和Greenaway，2001；布拉特曼等人，2007年；威廉姆森，2012年；Cavalcanti等人，2015年）。</p>
<p>但大宗商品价格波动也可能通过金融渠道产生实际影响，因为它们会影响银行的资产负债表和金融稳定。Céspedes and Velasco（2012）和Agarwal et al.（2020）表明，商品价格下跌会减少银行贷款，特别是对初级商品出口国等发展中国家，而Kinda et al.（2018）发现，负面的商品价格冲击与较高的不良贷款（NPL）和较低的银行盈利能力有关。Caprio和Klingebiel（1996a、1996b）广泛记录了20世纪80年代和90年代初的一些银行业危机，并表明不稳定的贸易条件与系统性危机有关，特别是在集中依赖出口的国家。例如，1988年Benin的危机是由贸易条件的下降和波动所引发的，这种贸易条件影响到若干国有企业的财务状况，从而导致国有企业所属银行的流动性和偿付能力问题。结果，整个银行系统80%的贷款组合变成了不良贷款，危机的代价达到了GDP的17%。1988年科特迪瓦银行业危机也很相似，导致不良贷款占很大比例，成本约占国内生产总值的25%。商品价格冲击在玻利维亚（1986年）、肯尼亚（1985年）和塞内加尔（1988年）等国以及20世纪初的银行危机中也发挥了关键作用。例如，在古巴，1919-1921年糖价的急剧变化首先引发了信贷扩张，然后是当地银行的破产，对糖生产商的产生了巨大风险（Shelton，1994年）。</p>
<p>更具体地说，贸易条件的波动可能通过一些不同的渠道导致金融不稳定和危机。首先，价格的巨大差异增加了信息不对称，使得从不良借款人中选择好的借款人更加困难（Caprio和Klingebiel，1996b）。第二，价格的大幅下跌转化为出口企业收入的减少，这些企业发现偿还债务更加困难，对银行的资产质量可能产生负面影响。同样，商品价格的下跌也会给公共部门带来压力，公共部门可能开始拖欠供应商和承包商的款项，从而对银行的资产负债表造成第二轮影响。此外，政府收入的减少可能会刺激公共债务的发行，并通过政府干预和道德劝说导致银行主权风险的增加（Ongena et al.，2019）。最后，如果负面冲击导致存款提取激增（政府也为预算赤字提供资金），大宗商品价格下跌可能会影响银行融资和流动性（Gall et al.，2004；Agarwal等人，2020年）。</p>
<p>与文献一致，我们的基线结果表明，大宗商品价格的波动性是LIC中银行业危机相似性的关键驱动因素：在我们的首选规范中，特定国家的大宗商品总价格（ACP）波动性增加一个标准差（SD），发生危机的概率会增加2.5个百分点。鉴于无条件危机倾向约为1.8%，这是一个实质性的影响。</p>
<p>我们的实证分析也解释了发达经济体和新兴市场所确定的金融不稳定的关键驱动因素——信贷繁荣和资本流入激增。我们发现，作为发达经济体和新兴经济体银行业危机的主要指标，私人信贷增长并不是银行业危机的有力预测指标，无论我们是将其作为连续变量还是通过财富/激增指标，这表明，LIC的信贷增长与金融深化有关，而不是与繁荣和萧条时期有关（Rousseau和Wachtel，2011）。我们还发现，净资本流入与银行业危机倾向之间不存在强有力的关联，即使是在观察财富和激增以及使用资本流入的替代措施时也是如此。</p>
<p>我们针对LICs的不同结构特征对这些结果进行了合理化。而专注于发达经济体和新兴经济体的文献已经就信贷繁荣所起的主导作用达成了几乎一致的意见（Schularick和Taylor，2012；Bordo和Meissner，2016年；Boissay等人，2016），相对有限的金融部门规模和持续不断的金融深化过程有可能最大限度地降低LIC中发生繁荣和萧条事件的发生率。此外，前一组中的繁荣和萧条是由私人贷款人和借款人推动的，而在许多LIC国家中，国有银行和直接信贷（通常是公共部门的各个部分）是主要参与者（Caprio和Klingebiel，1996a）。事实上，与新兴市场和发达经济体的经验相反，20世纪80年代和90年代出现的法律上的金融自由化浪潮并没有伴随着事实上的金融自由化，低收入国家的金融深化仍然受到抑制（Reinhart和Tokatlidis，2003年）。在非洲的经验来看，卡尔沃和莱因哈特（1999年，p.31–32）认为，即使在一些危机之前出现了金融自由化，但“危机似乎并不根源于信贷和资产价格暴涨暴跌的模式，这种模式在其他地方非常明显”。同样，Gall等人（2004年，p.42）在结束对非洲银行业危机的审查时指出，“金融自由化似乎并不是这些银行业危机的主要因素，因为金融体系在危机前的大部分时间里仍然受到高度压制。”</p>
<p>在过去两个世纪的历史著作中，Reinhart和Rogoff（2013，p.4561）记录了“高国际资本流动性时期反复产生国际银行业危机”，并表明在资本流入激增之后，银行业产生危机的可能性更大，其他研究证实了这一模式（如Caballero，2016）。然而，LIC国家传统上依赖于官方融资（Lane，2015），这通常是针对政府的，不太可能被银行系统干涉。直到最近，自本世纪初以来，非官方（私人）资本流入才开始增加，达到了与过去十年新兴市场相当的总流量（Araujo等人，2017年）。</p>
<p>鉴于我们的主要样本包括一个长期的大宗商品价格周期，人们可能会担心我们的调查结果是否具有一般性。为了减轻这种担忧，我们从各种来源收集历史数据（例如，Blattman等人，2007；Reinhart和Rogoff，2009年；Federico和Tena Junguito，2019），并验证了我们在40个“外围”国家——全球“商品彩票”（Blattman等人，2007）在1848年至1938年间，我们将主流分析中使用的实证策略应用于我们的历史样本，并确认了大宗商品价格波动（而非增长）与银行业危机可能性之间的强大关联。这一结果与Blattman等人（2007）在同一历史时期讨论的商品价格波动对依赖商品经济实现经济增长的证据一致。考虑到银行危机的巨大经济成本（Dell’Ariccia et al.，2008；Reinhart和Rogoff，2014），我们的研究结果提供了一个额外的金融渠道的证据，大宗商品价格波动通过这个渠道发挥了重要作用，并拉开了世界“核心”和“外围”收入水平的差异。</p>
<p>在论文的最后部分，我们还进行了一系列测试，以揭示大宗商品价格波动导致银行业危机的机制。大量文献表明，，高度依赖商品交易和固定汇率制度限制了价格机制缓解冲击的能力，放大商品价格冲击的后果（Bleaney和Greenaway，2001；Edwards和Levy Yeyati，2005年）。我们的分析支持这些预测，因为我们发现，大宗商品价格波动对银行业危机发生概率的影响主要集中在初级生产部门占主导地位的国家以及那些实行固定汇率制度或硬盯住汇率制度的国家。</p>
<p>然后，我们测试金融部门压力是否可能是应对大宗商品价格波动而削弱财政状况的结果，因为有证据表明，在与大宗商品相关的收入占政府收入很大比例的国家，财政政策可能是顺周期的，扩大商品价格冲击的影响（Céspedes和Velasco，2014年）。我们的研究表明，大宗商品价格的波动确实与较低的财政收入有关，它通过上市公司较弱的财务状况影响银行的资产负债表。与收入下降一致，我们观察到外部公共债务大幅增加，同时债务到期日缩短，这表明大宗商品价格的波动增加了不确定性，并削弱了长期主权借款的能力，可能通过持有短期政府债券来增加银行的主权风险。我们还发现，持续的主权债务违约事件是银行业危机的一个重要预测因素，从而为拓展财务渠道提供了额外的支持。</p>
<p>我们的分析涉及大量文献，这些文献为银行危机开发了各种EWS。占主导地位的观点强调信贷繁荣和杠杆的作用。回顾1870年以来14个发达经济体的历史数据，Jordà 等人（2011年）的研究表明，信贷增长是金融不稳定的单一最佳预测指标。同样，许多有影响力的论文对如何在信贷繁荣期间爆发银行危机进行了假设（Boissay et al.，2016），或者提供了证据表明银行危机是在信贷繁荣或杠杆率急剧增加之后爆发的（Borio and Drehmann，2009；Claessens等人，2011年；Gourinchas和Obstfeld，2012年；舒拉里克和泰勒，2012年；乔德à 等人，2013年）。最近，Cesa Bianchi等人（2019年）的研究表明，全球金融状况也会影响国内金融稳定，因为国外信贷增长预测国内银行业危机的程度超过了国内信贷的影响。</p>
<p>杠杆率并不是银行业危机的唯一重要驱动力。与Reinhart和Rogoff（2013年）讨论的资本流入激增重要性的历史证据一致，Caballero（2016年）表明，资本流入的繁荣实质上增加了银行业危机的可能性，甚至在没有国内银行过度放贷的情况下，危机也可能被触发。更广泛地说，早期预警文献确定了与金融危机相关的各种因素，我们以此为指导建立我们的实证模型。许多研究一致表明，伴随着高通胀，随着公共债务的增加，以及在实际GDP增长率和外汇储备减少之后，发生银行业危机的可能性将会增加（见Demirguc Kunt和Detragiache，1998；卡明斯基和莱因哈特，1999年；Von Hagen和Ho，2007年；Duttagupta和Cashin，2011年；Papi等人，2015年）。</p>
<p>图1.银行危机和商品总价格（1963-2015）。注：N=60个经济体。银行危机频率用灰色条（最左边的刻度）突出显示（次数）。我们加上大宗商品价格演变的中位数，用深蓝色表示（指数，1990=100；右标度）和商品价格波动率中值（国内波动率由商品价格增长通过GARCH得出，如文中所述；左刻度），以及该变量的第10到90个百分位范围（浅蓝色阴影，近左比例）。∗为了便于说明，我们将1974年的第90个百分位波动率（第一次石油危机的影响）缩减到实际波动率的一半(有关此图例中颜色的说明，请参阅本文的网络版本。）</p>
<p>我们从两个方面作出贡献。首先，我们强调了大宗商品价格在触发金融部门压力方面发挥的关键作用。在一篇相关论文中，Agarwal等人（2020年）表明，大宗商品价格下跌与银行健康状况恶化有关，并导致LIC银行贷款收缩。在此，我们进一步评估大宗商品价格波动是否有助于预测银行业危机。第二，虽然现有文献大多着眼于发达市场和新兴市场，但我们将重点放在了低收入国家的经验上。这一选择的动机是，最近，低收入国家的金融部门脆弱性不断上升，它们受到商品价格波动的影响，最近的宏观金融发展证明了这一点，并有兴趣了解过去20年中数量有限的危机是否是商品超级周期的结果（见图1）。隐藏在这一背景下的一个棘手问题是，过去20年来银行业危机的稀少是否代表了“新常态”，或者大宗商品价格长期高位稳定的结束是否可能预示着上世纪80年代和90年代初低收入国家大量出现金融危机的回归。</p>
<p>论文的剩余部分如下：在第2节中，我们介绍了我们的样本，讨论了变量的结构和单变量事件分析的结果。接下来，我们将在第3节简要讨论我们的实证实现，然后在第4节介绍我们的主要结果和稳健性检验。第5节将我们的分析扩展到历史样本。最后，第6节探讨了从商品价格到银行危机的传导渠道，第7节得出结论。在线附录中提供了更多的结果和对来源的更详细的讨论。</p>
<h2 id="2数据与描述性分析"><a class="markdownIt-Anchor" href="#2数据与描述性分析"></a> 2.数据与描述性分析</h2>
<h3 id="21-样本"><a class="markdownIt-Anchor" href="#21-样本"></a> 2.1 样本</h3>
<p>我们的样本由目前符合国际货币基金组织规定的优惠贷款资格的低收入国家组成。在总共73个国家中，有13个国家没有任何数据或我们的回归数据非常有限，因此我们的最终样本涵盖60个低收入国家。正如Caggiano等人（2014年）在对撒哈拉以南非洲国家的分析中指出的那样，LIC的金融危机经常持续多年。正如本文献中的标准，我们的样本排除了我们回归样本中38个危机的“持续”危机年的观察结果，这相当于82个“持续”危机年（危机事件的中位数为2年），以避免“危机后偏差”（Bussi）ère和Fratzscher，2006），因为危机期间更糟糕的宏观经济状况可能会对估计产生影响（例如，见Gourinchas和Obstfeld，2012；猫ão和Milesi Ferretti，2014年；Papi等人，2015年）。我们最终得到了2120个观测样本，每个国家的平均时间序列为35.3年。表A-1中列出了所涵盖的国家名单以及观察次数和银行危机事件的详细情况。</p>
<h3 id="22可变结构和来源"><a class="markdownIt-Anchor" href="#22可变结构和来源"></a> 2.2.可变结构和来源</h3>
<p>在我们的LIC样本中，我们使用了三个主要的数据来源：银行危机、商品价格行为以及宏观经济、银行和货币总量。首先，我们采用Laeven和Valencia（2020）数据库（更新Laeven和Valencia，2013）进行系统性银行危机分类，其定义为（i）银行挤兑、银行系统损失和/或银行清算所表明的银行系统财务困境的显著迹象；（ii）应对银行体系重大损失的重要银行政策干预措施（更多详情见Laeven和Valencia，2013、2020）。在1963-2015年的样本期内，我们的样本中总共发生了45起银行危机，但由于控制变量的数据可用性，我们的回归只捕获了其中的38起；表A-1指出了我们遗漏的事件。各年银行业危机的分布突出了一些有趣的事实（图1）：穷国的银行业危机主要是1980年代和1990年代的一个特点，在最近的全球金融危机期间，60个国家中只有两个国家（尼日利亚和蒙古）经历了银行业危机。相比之下，Laeven和Valencia（2020）数据集中35个高收入国家中有19个国家在全球金融危机中遭遇了银行业危机，然而，在20世纪80年代或90年代，只有12个国家（其中一半是转型期经济体）经历了危机事件。鉴于过去20年全球金融一体化的加速模式得到了广泛认可，这种差异模式很有意思，而且它进一步证明了开发针对LIC的EWS的方法是合理的。同样值得注意的是，45次危机中有39次发生在1982年至1996年的15年时间窗内，平均每年发生3次危机。在稳健性检验中，我们将样本限制在2000年之前，重点放在低收入国家“嘿-天”型的金融危机中。</p>
<p>其次，我们使用国际货币基金组织初级商品价格数据库中44种全球初级商品价格的月度数据，结合Gruss和Kebhaj（2019）整理的每种初级商品的国内生产总值（GDP）对该商品净出口的国家特定份额的年度信息，表A-3列出了个别商品。我们构建的国家特定商品总价格（ACP）指数与Bazzi指数以及Blattman（2014）等人构建的不同，通过采用随时间固定的特定国家商品权重：</p>
<p>我们对固定商品权重的选择是基于对商品价格冲击和国内冲突文献的最新见解。采用固定权重，Ciccone（2018）发现商品价格冲击对冲突倾向有显著影响。这与Bazzi和Blattman（2014）的发现相反，他们使用时变权重，将国际商品价格的变化与一国出口商品类型和数量的变化混为一谈。支持固定商品权重的论点同样适用于我们的金融危机案例，因为（i）一个国家的商品出口的类型和数量可能会因可观察到的经济、政治或社会变化而发生变化，这些变化也会直接影响危机倾向，以及（ii）一个国家的出口篮子可能由于不可观察的因素而发生变化，这些因素也会影响危机倾向。Ciccone（2018）进一步表明，使用样本期内平均的权重有利于减少因出口份额计量不当而产生的衰减偏差。</p>
<p>由于我们在分析中采用了平均净出口/GDP权重，因此所捕获的变化与（外生）世界价格变化相关的意外收益和损失有关。我们将初级商品价格冲击简单地定义为大宗商品价格指标的第一个差异， 。然后将这些月度冲击在日历年内相加，以获得年度值。下面，我们将此变量称为“商品价格增长”。此外，我们采用了ACP波动性的时变度量：根据Bleaney和Greenaway（2001）以及Cavalcanti等人（2015），我们估计了条件波动性 从GARCH（1,1）模型的月度数据中使用ACP冲击的简单回归, ，在一个常数上。我们将每月的数据转换成每年的频率，取每年每月的波动率平均值。</p>
<p>第三，根据有关银行危机的现有文献，参见Demirguc Kunt和Detragiache（1998）以及Kaminsky和Reinhart（1999）的开创性贡献，以及Kauko（2014）最近的评论——我们整理了一组控制变量（在主要规范或稳健性检查中），这些变量被组织为：（i）宏观经济基本面（实际GDP增长、通货膨胀、贬值、准备金超过GDP、外债超过GDP、短期债务在外债中的份额，出口偿债）；（ii）外部部门变量（外国净资产、资本流入总额和净（非官方）资本流入超过国内生产总值的变化、外国援助超过国民总收入、贸易开放度的变化）;(iii）货币指标（国内（私人）信贷相对于GDP的变化、实际国内（私人）信贷增长、M2相对于GDP的变化、实际M2增长）；（iv）银行体系结构的衡量标准（流动性、规模）；（v） 衡量全球经济活动的指标（10年期美国国债固定到期利率）；（vi）武装冲突、存款担保计划、债务危机和货币危机的指标变量。所有这些变量均来自标准来源，包括世界银行世界发展指标、国际货币基金组织国际金融统计和世界经济展望。关于每个变量的定义和来源的详细信息，见附录A.1。所有变量均表示为变化、增长率或比率，不太可能以随机趋势为特征，并在观察值的顶部和底部1%进行排序，以最小化异常值的作用。样本的描述性统计数据见表a-2。</p>
<h3 id="23变量变换"><a class="markdownIt-Anchor" href="#23变量变换"></a> 2.3.变量变换</h3>
<p>金融危机实证建模的一个重要方面是如何在构建危机预警方法时考虑危机前宏观经济变量的动态变化。在这种情况下，Papi等人（2015年，表2）、Kauko（2014年）和Klomp（2010年）审查的论文中的标准做法是滞后回归系数，通常只滞后一个时间段。这种选择似乎是临时性的，可能无法充分把握危机爆发前的主要动态。事实上，Eichengreen（2003，p.157）认为，“银行危机[…]根源于缓慢演变的基本面，如经济增长下降和不利的外部冲击”，Schularick和Taylor（2012）在对1870-2010年期间发达经济体的开创性分析中采用了长度为5的滞后多项式。鉴于我们数据的时间序列维数相对较短（平均为35年，而Schularick和Taylor，2012年为140年），以及我们模型中包含的大量候选危机决定因素，我们赞成采用移动平均来捕捉危机前的动态，正如Reinhart和Rogoff（2011）以及Jordà et al 等人（2011年、2016年）。我们选择一个MA（3）过程（捕捉t- 1，t- 2和t- 3） 对于我们的主要结果集，尽管我们也给出了单个滞后和2、4或5滞后的MA变换的结果。</p>
<p>一个相关的问题不是指危机预测者的危机前动态，而是指危机动态本身：每当我们遇到重复事件时，确定（最近）发生危机是否是预测危机的一个重要决定因素可能很重要。如果是这种情况，一种方法就是采用动态规范。然而，在具有国家固定效应的非线性模型中，指定一个动态模型会给估计和解释带来很大困难。我们认为，在我们的情况下，这是没有必要的两个原因。首先，在经历过至少一次危机的29个样本国家中，只有8个国家经历过多次危机，但这里的最大危机数仍然只有两次：与发达国家和新兴国家一样，LIC的银行业危机仍然是相对罕见的事件。其次，Bouvatier最近的研究（2017年，p.20） 研究银行危机发生中的时间依赖效应发现，当关注相对较短的时间范围（如EWS分析中通常采用的30至40年）时，“时间依赖效应随着银行危机的一整套标准决定因素的加入而消失。”</p>
<h3 id="24典型事实"><a class="markdownIt-Anchor" href="#24典型事实"></a> 2.4.典型事实</h3>
<p>对这些数据的第一眼观察表明，大宗商品价格的高波动期很可能预示着LIC的银行业危机。图1绘制了1963年至2015年60个LIC样本的银行危机频率。该图还显示了特定国家的大宗商品总价格（ACP）指数及其特定国家波动率的中值（跨国家）。对于后一个变量，我们还绘制了第10至90个百分位区间。20世纪80年代末至90年代初，大宗商品价格下跌，波动加剧，尤其是在高端分销市场，银行业危机此起彼伏。相比之下，在21世纪几乎没有出现危机，与商品超级周期相对应。21世纪在几内亚比绍、摩尔多瓦、蒙古和尼日利亚发生的几次危机，以及1976年在中非共和国发生的危机，也与大宗商品价格的波动性增加有关。最近，大宗商品超级周期的结束与低收入国家的金融压力有关。从2014年年中到2016年底，世界银行收集的初级商品价格系列中有四分之三下降，能源价格和非能源价格的月度商品价格波动分别增加了10倍和5倍。同期，LIC的银行系统盈利能力下降，资产质量恶化（见图B-1和国际货币基金组织，2017年）。为了进一步验证大宗商品价格波动与金融部门稳定性之间的关联，图2显示，三分之二的银行业危机发生在大宗商品价格波动高于其短期平均水平时，这些危机在不同收入水平的低收入国家蔓延。</p>
<p>图2.银行危机与大宗商品价格总波动。注：在这幅图中，我们将银行危机与y轴上的商品总价格（ACP）波动率和x轴上的对数人均GDP联系起来。在我们的样本中，67%的银行危机发生在波动率相对于其移动平均值较高之后：这些是橙色的散点图标记；33%发生在波动性相对较低的时候：这些是蓝色的标记。由于y轴是对数形式，0.5的值相当于相对波动率高出65%左右(有关此图例中颜色的说明，请参阅本文的网络版本。</p>
<h3 id="25事件分析"><a class="markdownIt-Anchor" href="#25事件分析"></a> 2.5.事件分析</h3>
<p>作为初始描述工具，我们遵循Gourinchas和Obstfeld（2012）以及Anundsen等人（2016）的实践，并进行事件分析——银行危机事件附近变量行为的单变量测试。我们分别对每个变量k估计以下固定效应模型：</p>
<p>哪里δ是一个虚拟变量，当i国离危机还有s年时等于1，t表示1963年到2015年之间的年份，α 国家是否具有固定效力ε 是错误项。我们可以从-5到+5，因此我们评估了银行业危机前期和后期的每个变量相对于11年窗口期外的观察值，后者被解释为“平静”时间。我们使用稳健回归方法估计等式2，以权衡有影响的异常值的影响。</p>
<p>图3显示了关键变量的结果。这些曲线图中的触须代表90%的置信区间，在大多数变量的情况下都相当宽，这在这种情况下并不少见（例如，见Gourinchas和Obstfeld，2012）。</p>
<p>从我们的主要利益变量出发，我们看到，危机年前两年，大宗商品价格增长显著，但这种增长并不持续。相比之下，大宗商品价格的波动性在危机前就开始增加，即使在危机后的平静时期也始终高于价值。这一证据强化了1和2中的描述模式，并建议人们不仅要关注增长，而且要关注大宗商品价格的波动。</p>
<p>对于私营部门的信贷和外国净资产的变化（均按GDP衡量）在危机爆发前没有显示出任何上升趋势。我们的证据表明，如果说有什么影响的话，私人信贷在危机事件发生前就受到了抑制，而在银行业危机发生两年后才开始回升。这种模式不同于发达经济体所观察到的情况，在发达经济体中，信贷繁荣和萧条被确定为银行业危机的关键驱动因素之一（Kaminsky和Reinhart，1999；Jordà等人，2011年、2015年；Schularick和Taylor，2012）。外国净资产与国内生产总值（GDP）之间没有明显偏离平静时期，这也与发达国家和新兴市场的发展形成鲜明对比，在它们中资本流入对预测银行业危机起着重要作用（Kaminsky和Reinhart，1999；Reinhart和Rogoff，2013年；卡巴莱罗，2016）。这些模式进一步证明了选择将我们的分析集中在LIC上的合理性。</p>
<p>由于这里提供的证据充其量只是指示性的，我们现在开始讨论我们研究中更正式的回归分析。</p>
<p>图3.银行危机-事件分析。注：我们提供了1963-2015年期间选定的事件分析图。估计值来自具有国家固定效应的集合稳健回归中的危机虚拟滞后和领先，见等式（2），具有90%置信区间（蓝色条）。请注意，我们在回归分析中分析的样本不包括正在进行的危机年（这是文献中的标准）-这里我们不排除这些观察结果。所有的变量都是winsorized的，但与回归中使用的数据相比，这里没有进行MA（3）转换(有关此图例中颜色的说明，请参阅本文的网络版本。）</p>
<h2 id="3实证模型与实施"><a class="markdownIt-Anchor" href="#3实证模型与实施"></a> 3.实证模型与实施</h2>
<p>我们遵循金融危机文献中的绝大多数研究，估计了一个潜在危机模型，其中当潜在变量超过某个阈值时，观察变量（危机事件）是一个已实现的系统性危机。我们将危机变量编码为银行业危机开始年份的1，否则为0，我们将“持续危机”年份从样本中排除，如上所述。我们所有的解释变量都转化为三年移动平均值MA（3），而替代滞后结构的结果在附录中给出。</p>
<p>为了对解释变量对银行业危机可能性的影响作出有意义的估计，需要面对的一个关键问题是未观察到的跨国异质性。我们采用了两种实证方法——随机效应logit估计和Mundlak检验（见下文）以及固定效应logit估计，通过考虑特定国家的固定效应来处理这个问题，它给出了所有系数对“国内”估计的解释，并使我们更接近于对结果的合理因果解释，但同时不受附带参数问题的影响。标准固定效应logit实施的一个缺点同样适用于文献中采用具有国家固定效应的集合logit模型的常见实践（例如，Anundsen等人，2016；Cesa Bianchi et al.，2019）或Fernandez Val和Weidner（2016）的双修正固定效应估计值表明，回归样本仅限于在样本期内某一点经历危机的国家；在我们的情况下，这将只相当于29个经济体。我们认为，在研究银行业危机的决定因素时，将那些没有银行业危机历史的国家也包括在内是非常重要的，因为否则我们可能会通过“选择结果”来扭曲研究结果，有人可能会注意到，危机事件年代测定绝不是一门精确的科学，而且显然还存在争议（Laeven和Valencia，2013），因此有必要使用一种方法对结果进行三角测量，这种方法适用于所有拥有可用数据的国家（在我们的案例中）将60个经济体纳入回归。</p>
<p>我们遵循Caballero（2016），他提供了一个有用的例子，说明了一个成熟的经验方法来绕过非线性模型中的偶发参数问题，追溯到Mundlak（1978）和张伯伦（1982）的概括。实现（Re-Mundlak Logit）建立在随机效应Logit模型上，如果个体（在我们的案例中，具体国家）效应与协变量之间没有相关性的强假设可以通过增加每个协变量的具体国家平均数来放松。这种方法的优势在于，从未经历过危机的国家不会被排除在样本之外，而且可以很容易地检验核算国别影响的统计显著性。因此，我们采用RE-Mundlak logit作为我们首选的实证方法，但也给出了标准logit和固定效应（FE）logit实现的结果。所有logit回归中的标准误差都集中在国家一级（并针对固定效应logit）。我们以平均边际效应的形式呈现结果，其中我们将边际与协变量的标准偏差相乘，以创建可在变量和规格之间进行比较的经济幅度（单位%）；这些裕度的标准误差的计算依次基于Delta方法。</p>
<p>为了量化模型的预测能力，我们使用了接受者操作特征（ROC）曲线以及相关的AUROC（ROC曲线下面积）统计数据，这已成为金融危机实证文献的一个显著特征（见Jordà 等人，2011年；Schularick和Taylor，2012年；Anundsen等人，2016年）。较高的AUROC统计表明预测能力更好（0.5是任何信息模型的基准，其中模型的预测能力相当于掷硬币），并且考虑到AUROC标准误差的可用性，可以构建统计测试来比较不同模型的预测能力。</p>
<h2 id="4结果与讨论"><a class="markdownIt-Anchor" href="#4结果与讨论"></a> 4.结果与讨论</h2>
<h3 id="41主要结果"><a class="markdownIt-Anchor" href="#41主要结果"></a> 4.1.主要结果</h3>
<p>我们的主要结果如表1所示，重点是选定的感兴趣的变量，完整结果见附录表C-1。除表4和表6中的财源滚滚分析外，本表和下表中报告的所有系数均为边际效应，构造为变量增加1标准误的边际效应百分比。在表1的第一个说明中，我们关注大宗商品价格增长和波动，仅控制美国利率和存款保险以及财政和货币危机的存在。在第2列到第4列中，我们用一系列银行、宏观和外部部门控制来饱和模型。</p>
<p>这些估计指出了三个主要发现。首先，根据商品价格波动对经济产出的重要性（Blattman等人，2007；Cavalcanti等人，2015年），我们发现大宗商品价格的波动性与银行业危机的可能性之间存在积极而稳健的关联。点估计在数量上仍然很重要，即使我们使用额外的协变量对模型进行验证，也能精确估计，这有助于提高模型的整体拟合优度。在经济方面，第4栏中的估计系数意味着大宗商品价格资产净值的年波动率每增加1个标准差，银行危机发生的概率就增加2.5个百分点，鉴于银行危机的无条件样本内概率为1.8%，这种影响相对较大。相比之下，商品价格增长的正系数在统计上并不显著。</p>
<p>其次，与事件研究中的证据一致，我们发现没有迹象表明信贷增长对银行业危机的发生有影响。这一说法，尽管从发达经济体和新兴经济体的证据来看令人惊讶，但与上述描述性证据一致，并得到了其他结果的支持，我们将在第4.2节中讨论，有人可能会认为，信贷增长缺乏显著性可能是由于计量误差和有限的数据可用性造成的衰减偏差。在处理LIC时，一个常见的警告是数据质量，这可能会因当地统计机构的资金有限和能力薄弱而受到削弱（Devarajan，2013；Klasen和Blades，2013年）。为了缓解这一担忧，我们开展了一项反泡沫研究，考察了M2/GDP的增长以及实际M2增长（见第4.2节），数据可用性与其他变量的数据可用性相当（表a-2）。</p>
<p>第三，我们也没有发现任何证据表明资本流动（通过净外国资产的变化来衡量）是银行业危机的预测因素，这与事件研究结果和现有的发展中国家分析相一致（Caprio和Klingebiel，1996b）。鉴于大量有关资本流动的文献，我们在第4.3节中进行了一些额外的测试，以证实和解释这一发现。</p>
<p>最后，控制变量的系数表明，当短期外部公共债务（占全部外部公共债务）的份额较大，并且在高通胀、高外援流入以及国内贸易开放程度较低的时期之后，银行业危机的可能性更大。这些影响在经济上是相当大的。特别是，短期债务的影响在规模上与大宗商品价格波动的影响相似，即短期债务占外债总额的比例每增加1个标准差，则危机发生的可能性增加2.2个百分点。注意，当我们控制其他外部部门变量（系数从第2栏的1.9增加到第4栏的2.5）时，商品价格波动带来的脆弱性进一步增加，而这些援助和贸易变量本身在统计上具有高度显著性</p>
<p>注：所有估算值均为解释变量中一个标准差增加的经济幅度，以百分比表示。括号中的绝对t值，基于logit估计通过Delta方法计算的标准误差（其中标准误差又基于国家一级的聚类）。∗, ∗∗ 以及∗∗∗分别在10%、5%和1%水平上显示统计显著性。因变量是危机开始年份的一个虚拟变量，根据文献中的惯例，正在发生的银行业危机的年份被删除。Winsorization（极值推压法）用于每个变量的1%观察值的顶部和底部。我们的样本涵盖1963-2015年。其他协变量组：“存款保险和危机哑变量”-财政危机哑变量，货币危机哑变量，存款保险哑变量，冲突哑变量；’银行体系——流动性、规模（M2/GDP）。</p>
<h4 id="411拟合优度"><a class="markdownIt-Anchor" href="#411拟合优度"></a> 4.1.1.拟合优度</h4>
<p>宏观经济和外部部门变量的加入提高了模型的预测能力（即，AUROC在统计上大于仅包含银行系统变量的简化模型）。我们的首选规范（第4列）、标准混合logit模型（第5列）以及FE logit（第6列）之间的比较表明，RE-Mundlak logit模型的预测能力在统计学上显著高于两个备选方案，如图4绘制的ROC曲线和AUROC比较试验所示。虽然我们关于ACP波动重要性的关键结果在Poold logit和FE logit模型中得到了证实，但基于后者的估计更不稳定，估计也更不精确，以至于几乎所有协变量都失去了统计意义，这表明样本量的减少，由于这一事实，所有没有银行业危机的国家都被排除在样本之外，这是一个严重的制约因素。相反，标准logit模型保留了相同的样本，但提供的点估计值往往与RE-Mundlak logit模型的点估计值大不相同，这表明简单地汇集数据就可以提供完全不同的、可以说是误导性的情况。大宗商品价格集团波动性和短期债务的经济意义尤其如此。</p>
<p>图4 ROC图。注：我们根据三个估计量绘制了结果的ROC曲线：（i）混合logit模型（橙色线），（ii）FE logit模型（灰色虚线）和（iii）RE Mundlak模型（黑色线）。请注意，FE-Logit模型的样本较小（仅包括至少发生过一次银行业危机的国家）。此处报告的p值表明，RE Mundlak基准和替代模型之间的模型预测能力在统计学上显著增加。</p>
<h4 id="412基线的稳健性"><a class="markdownIt-Anchor" href="#412基线的稳健性"></a> 4.1.2.基线的稳健性</h4>
<p>表2提供了使用各种受限样本和数据转换的稳健性检查。第一列报告了我们预先制定的规范（表1的第4列），而第2列到第5列用不同的子样本复制了这个模型。我们从第2栏开始，将观察值少于16个的国家剔除，以形成一个更为平衡的小组，然后在第3栏中保留“正在进行的危机”的观察值。在第4栏中，我们将样本限制在1963-1999年期间，当时大多数危机都发生过，而在第5栏中，我们只观察1980年以来的时期，为了减轻人们对结果是由大多数国家尚未开始金融市场自由化的第一阶段所驱动的担忧。20各样本的结果基本一致，我们与大宗商品价格波动相关的关键指标系数在整个样本中仍然具有统计显著性和稳定性不同的样品。只有在最后两次演习中，震级才有所增加，但这很容易解释为，在这些样本中，危机的无条件概率也明显更高。</p>
<p>Cesa Bianchi等人（2019年）最近的工作强调了在分析国内银行业危机时考虑全球金融状况的必要性，并通过引入国外信贷增长的GDP加权平均值来应对这一挑战，具体体现在Schularick和Taylor（2012）的简约分析中。他们得出结论，世界其他地方的信贷繁荣对危机的倾向有很大的经济影响，而且它们的纳入对经济的影响很大提高了模型的预测能力。尽管加权方案可能会解释一些小的偏差，但他们的经验策略实际上捕获了全球经济中所有未观察到的共同冲击，但假设这些冲击的影响由GDP权重充分描述。在表2的第6列中，我们将所有变量表示为与跨国平均值（CS-DM）的偏差，然后使用RE-Mundlak Logit估计我们的模型。我们更喜欢这种实现，因为我们模型中的大量协变量使得在当前设置中不可能包含（加权的）“全局”平均值。正如所建议的那样，与纳入固定年份效应类似，这种转变可以考虑到未观测到的时变全球冲击的作用。即使在这个要求更高的规范中，大宗商品价格的波动系数在统计学上也是显著的，并且在数量级上接近于基线。</p>
<p>下一步，我们测试了我们的结果的稳健性，包括广泛的其他潜在驱动因素的金融不稳定（表C-2）。我们控制公共债务与GDP之比、偿债与出口之比、债务负债增长（全部代替ST债务）和汇率贬值。事实证明，这些变量都不是银行危机的重要预测因子，同时大宗商品价格集团的波动系数保持稳定并得到精确估计。</p>
<p>然后，我们评估结果对解释变量滞后结构变化的稳健性。22我们首先使用单个滞后，然后对k=2（t- 1和-2） 至k=5（t- 1至t- 5). 请注意，选择单一滞后可能会使预测变量与即将发生的银行危机事件的预期相混淆，而更长的滞后规范可能会冲掉危机前短暂但重要的峰值。附录表C-4-1中给出的这个练习的主要结论是，我们的结果对于数据的替代动态转换非常稳健。在协变量的替代滞后结构中，基线结果也得到了证实，有趣的是，我们发现一些证据表明，信贷增长速度加快和外国资产的变化确实与更高的危机事件可能性有关，至少如果我们将窗口限制为一年（第1列）。</p>
<h3 id="42杠杆的作用"><a class="markdownIt-Anchor" href="#42杠杆的作用"></a> 4.2.杠杆的作用</h3>
<p>我们的主要研究结果表明，大宗商品价格波动是低收入国家银行业危机的主要驱动力。相比之下，我们没有发现证据表明杠杆率的变化是重要的。这一发现似乎与大量文献指出过度信贷增长是金融危机的关键主导指标相矛盾。鉴于信贷繁荣对金融稳定的重要性，至少在发达经济体和新兴市场是如此（Jordà 等人，2011年；Gourinchas和Obstfeld，2012年；Reinhart和Rogoff，2013）-本节的重点是杠杆的作用，我们根据Caballero（2016）提出的关于财富的定义和Ghosh等人（2014）提出的关于激增的定义，对私人信贷中的财富和激增进行了明确的建模。</p>
<p>注：所报告的估算值为表1所示的经济震级。括号中的绝对t比率基于通过增量法计算的标准误差。∗, ∗ * 以及∗∗∗分别在10%、5%和1%水平上显示统计显著性。协变量组定义见表2。</p>
<p>我们先来看看信贷增长。表3重现了我们的主要发现，但从一个简单的模型规范开始，只包括信贷/GDP的变化，然后用控制变量逐步饱和模型。在前两列中，信贷/GDP的变化系数为负（与文献中预期的相反，尽管与我们的上述事件分析一致），并且在一种情况下显著（第1列），但一旦将标准控制纳入模型中，它就会变为正且在统计上不显著。即使在第5列这样的更为饱和的模型中，我们也没有发现杠杆作用导致LIC财务不稳定的证据。鉴于上述对私人信贷衡量的担忧，我们采用以下方法复制相同的做法：（i）实际信贷增长(ii）M2/GDP的变化；以及（iii）实际M2增长。结果如表C-5所示，证实杠杆率的增加与银行业危机发生的可能性增加之间没有关联</p>
<p>接下来，我们看一看表4中考虑到财富和暴涨的信贷可能的非线性效应。注意，为了便于解释这些非线性以及连续的商品价格变量，我们在这里报告了原始logit结果，因此我们的讨论集中在符号和统计意义上。大宗商品价格的波动系数仍然非常稳定，但我们没有发现任何繁荣和萧条时期的迹象，这与事件研究分析中显示的情况一致。</p>
<p>注：所有估算均为RE Mundlak logit估算器的原始logit系数。括号内的绝对t值是基于国家一级的标准误差。我们将表1第（4）列中基准模型（或其原始logit等价物）的结果与信贷增长变量被财富或激增虚拟变量替换的一些规范进行了比较——这些虚拟模型的构造见正文和下文。像所有的解释变量一样，这些哑变量是MA（3）变换的。</p>
<p>定义：1sd–信贷/GDP增长比国家特定（HP过滤）趋势高出一个标准差的时期；2 sd–dto，但高于趋势的两个标准偏差（这仅确定了一个事件，因此未进行评估）；时间t–在时间t检测到激增；consec–在时间t - 1，t，和t+1检测到激增。财富分布在7个国家，分别在42个和37个国家的时间t和consec激增。</p>
<p>其他协变量组：“存款保险和危机哑变量”-存款保险，财政危机和货币危机哑变量，冲突哑变量；’银行体系——流动性、规模贸易、援助和资本流动——净外国资产、贸易开放度、对外援助/国民总收入的变化宏观和货币基本面–实际GDP增长、通货膨胀、储备/GDP、短期/总债务比率。</p>
<p>此外，与LIC主要经历金融深化过程的假设相一致，我们观察到，虽然激增的数量相对较大，但暴富的数量非常少：考虑1 SD阈值时，出现10片段（样本中国家年观测值的0.5%），只有一个繁荣（尼日利亚，2009年）的阈值为2 SD，后一个规范无法确定繁荣系数，因此我们省略了该规范的结果。</p>
<p>我们的研究结果并不排除大宗商品价格的剧烈变化在某些情况下可能会导致私人信贷的繁荣，从而引发银行业危机（如Shelton（1994）和Caprio and Klingebiel（1996a）分别讨论的1920年古巴危机和1985年肯尼亚危机），但它们并未表明这是发展中国家的系统特征。我们将缺乏证据证明LIC的信贷繁荣和萧条合理化，因为1980年代和1990年代发生的法律上的金融自由化浪潮并没有伴随着事实上的金融自由化，因为如图B-2所示，LIC的金融深化仍然受到抑制，信贷总量停滞不前；Reinhart和Tokattridis（2003）以及Gall等人（2004）讨论了非洲国家的类似证据。后者还认为，放松利率管制往往发生在银行业危机爆发之后，而不是之前，这是应对危机的一揽子政策的一部分。因此，国有银行和定向信贷，通常是公共部门的各个部分，而不是私人推动的信贷繁荣，是几个地方政府系统性危机的关键特征（Caprio和Klingebiel，1996a；Gall等人，2004）。我们将在第6.2节中回到公共部门的角色。</p>
<p>注：所报告的估算值为表1所示的经济震级。括号中的绝对t比率基于通过增量法计算的标准误差。∗, ∗ * 以及∗∗∗分别在10%、5%和1%水平上显示统计显著性。协变量组定义见表1</p>
<h3 id="43资本流入的作用"><a class="markdownIt-Anchor" href="#43资本流入的作用"></a> 4.3.资本流入的作用</h3>
<p>我们的主要研究结果表明，没有证据表明外国资产的变化是LIC银行业危机的预测因素。因此，这一结果与发达经济体和新兴经济体的证据不一致（Kaminsky和Reinhart，1999；Reinhart和Rogoff，2013年；Caballero，2016），我们通过观察资本流动和非线性效应的替代措施来扩展我们的分析。</p>
<p>首先，与杠杆率一样，我们从一个简单的规范开始，只包括净外国资产相对于GDP的变化，然后用控制变量逐步饱和模型。结果表明，即使在最基本的规范（第1列和第2列）中，外国净资产的变化也不能预测银行业危机（表5）。当使用资本流入的替代定义时，类似的发现也成立，这是以较小的样本量（我们舍弃了4次危机）为代价的，因为资本流入变量自1970年以来才可用，剔除流向公共部门的官方资金流（表C-6）。</p>
<p>第二，我们复制了针对私人信贷的财富和激增分析，考虑了净外国资产（基线规范中使用的变量）的变化和三个资本流入变量。表6（净外国资产和净资本流入的变化）和表C-7（总资本和非官方资本流入）报告了所有控制变量的基线模型规范的原始RE-Mundlak logit系数。与主要结果一致，所有这些额外的测试始终显示，无论资本流入的类型和定义这些事件的方式如何，高资本流入时期与银行业危机的可能性之间没有显著的正相关关系。特别是，即使使用私人（非官方）资本流入总额（不包括流向一般政府和货币当局以及货币基金组织贷款和储备资产积累），资本流入与低收入国家危机之间仍然缺乏积极关系。重要的是，大宗商品价格集团的波动系数保持稳定，并在所有规范中精确估计。</p>
<p>资本流入缺乏预测能力的一个可能解释与低收入国家金融自由化的经验和资本流入的类型有关。理论上，金融自由化可能会产生大量资本流入，并破坏银行的稳定，因为不知情的国际投资者理性地以低成本提供大量资金（Giannetti，2007）。然而，正如我们讨论金融深化时所示，法律上的金融自由化并未导致事实上的自由化和私人资本流入的增加（Calvo和Reinhart，1999），至少与20世纪80年代以来新兴市场的情况相比（图B-3），LIC的外部资产负债表构成与典型的新兴经济体截然不同。官方债务流动期限较长，通常针对政府，是LIC资本流入的关键组成部分（Lane，2015）。因此，它们不太可能干涉银行体系，也不会助长新兴市场普遍出现的繁荣和萧条周期。从这个意义上说，资本流入不是LIC国家银行危机的预测因子，这与私人信贷缺乏预测能力的结果是一致的。然而，我们的结果并不意味着资本流入必须被忽略。从历史上看，即使是穷国也能够利用资本市场，尤其是在长期的商品繁荣时期（Reinhart等人，2016），这一规律性有助于解释我们关于商品价格重要性的研究结果。最近，资本流入，特别是非外国直接投资流入在一些边缘的LIC国家有所增加，达到与新兴市场相当的水平（Lane，2015；Araujo等人，2017），这表明未来可能会出现比新兴市场更为典型的动态。</p>
<p>注：所有估算值均为RE Mundlak logit估算值的原始logit系数-其他协变量与表4相同。括号中的绝对t值基于国家一级的标准误差。在A组中，我们使用净外国资产变量，该变量具有完全覆盖范围（1963年至2015年），在B组中，我们使用净资本流动，其覆盖范围最多为1974年至2015年；（6）和（7）中的模型比较了在缩减样本中使用一种或另一种代理对我们商品价格变量的影响。关于激增和繁荣的定义，见表4（类似于信贷），如该表脚注所述，所有模型中都包含了额外的协变量组</p>
<h2 id="5历史证据"><a class="markdownIt-Anchor" href="#5历史证据"></a> 5.历史证据</h2>
<p>我们的基线分析涵盖了自1963年以来的大量LIC样本，但其缺点是只包含一个商品价格的长周期，该周期在21世纪初急剧上升，在GFC（全球金融危机）之后不久下降，然后在样本结束时开始下降（图1）。为了克服这一局限性并为我们的研究结果提供外部有效性，我们对1848年至1938年观察到的40个国家的历史样本进行了类似的分析，以补充这一证据（排除了1914年至1919年的大战及其直接后果）。用于构建历史样本的来源见附录A.2。</p>
<p>总之，我们的银行危机后，数据库由赖因哈特和罗戈夫（2009，更新2014），增加了替代来源的古巴，塞尔维亚和法国印度支那。商品总价格增长和波动性采用与主要分析中使用的方法相同的方法构建，年度数据为（i）世界贸易历史数据库中公布的国际商品价格（Federico和Tena Junguito，2019年），以及（ii）Blattman等人（2007年）的贸易权重，BHW）：每个商品的特定国家出口份额，我们在整个19世纪和20世纪的时间范围内平均到1938年。对于BHW未涵盖的十几个国家（如芬兰、巴拉圭、罗马尼亚），我们确定了替代来源。我们从包括Grossman（2010）在内的各种渠道收集关于商业银行出现的信息，并相应地限制我们的样本。</p>
<p>最后，我们对1848-1938年间的40个“外围”经济体进行了2749次观察：这些依赖大宗商品、价格上涨的经济体在整个时期的出口中所占主要份额中位数为0.98。我们样本中的平均国家有69年的数据。27个样本国家经历了91次银行业危机（见表A-4和A-5），尽管其中6次是在大战年代发生的，但我们的回归中忽略了这一点。全样本中每个国家（至少有一次危机的国家）的平均危机数为2.1（3.1），但有6个国家经历了5至9次危机。对数据的初步观察表明，历史样本中的银行业危机有时与主权债务危机有关，其中有12起银行业危机要么构成两起危机，要么在主权债务违约后立即发生，要么在持续的违约事件中开始（图B-4）。</p>
<p>我们将我们的基线分析调整到运行一组回归的历史样本，其中因变量是识别银行危机事件的虚拟变量。所有解释变量都转化为三年MAs，与我们的现代样本分析一样，表7-8报告了通过估计RE-Mundlak模型得到的解释变量（以百分比表示）增加1 SD的经济幅度。关键的解释变量是大宗商品价格国家的增长和生产力。表7第1-3列显示，大宗商品价格波动较大的时期与银行业危机的可能性较高有关，而大宗商品价格增长系数并不显著，正如现代LIC的基线分析所示。此外，当用主权债务危机的度量、全球资本流动周期峰值的指标和隔离金本位制的虚拟指标来增强模型时，这一结果成立。控制变量表明，银行业危机往往与主权违约有关，集中在资本流动周期的高峰期，在金本位时代更为频繁。</p>
<p>在表8中，我们添加了一组控制变量，这些变量与主要分析中包含的变量类似：GDP增长、M2相对于GDP的变化、通货膨胀、外汇储备、公共债务和政府收支（后三个变量表示为GDP的份额）。样本变得更短，因为这些变量，从Catão和Mano（2017年）除了通货膨胀（摘自Reinhart和Rogoff，2009年）外，仅从1870年开始提供。我们发现，虽然没有任何额外的控制措施影响银行危机的可能性，但它们的加入并没有改变商品价格波动系数的显著性。</p>
<p>商品价格波动的重要性与Blattman等人（2007年）讨论的历史证据一致，他们记录了1870年至1939年间贫困和依赖商品的国家的贸易条件波动与经济增长之间的强烈关联。此外，我们的结果与Eichengreen（2008年）一致，世卫组织认为，贸易条件的波动通过其对出口收入和资本流入减少的影响，助长了金本位期间发展中国家的金融危机。</p>
<p>注：所有估算值均为解释变量中一个标准差增加的经济幅度，以百分比表示。括号中的绝对t比，基于ReMundlak logit估计中的Delta方法计算的标准误差（反过来，标准误差基于国家一级的聚类）。∗, ∗∗ 以及∗∗∗分别在10%、5%和1%水平上显示统计显著性。这个样本名义上是1848-1938年，尽管我们在一个国家建立商业银行之前就放弃了观察。《大战年代》和《直接后果》（1914-19年）也不包括在样本中。†由于主权违约事件（其中41个）与持续违约年份（其中346年）之间的时间重叠，我们在这里使用未经解释的违约哑变量。‡该测试将所提出的模型与不包括两个商品价格变量的替代模型进行比较，前提是两个模型的AUROC统计数据相同。</p>
<h2 id="6传动机构"><a class="markdownIt-Anchor" href="#6传动机构"></a> 6.传动机构</h2>
<p>在确定了商品价格波动性是发展中国家银行业危机的一个主要指标之后，无论是在我们的现代样本还是历史样本中，我们扩展了我们的分析，以阐明商品价格可能引发金融不稳定的机制。首先，我们研究异质性的潜在来源，以了解一些国家是否更有可能受到大宗商品价格波动的影响。其次，我们测试大宗商品价格集团的波动是否会通过财政渠道影响金融部门的稳定。为此，我们研究了大宗商品价格与宏观经济财政总量（如政府收入和公共债务）之间的关系，这可能对银行的资产负债表产生负面影响。</p>
<h3 id="61横截面不均匀性"><a class="markdownIt-Anchor" href="#61横截面不均匀性"></a> 6.1.横截面不均匀性</h3>
<p>利用我们样本的横截面维度来检验大宗商品价格是否是所有低收入国家银行业危机的主要指标，或者，它们的影响仅限于某些特定的国家（“制度”）。出口篮子的构成以及汇率制度是进行分析的自然选择。</p>
<p>我们首先根据各国第一产业在GDP中的份额（Fouquin和Hugot，2016）将样本一分为二，并根据样本中值定义低和高制度；表9第2栏中的结果允许各国随着时间的推移处于不同的制度中，不过，如果我们使用时间一致的子样本，我们会获得质量上相同的结果。有关我们如何确定基准或制度类别中的国家成员的详细信息，请参见表脚注。我们发现，初级商品生产大国受到商品价格波动的显著影响，而该系数虽然为正，但对于基本类国家而言并不重要。这一发现符合这样一种直觉，即在更依赖初级产品的国家，波动性应该更为重要（Bleaney和Greenaway，2001年），并为（出口）多样化与发展进程早期阶段经济表现之间的积极关系提供了支持（Cadot等人，2011年）。</p>
<p>接下来，我们考虑汇率制度使用最近的分类ILZETZKI等人（2019），以分离灵活的固定制度和硬钉。与弹性汇率作为减震器的证据一致（Levy-Yeyati和Sturzenegger，2003；Edwards和Levy Yeyati，2005），我们发现商品价格波动只对固定汇率和硬钉住汇率的国家发生银行危机的可能性有影响（“制度”结果在统计上具有显著性），而其他国家（“基数”）可能能够利用汇率弹性，至少部分抵消商品价格带来的外部冲击（表9，第4栏和第5栏）。这一结果与20世纪80年代末非洲国家（非洲法郎区的一部分）为应对贸易条件冲击而出现的银行业危机相一致（Gall等人，2004年）</p>
<p>注：显示的所有估计值都是解释变量中一个标准差增加的经济幅度，以百分比表示。括号中的绝对t比率，基于RE Mundlak logit估计值通过Delta方法计算的标准误差（而标准误差又基于国家一级的聚类）。∗, ∗∗ 以及∗∗∗分别在10%、5%和1%水平上显示统计显著性。这个样本名义上是1871-1938年的，尽管我们在一个国家建立商业银行之前就放弃了观察。伟大的战争年代和直接后果（1914-1919年）也被排除在样本之外。第（1）列重新打印表7第（6）列的完整样本结果（1848-1938）。在第（3）-（7）列中，我们添加了来自Cat的附加控件ão和Mano（2017年）；由于数据可用性，1871-1938年的完整样本（其结果在第（2）列中报告）因此严重减少，损失了34-50%的观测值。表的最后一行显示了相同样本的商品价格变量的结果，不包括相应的附加协变量（但仍包括所有附加控制）。†由于主权违约事件（其中有41个）和持续违约年份（其中有346个）之间的时间重叠，我们在这里使用未转换的违约模型。</p>
<h3 id="62商品价格-政府收入和公共债务到期日"><a class="markdownIt-Anchor" href="#62商品价格-政府收入和公共债务到期日"></a> 6.2.商品价格、政府收入和公共债务到期日</h3>
<p>上一节讨论的结果表明，一些国家更容易受到商品价格波动的影响，但它们对机制相对沉默。对于出口商来说，波动性更大的价格可能转化为波动性更大的收入，这可能会通过增加不良贷款来应对负面冲击，从而降低银行资产质量。虽然我们无法直接测试这一渠道，但我们可以研究大宗商品价格集团波动性与政府收入和公共债务（包括其到期结构）之间的关联。</p>
<p>为了运行这些测试，我们在动态规范中采用了三种实现方式，我们选择了误差修正模型：动态双向固定效应（2FE）、集合平均群估计（PMG，Pesaran et al.，1999）以及在他们关于商品价格波动性的工作中引入该模型之后，Cavalcanti等人（2015）的共同相关效应集合平均群估计量（CPMG）。动态规范允许我们分离长期（水平）和短期（增长）效应，尽管我们在表10中的结果仅报告了前者（后者在统计学上基本不重要）。与集合固定效应模型不同，这两个PMG估计值并没有对所有国家的均衡关系施加相同的动力，而且考虑到水平上潜在的综合变量序列，否则会引起对虚假回归的担忧。CPMG与PMG的不同之处在于，它解决了面板中的横截面相关性，这种相关性可能是由于溢出效应或未观察到的具有不同国家间异质影响的共同冲击引起的。这一实施说明了表2中我们自己的CS-DM转型以及Cesa Bianchi等人（2019）在银行业危机背景下的工作。我们认为CPMG是我们的首选估计量。</p>
<p>注：我们提出了商品价格增长效应的边际效应（协变量的1sd增长），即GDP和ER制度中的高/低初级份额；对利润率的估计是直接可比的，政权集团的估计不偏离基本类别。（时变）“初级”制度是通过使用Fouquin和Hugot（2016）的数据，在高于初级产品在GDP中所占份额中位数的观察值来确定的——将样本划分为具有“高”和“低”初级GDP份额的国家，得出了质量相同的结果。固定与灵活汇率制度（时变）基于Ilzetzki等人（2019）。Ab-括号中的溶质t比率。∗, ∗∗ 以及∗∗∗分别在10%、5%和1%的水平上显示统计显著性（与零的差异）。第（3）列基于表1第（4）列中的首选结果，第（1）列和第（2）列的样本略有减少（没有COL和MMR的数据）。所有结果都是针对1963-2015年的现代样本。</p>
<p>表10第2列和第3列的结果表明，大宗商品价格国家资产价格波动性越高，政府收入越低。这种影响的程度是相当大的，因为商品价格波动性增加1个标准差与政府收入从平均19%下降约1个百分点有关（第3栏）。这种下降可能通过两个渠道影响银行的稳定。</p>
<p>注：我们估计了收入/GDP、公共债务/GDP和短期/总债务（均以百分比表示）的动态面板回归（误差修正规范），并报告了商品价格变量1 sd增长的长期估计以及误差修正期的（跨国平均）估计，‘EC（滞后）’。所采用的方法有：2FE-2路固定效应估计器；PMG-Pesaran等（1999）混合平均群估计；CPMG-Cavalcanti等人（2015年）《共同相关效应集合平均群估计》。所有变量都有1%的尾部。在所有结果集中，我们要求（为了CPMG的可行性和/或确保PMG/CPMG ML算法的收敛性），单个国家序列在1963-2015年期间至少有16个观测值。我们指出了修订样本所涵盖的银行业危机的数量。在表的最后一行中，我们报告了因变量的平均值，以将我们结果的经济量放在上下文中，例如，第9列意味着，在平均值为20.5%的短期公共债务总额中，大宗商品价格国家集团波动性增加一个标准差，这类债务将增加到27.1%左右。</p>
<p>首先，公共部门可能直接无法履行对银行系统的债务义务，它可能（或者可能）还开始拖欠供应商和承包商的款项，从而对银行的资产负债表产生第二轮影响。这一模式是许多危机的特征，如几内亚（1985年）科特迪瓦（1988年）和塞内加尔（1988年）的危机，贸易条件恶化导致公共部门拖欠商业银行的款项（Caprio和Klingebiel，1996a）。其次，财政收入的减少可能会迫使政府发行更多（短期）债务。在存在道德劝说和政府干预的情况下（Gall et al.，2004），银行将增加其持有的政府债务，使其资产负债表更易遭受主权风险，并提高银行业危机的概率（Balteanu和Erce，2018；Sosa Padilla，2018年）。与各国政府在大宗商品价格波动（以及政府收入下降）时期必须满足大量外部融资需求相一致，我们发现，各国承担了更多的外部公共债务（第6栏），而外部公共债务的构成转向了短期债务（第9栏）。后一种结果与危机期间新兴国家和发展中国家向短期借款的转变相一致，当时不确定性和信息不对称更大（Broner等人，2013；佩雷斯，2017）。</p>
<p>大宗商品价格向金融部门稳定传导的财政渠道的存在，得到了以下证据的支持：我们样本中的一些银行业危机发生在主权违约之后。图5显示，在一个国家违约的4年内，发生了6起（38起中的6起）银行业危机。更正式地说，我们估计了我们的基准模型，以明确测试长期主权违约是否是LIC中银行业危机的预测因子，并且我们发现了一个正的显著系数，而不管包含的控制变量是什么（表C-10）。33此外，这一结果与第5节所示的历史证据以及Borensztein和Panizza（2009）等人的研究结果一致。</p>
<h2 id="7结束语"><a class="markdownIt-Anchor" href="#7结束语"></a> 7.结束语</h2>
<p>杠杆作用和某种程度上的资本流入往往被视为金融不稳定和危机的关键驱动力。这一结论基于发达经济体和新兴市场的大量文献。我们建议，鉴于发展中国家不同的经济和金融结构，特别是金融体系规模有限（尽管1980年代出现了法律上的金融自由化浪潮），以及对官方资金流动的强烈依赖，同样的论点不能一对一地转移到发展中国家的情况下，至少在21世纪之前。因此，我们估计模型来预测LIC中的银行危机，并表明大宗商品价格波动是危机发生的关键驱动因素。</p>
<p>有广泛证据表明，LICs容易受到商品价格波动的影响，这可以解释产出波动的很大一部分。分析表明，商品价格变动对实体经济的影响，一个渠道是通过它们对金融稳定的影响。这对于主要商品生产和固定汇率制度国家尤其如此。此外，我们还为商品价格向金融稳定传导的财政渠道提供了依据。大宗商品价格波动性的上升与财政收入下降、公共债务增加和债务到期时间缩短有关，这可能会给银行的资产负债表带来进一步压力。此外，主权违约事件预测银行危机。</p>
<p>图5.LICs的银行和主权债务危机（1963-2015）。注：N=60个经济体。银行危机（BC）遵循Laeven和Valencia（2020）的定义，债务危机（DC）遵循Medas等人（2018）的定义。请注意，在柱状图中，我们对银行危机和债务危机使用了单独的轴，以改进呈现方式。我们只包括回归样本中的事件。我们强调“双重危机”的国家和年份。继财政危机之后还有两次银行业危机，但有5次危机发生在一个国家经历债务危机的4年之内。</p>
<p>总的来说，我们的分析表明，商品价格波动是为发展中国家设计EWS的一个关键因素，因为将其纳入有助于预测现代LIC以及依赖初级商品出口的“外围”经济体的历史样本中的银行业危机。我们认为，商品价格的脆弱性仍然是当今许多发展中国家面临的一个紧迫问题，而这种脆弱性迄今尚未转化为一波危机事件的事实，可能主要是由于过去20年商品价格稳定和居高不下的商品超级周期造成的。在这方面，2014年之后的大幅下滑和波动加剧已经转化为银行资产负债表恶化和困境。在这种环境下，COVID-19大流行性危机可能通过金融和商品市场的不确定性和波动性加剧，对发展中国家的金融体系造成进一步的压力（Altig等人，2020；Troster和Kublbock，2020年）。</p>
<p>最后，我们的研究结果显示，杠杆率和资本流入并没有系统地与银行业危机相关。这一结果与私人信贷和资本流入的弱动力是一致的，后者很少遵循繁荣-萧条的态势。这并不意味着可以忽略私人信贷和资本流入。过去的一些危机是在信贷繁荣之后发生的，向前看，能够进入国际资本市场和金融市场更加发达的边缘经济体也可能陷入新兴经济体和发达经济体常见的繁荣和萧条时期，有可能导致银行业危机。</p>
<p>代码：</p>
<pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;Table3
clear all
set mem 200m
set matsize 8000
set more off

global path &quot;C:&#x2F;Users&#x2F;Administrator&#x2F;Desktop&#x2F;data&quot;  &#x2F;&#x2F;路径
use &quot;$path&#x2F;EP_banking_crises_Modern.dta&quot;, clear

&#x2F;&#x2F; 移动平均滞后项
global malags &#x3D; 3 

quietly&#123;
* Set the sample 模型设定
reg bcrisis &#x2F;&#x2F;&#x2F;
	gr_y  dnfx &#x2F;&#x2F;&#x2F;
	dprice_nxy_mean &#x2F;&#x2F;&#x2F;
	gr_credit_gdp reserv_gdp inflation stdebt &#x2F;&#x2F;&#x2F;
	liquidity	size	oda2gni openness &#x2F;&#x2F;&#x2F;
	fcrisis ccrisis depins &#x2F;&#x2F;&#x2F;
	conflict dgs10 if ongoing&#x3D;&#x3D;0, vce(cluster IFS)
gen sample &#x3D; 1 if e(sample)

* Winsorise (non-dummy) data  缩尾处理;
local z &quot;dprice_nxy_mean sd_nxy_meanM gr_y dnfx  gr_credit_gdp reserv_gdp inflation stdebt liquidity size oda2gni openness&quot;
foreach k of local z&#123;
	winsor &#96;k&#39;, gen(&#96;k&#39;_w) p(0.01)
&#125;

* Moving average 移动平均
local z &quot;dprice_nxy_mean_w sd_nxy_meanM_w conflict gr_y_w dnfx_w gr_credit_gdp_w reserv_gdp_w inflation_w stdebt_w liquidity_w size_w oda2gni_w openness_w dgs10 depins fcrisis ccrisis bcrisis ongoing&quot;
foreach k of local z&#123;
	tsset IFS year
	tssmooth ma &#96;k&#39;ma&#x3D;&#96;k&#39;, window($malags 0 0)
&#125;

* Within averages (uncomment to include ongoing years) 组内平均
foreach x of varlist dprice_nxy_mean_wma sd_nxy_meanM_wma  gr_y_wma dnfx_wma gr_credit_gdp_wma reserv_gdp_wma inflation_wma stdebt_wma liquidity_wma	size_wma openness_wma oda2gni_wma dgs10ma conflictma depinsma fcrisisma ccrisisma bcrisisma ongoingma&#123;
	egen mn_&#96;x&#39; &#x3D; mean(&#96;x&#39;) if sample &#x3D;&#x3D; 1, by(IFS)
&#125;

&#125;

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;控制变量
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
global commodities		&quot;dprice_nxy_mean_wma sd_nxy_meanM_wma&quot;
global macro_ctrl 		&quot;gr_y_wma inflation_wma&quot;
global monetary_ctrl 	&quot;gr_credit_gdp_wma reserv_gdp_wma stdebt_wma&quot;
global banking_ctrl 	&quot;liquidity_wma size_wma&quot;
global capaidflows_ctrl &quot;dnfx_wma oda2gni_wma openness_wma&quot;
global other_ctrl 		&quot;conflictma depinsma ccrisisma fcrisisma dgs10ma&quot;

global mn_commodities		&quot;mn_dprice_nxy_mean_wma mn_sd_nxy_meanM_wma&quot;
global mn_macro_ctrl 		&quot;mn_gr_y_wma mn_inflation_wma&quot;
global mn_monetary_ctrl 	&quot;mn_gr_credit_gdp_wma mn_reserv_gdp_wma mn_stdebt_wma&quot;
global mn_banking_ctrl 		&quot;mn_liquidity_wma mn_size_wma&quot;
global mn_capaidflows_ctrl 	&quot;mn_dnfx_wma mn_oda2gni_wma mn_openness_wma&quot;
global mn_other_ctrl 		&quot;mn_conflictma mn_depinsma mn_ccrisisma mn_fcrisisma&quot;


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;样本调整
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 1 * 危机正在发生的调整
replace sample&#x3D;0 if ongoing&#x3D;&#x3D;1

&#x2F;*先估计最复杂的模型*&#x2F;
eststo: xtcloglog bcrisis  &#x2F;&#x2F;&#x2F;
	$commodities  &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	$mn_commodities  &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS)

replace sample&#x3D;0 if !e(sample)

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;主要回归结果
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;

local i &#x3D; 1 &#x2F;&#x2F;回归结果计数器
estimates clear

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F; 1 Credit growth baseline w&#x2F; minimal controls (RE-Mundlak)
&#x2F;&#x2F; 1 信贷增长基准模型 
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	gr_credit_gdp_wma &#x2F;&#x2F;&#x2F;
	$other_ctrl &#x2F;&#x2F;&#x2F;
	mn_gr_credit_gdp_wma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(gr_credit_gdp_wma) post &#x2F;&#x2F;可以使用 margins, dydx(varlist) 估计变量的(事后post)边际效应
est store model&#96;i&#39;b

local i &#x3D; &#96;i&#39; + 1

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 2 * Credit growth baseline add banking vars (RE-Mundlak)
&#x2F;&#x2F; 2 信贷增长基准模型，加入银行变量

eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	gr_credit_gdp_wma &#x2F;&#x2F;&#x2F;
	$banking_ctrl $other_ctrl &#x2F;&#x2F;&#x2F;
	mn_gr_credit_gdp_wma &#x2F;&#x2F;&#x2F;
	$mn_banking_ctrl $mn_other_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(gr_credit_gdp_wma) post &#x2F;&#x2F;可以使用 margins, dydx(varlist) 估计变量的(事后post)边际效应
est store model&#96;i&#39;b

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 3 * As previous but add macro and monetary controls (RE-Mundlak)
&#x2F;&#x2F; 3 在先前模型加入宏观和货币控制变量
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$monetary_ctrl inflation_wma &#x2F;&#x2F;&#x2F;
	$banking_ctrl $other_ctrl &#x2F;&#x2F;&#x2F;
	$mn_monetary_ctrl mn_inflation_wma &#x2F;&#x2F;&#x2F;
	$mn_banking_ctrl $mn_other_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx($monetary_ctrl inflation_wma) post &#x2F;&#x2F;可以使用 margins, dydx(varlist) 估计变量的(事后post)边际效应
est store model&#96;i&#39;b

local i &#x3D; &#96;i&#39; + 1

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 4 * As previous but add growth, net capital and aid flows  (RE-Mundlak)
&#x2F;&#x2F; 4 加入增长，净资本和国际援助流入
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$monetary_ctrl $macro_ctrl &#x2F;&#x2F;&#x2F;
	$banking_ctrl $other_ctrl $capaidflows_ctrl  &#x2F;&#x2F;&#x2F;
	$mn_monetary_ctrl $mn_macro_ctrl &#x2F;&#x2F;&#x2F;
	$mn_banking_ctrl $mn_other_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx($monetary_ctrl $macro_ctrl $capaidflows_ctrl) post &#x2F;&#x2F;可以使用 margins, dydx(varlist) 估计变量的(事后post)边际效应
est store model&#96;i&#39;b

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 5 * &#39;Full model&#39; 
&#x2F;&#x2F; 5 完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities &#x2F;&#x2F;&#x2F;
	$monetary_ctrl $macro_ctrl &#x2F;&#x2F;&#x2F;
	$banking_ctrl $other_ctrl $capaidflows_ctrl  &#x2F;&#x2F;&#x2F;
	$mn_commodities &#x2F;&#x2F;&#x2F;
	$mn_monetary_ctrl $mn_macro_ctrl &#x2F;&#x2F;&#x2F;
	$mn_banking_ctrl $mn_other_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_clust)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx($commodities $monetary_ctrl $macro_ctrl $capaidflows_ctrl) post
est store model&#96;i&#39;b

&#x2F;*变量展示*&#x2F;
label var gr_y_wma &quot;Real GDP growth&quot; 
label var gr_credit_gdp_wma &quot;Change in credit&#x2F;GDP&quot;
label var reserv_gdp_wma &quot;Reserves&#x2F;GDP&quot;
label var stdebt_wma &quot;Short-term&#x2F;Total Public debt&quot;
label var inflation_wma &quot;Inflation&quot; 
label var dnfx_wma &quot;Change in Net Foreign Assets&quot; 
label var oda2gni_wma &quot;Foreign Aid&#x2F;GNI&quot; 
label var openness_wma &quot;Trade Openness&quot;
label var depinsma &quot;Deposit insurance&quot;
label var ccrisisma &quot;Currency Crisis&quot;
label var fcrisisma &quot;Fiscal Crisis&quot;
label var dgs10ma &quot;Risk-free rate&quot;
label var dprice_nxy_mean_wma &quot;Commodity Price Growth&quot;
label var sd_nxy_meanM_wma &quot;Commodity Price Volatility&quot;
label var liquidity_wma &quot;Liquidity&quot;
label var size_wma &quot;Size&quot;


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F; 在csv文件中展示结果 
local mytitle &quot;Banking crises in LICs. RE-Mundlak &amp; Logit models&quot;
local esttabformat  &quot;nodepvars lines compress label nogaps numbers star(* 0.10  0.05 * 0.01) staraux&quot;
local esttabstats &quot;stats(Obs Countries Crises LogL AUROC seAUROC WaldChi2 WaldPval, fmt(0 0 0 2 3 3 2 3))&quot;
local esttabkeep &quot;keep($commodities gr_y_wma gr_credit_gdp_wma reserv_gdp_wma stdebt_wma inflation_wma dnfx_wma oda2gni_wma openness_wma) order($commodities gr_y_wma gr_credit_gdp_wma reserv_gdp_wma stdebt_wma inflation_wma dnfx_wma oda2gni_wma openness_wma)&quot;
esttab model1 model2 model3 model4 model5 model1b model2b model3b model4b model5b using &quot;$path&#x2F;表3.csv&quot;, b(6) t(2) abs &#x2F;&#x2F;&#x2F;
	&#96;esttabformat&#39; &#96;esttabkeep&#39; &#96;esttabstats&#39; style(tab) replace nodep



&#x2F;&#x2F;table 4
clear all
set mem 200m
set matsize 8000
set more off

global path &quot;C:&#x2F;Users&#x2F;Administrator&#x2F;Desktop&#x2F;data&quot;  &#x2F;&#x2F;路径
use &quot;$path&#x2F;EP_banking_crises_Modern.dta&quot;, clear

&#x2F;&#x2F; 移动平均滞后项
global malags &#x3D; 3 

quietly&#123;
* Set the sample 模型设定
reg bcrisis &#x2F;&#x2F;&#x2F;
	gr_y  dnfx &#x2F;&#x2F;&#x2F;
	dprice_nxy_mean &#x2F;&#x2F;&#x2F;
	gr_credit_gdp reserv_gdp inflation stdebt &#x2F;&#x2F;&#x2F;
	liquidity	size	oda2gni openness &#x2F;&#x2F;&#x2F;
	fcrisis ccrisis depins &#x2F;&#x2F;&#x2F;
	conflict dgs10 if ongoing&#x3D;&#x3D;0, vce(cluster IFS)
gen sample &#x3D; 1 if e(sample)

* Winsorise (non-dummy) data  缩尾处理;
local z &quot;dprice_nxy_mean sd_nxy_meanM gr_y dnfx  gr_credit_gdp reserv_gdp inflation stdebt liquidity size oda2gni openness&quot;
foreach k of local z&#123;
	winsor &#96;k&#39;, gen(&#96;k&#39;_w) p(0.01)
&#125;

* Moving average 移动平均
local z &quot;dprice_nxy_mean_w sd_nxy_meanM_w conflict gr_y_w dnfx_w gr_credit_gdp_w reserv_gdp_w inflation_w stdebt_w liquidity_w size_w oda2gni_w openness_w dgs10 depins fcrisis ccrisis bcrisis ongoing credit_gdp_surge1 credit_gdp_surge2 credit_gdp_bonanza_1sd credit_gdp_bonanza_2sd&quot;
foreach k of local z&#123;
	tsset IFS year
	tssmooth ma &#96;k&#39;ma&#x3D;&#96;k&#39;, window($malags 0 0)
&#125;

* Within averages (uncomment to include ongoing years) 组内平均
foreach x of varlist dprice_nxy_mean_wma sd_nxy_meanM_wma  gr_y_wma dnfx_wma gr_credit_gdp_wma reserv_gdp_wma inflation_wma stdebt_wma liquidity_wma	size_wma openness_wma oda2gni_wma dgs10ma conflictma depinsma fcrisisma ccrisisma bcrisisma ongoingma credit_gdp_surge1ma credit_gdp_surge2ma credit_gdp_bonanza_1sdma credit_gdp_bonanza_2sdma&#123;
	egen mn_&#96;x&#39; &#x3D; mean(&#96;x&#39;) if sample &#x3D;&#x3D; 1, by(IFS)
&#125;

&#125;

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;控制变量
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
global commodities		&quot;dprice_nxy_mean_wma sd_nxy_meanM_wma&quot;
global macro_ctrl 		&quot;gr_y_wma inflation_wma&quot;
global monetary_ctrl 	&quot;gr_credit_gdp_wma reserv_gdp_wma stdebt_wma&quot;
global monetary_ctrl2 	&quot;reserv_gdp_wma stdebt_wma&quot;
global banking_ctrl 	&quot;liquidity_wma size_wma&quot;
global capaidflows_ctrl &quot;dnfx_wma oda2gni_wma openness_wma&quot;
global other_ctrl 		&quot;conflictma depinsma ccrisisma fcrisisma dgs10ma&quot;

global mn_commodities		&quot;mn_dprice_nxy_mean_wma mn_sd_nxy_meanM_wma&quot;
global mn_macro_ctrl 		&quot;mn_gr_y_wma mn_inflation_wma&quot;
global mn_monetary_ctrl 	&quot;mn_gr_credit_gdp_wma mn_reserv_gdp_wma mn_stdebt_wma&quot;
global mn_monetary_ctrl2 	&quot;mn_reserv_gdp_wma mn_stdebt_wma&quot;
global mn_banking_ctrl 		&quot;mn_liquidity_wma mn_size_wma&quot;
global mn_capaidflows_ctrl 	&quot;mn_dnfx_wma mn_oda2gni_wma mn_openness_wma&quot;
global mn_other_ctrl 		&quot;mn_conflictma mn_depinsma mn_ccrisisma mn_fcrisisma&quot;

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;样本调整
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;*危机正在发生的调整*&#x2F;
replace sample&#x3D;0 if ongoing&#x3D;&#x3D;1

&#x2F;*先估计最复杂的模型*&#x2F;
eststo: xtcloglog bcrisis  &#x2F;&#x2F;&#x2F;
	$commodities  &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	$mn_commodities  &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS)

replace sample&#x3D;0 if !e(sample)

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;主要回归结果
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;

local i &#x3D; 1 &#x2F;&#x2F;回归结果计数器
estimates clear



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 1 * &#39;Full model&#39;  (RE-Mundlak)
&#x2F;&#x2F; 1 完整模型
 eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	$mn_commodities &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(credit_gdp_bonanza_1sdma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 2 * &#39;Full model&#39; with Bonanza indicator (credit_gdp) (RE-Mundlak)
&#x2F;&#x2F; 2 包括Bonanza指标（credit_gdp）的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities credit_gdp_bonanza_1sdma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_credit_gdp_bonanza_1sdma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(credit_gdp_bonanza_1sdma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 3 * &#39;Full model&#39; with Bonanza indicator (credit_gdp) but without credit&#x2F;GDP (RE-Mundlak)
&#x2F;&#x2F; 3 包括Bonanza指标（credit_gdp）但不包括信贷产出比（信贷&#x2F;GDP）的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities credit_gdp_bonanza_1sdma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl2 $macro_ctrl $capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_credit_gdp_bonanza_1sdma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl2 $mn_macro_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(credit_gdp_bonanza_1sdma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 4 * &#39;Full model&#39; (RE-Mundlak)
&#x2F;&#x2F; 4 完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	$mn_commodities &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(credit_gdp_surge1ma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 5 * &#39;Full model&#39; with Surge indicator (credit_gdp) (RE-Mundlak)
&#x2F;&#x2F; 5 包括Surge指标(credit_gdp)的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities credit_gdp_surge1ma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_credit_gdp_surge1ma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(credit_gdp_surge1ma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 6 * &#39;Full model&#39; with Surge indicator (credit_gdp) but without credit&#x2F;GDP (RE-Mundlak)
&#x2F;&#x2F; 6 包括Surge指标(credit_gdp)但不包括信贷产出比（信贷&#x2F;GDP）的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities credit_gdp_surge1ma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl2 $macro_ctrl $capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_credit_gdp_surge1ma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl2 $mn_macro_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(credit_gdp_surge1ma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 7 * &#39;Full model&#39; with consec surge indicator (credit_gdp) (RE-Mundlak) (consecutive surges 连续surge)
&#x2F;&#x2F; 7 包括持续Surge指标(credit_gdp)的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities credit_gdp_surge2ma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_credit_gdp_surge2ma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(credit_gdp_surge2ma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 8 * &#39;Full model&#39; with consec surge indicator (credit_gdp) but without credit&#x2F;GDP (RE-Mundlak)
&#x2F;&#x2F; 8 包括持续Surge指标(credit_gdp)但不包括信贷产出比（信贷&#x2F;GDP）的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities credit_gdp_surge2ma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl2 $macro_ctrl $capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_credit_gdp_surge2ma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl2 $mn_macro_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(credit_gdp_surge2ma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;



&#x2F;*变量展示*&#x2F;
label var gr_credit_gdp_wma &quot;Change in credit&#x2F;GDP&quot;
label var dprice_nxy_mean_wma &quot;Commodity Price Growth&quot;
label var sd_nxy_meanM_wma &quot;Commodity Price Volatility&quot;
label var credit_gdp_surge1ma &quot;Credit Surge (i)&quot;
label var credit_gdp_surge2ma &quot;Credit Surge (ii)&quot;
label var credit_gdp_bonanza_1sdma  &quot;Credit Bonanza (1sd)&quot;


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F; 在csv文件中展示结果 
local mytitle &quot;Banking crises in LICs. RE-Mundlak &amp; Logit models&quot;
local esttabformat  &quot;nodepvars lines compress label nogaps numbers star(* 0.10  0.05 * 0.01) staraux&quot;
local esttabstats &quot;stats(Obs Countries Crises LogL AUROC seAUROC WaldChi2 WaldPval, fmt(0 0 0 2 3 3 2 3))&quot;
local esttabkeep &quot;keep($commodities gr_credit_gdp_wma credit_gdp_surge1ma credit_gdp_surge2ma  credit_gdp_bonanza_1sdma) order($commodities gr_credit_gdp_wma credit_gdp_bonanza_1sdma credit_gdp_surge1ma credit_gdp_surge2ma)&quot;
esttab model1 model2 model3 model4 model5 model6 model7 model8 using &quot;$path&#x2F;表4.csv&quot;, b(3) t(2) abs &#x2F;&#x2F;&#x2F;
	&#96;esttabformat&#39; &#96;esttabkeep&#39; &#96;esttabstats&#39; style(tab) replace nodep


&#x2F;&#x2F;table5
clear all
set mem 200m
set matsize 8000
set more off

global path &quot;C:&#x2F;Users&#x2F;Administrator&#x2F;Desktop&#x2F;data&quot;  &#x2F;&#x2F;路径
use &quot;$path&#x2F;EP_banking_crises_Modern.dta&quot;, clear

&#x2F;&#x2F; 移动平均滞后项
global malags &#x3D; 3 

quietly&#123;
* Set the sample 模型设定
reg bcrisis &#x2F;&#x2F;&#x2F;
	gr_y  dnfx &#x2F;&#x2F;&#x2F;
	dprice_nxy_mean &#x2F;&#x2F;&#x2F;
	gr_credit_gdp reserv_gdp inflation stdebt &#x2F;&#x2F;&#x2F;
	liquidity	size	oda2gni openness &#x2F;&#x2F;&#x2F;
	fcrisis ccrisis depins &#x2F;&#x2F;&#x2F;
	conflict dgs10 if ongoing&#x3D;&#x3D;0, vce(cluster IFS)
gen sample &#x3D; 1 if e(sample)

* Winsorise (non-dummy) data  缩尾处理;
local z &quot;dprice_nxy_mean sd_nxy_meanM gr_y dnfx  gr_credit_gdp reserv_gdp inflation stdebt liquidity size oda2gni openness&quot;
foreach k of local z&#123;
	winsor &#96;k&#39;, gen(&#96;k&#39;_w) p(0.01)
&#125;

* Moving average 移动平均
local z &quot;dprice_nxy_mean_w sd_nxy_meanM_w conflict gr_y_w dnfx_w gr_credit_gdp_w reserv_gdp_w inflation_w stdebt_w liquidity_w size_w oda2gni_w openness_w dgs10 depins fcrisis ccrisis bcrisis ongoing&quot;
foreach k of local z&#123;
	tsset IFS year
	tssmooth ma &#96;k&#39;ma&#x3D;&#96;k&#39;, window($malags 0 0)
&#125;

* Within averages (uncomment to include ongoing years) 组内平均
foreach x of varlist dprice_nxy_mean_wma sd_nxy_meanM_wma  gr_y_wma dnfx_wma gr_credit_gdp_wma reserv_gdp_wma inflation_wma stdebt_wma liquidity_wma	size_wma openness_wma oda2gni_wma dgs10ma conflictma depinsma fcrisisma ccrisisma bcrisisma ongoingma&#123;
	egen mn_&#96;x&#39; &#x3D; mean(&#96;x&#39;) if sample &#x3D;&#x3D; 1, by(IFS)
&#125;

&#125;

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;控制变量
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
global commodities		&quot;dprice_nxy_mean_wma sd_nxy_meanM_wma&quot;
global macro_ctrl 		&quot;gr_y_wma inflation_wma&quot;
global monetary_ctrl 	&quot;gr_credit_gdp_wma reserv_gdp_wma stdebt_wma&quot;
global banking_ctrl 	&quot;liquidity_wma size_wma&quot;
global capaidflows_ctrl &quot;oda2gni_wma openness_wma&quot;
global other_ctrl 		&quot;conflictma depinsma ccrisisma fcrisisma dgs10ma&quot;

global mn_commodities		&quot;mn_dprice_nxy_mean_wma mn_sd_nxy_meanM_wma&quot;
global mn_macro_ctrl 		&quot;mn_gr_y_wma mn_inflation_wma&quot;
global mn_monetary_ctrl 	&quot;mn_gr_credit_gdp_wma mn_reserv_gdp_wma mn_stdebt_wma&quot;
global mn_banking_ctrl 		&quot;mn_liquidity_wma mn_size_wma&quot;
global mn_capaidflows_ctrl 	&quot;mn_oda2gni_wma mn_openness_wma&quot;
global mn_other_ctrl 		&quot;mn_conflictma mn_depinsma mn_ccrisisma mn_fcrisisma&quot;


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;样本调整
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;*危机正在发生的调整*&#x2F;
replace sample&#x3D;0 if ongoing&#x3D;&#x3D;1

&#x2F;*先估计最复杂的模型*&#x2F;
eststo: xtcloglog bcrisis  &#x2F;&#x2F;&#x2F;
	$commodities  &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	$mn_commodities  &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS)

replace sample&#x3D;0 if !e(sample)

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;主要回归结果
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;

local i &#x3D; 1 &#x2F;&#x2F;回归结果计数器
estimates clear



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 1 * Change in NFA baseline w&#x2F; minimal controls (RE-Mundlak)
&#x2F;&#x2F; 1 NFA（外国净资产）变动的基准模型 
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	dnfx_wma &#x2F;&#x2F;&#x2F;
	$other_ctrl &#x2F;&#x2F;&#x2F;
	mn_dnfx_wma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(dnfx_wma) post
est store model&#96;i&#39;b

local i &#x3D; &#96;i&#39; + 1

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 2 * Change in NFA baseline add banking vars (RE-Mundlak)
&#x2F;&#x2F; 2 加入银行变量FA（外国净资产）变动的基准模型 
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	dnfx_wma &#x2F;&#x2F;&#x2F;
	$banking_ctrl $other_ctrl &#x2F;&#x2F;&#x2F;
	mn_dnfx_wma &#x2F;&#x2F;&#x2F;
	$mn_banking_ctrl $mn_other_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(dnfx_wma) post
est store model&#96;i&#39;b

local i &#x3D; &#96;i&#39; + 1



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 3 * As previous but add macro and monetary controls (RE-Mundlak)
&#x2F;&#x2F; 3 在先前模型加入宏观和货币控制变量
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	dnfx_wma &#x2F;&#x2F;&#x2F;
	$monetary_ctrl inflation_wma &#x2F;&#x2F;&#x2F;
	$banking_ctrl $other_ctrl &#x2F;&#x2F;&#x2F;
	mn_dnfx_wma &#x2F;&#x2F;&#x2F;
	$mn_monetary_ctrl mn_inflation_wma &#x2F;&#x2F;&#x2F;
	$mn_banking_ctrl $mn_other_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(dnfx_wma $monetary_ctrl inflation_wma) post
est store model&#96;i&#39;b

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 4 * As previous but add growth, net capital and aid flows  (RE-Mundlak)
&#x2F;&#x2F; 4 加入增长，净资本和国际援助流入
eststo: xtcloglog bcrisis dnfx_wma &#x2F;&#x2F;&#x2F;
	$monetary_ctrl $macro_ctrl &#x2F;&#x2F;&#x2F;
	$banking_ctrl $other_ctrl $capaidflows_ctrl  &#x2F;&#x2F;&#x2F;
	$mn_monetary_ctrl $mn_macro_ctrl mn_dnfx_wma &#x2F;&#x2F;&#x2F;
	$mn_banking_ctrl $mn_other_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(dnfx_wma $monetary_ctrl $macro_ctrl $capaidflows_ctrl) post
est store model&#96;i&#39;b

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 5 * &#39;Full model&#39; 
&#x2F;&#x2F; 5 完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities dnfx_wma &#x2F;&#x2F;&#x2F;
	$monetary_ctrl $macro_ctrl &#x2F;&#x2F;&#x2F;
	$banking_ctrl $other_ctrl $capaidflows_ctrl  &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_dnfx_wma &#x2F;&#x2F;&#x2F;
	$mn_monetary_ctrl $mn_macro_ctrl &#x2F;&#x2F;&#x2F;
	$mn_banking_ctrl $mn_other_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_clust)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(dnfx_wma $commodities $monetary_ctrl $macro_ctrl $capaidflows_ctrl) post
est store model&#96;i&#39;b



&#x2F;*变量展示*&#x2F;
label var gr_y_wma &quot;Real GDP growth&quot; 
label var gr_credit_gdp_wma &quot;Change in credit&#x2F;GDP&quot;
label var reserv_gdp_wma &quot;Reserves&#x2F;GDP&quot;
label var stdebt_wma &quot;Short-term&#x2F;Total Public debt&quot;
label var inflation_wma &quot;Inflation&quot; 
label var dnfx_wma &quot;Change in Net Foreign Assets&quot; 
label var oda2gni_wma &quot;Foreign Aid&#x2F;GNI&quot; 
label var openness_wma &quot;Trade Openness&quot;
label var depinsma &quot;Deposit insurance&quot;
label var ccrisisma &quot;Currency Crisis&quot;
label var fcrisisma &quot;Fiscal Crisis&quot;
label var dgs10ma &quot;Risk-free rate&quot;
label var dprice_nxy_mean_wma &quot;Commodity Price Growth&quot;
label var sd_nxy_meanM_wma &quot;Commodity Price Volatility&quot;
label var liquidity_wma &quot;Liquidity&quot;
label var size_wma &quot;Size&quot;


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F; 在csv文件中展示结果 
local mytitle &quot;Banking crises in LICs. RE-Mundlak &amp; Logit models&quot;
local esttabformat  &quot;nodepvars lines compress label nogaps numbers star(* 0.10  0.05 * 0.01) staraux&quot;
local esttabstats &quot;stats(Obs Countries Crises LogL AUROC seAUROC WaldChi2 WaldPval, fmt(0 0 0 2 3 3 2 3))&quot;
local esttabkeep &quot;keep($commodities gr_y_wma gr_credit_gdp_wma reserv_gdp_wma stdebt_wma inflation_wma dnfx_wma oda2gni_wma openness_wma) order($commodities gr_y_wma gr_credit_gdp_wma reserv_gdp_wma stdebt_wma inflation_wma dnfx_wma oda2gni_wma openness_wma)&quot;
esttab model1 model2 model3 model4 model5 model1b model2b model3b model4b model5b using &quot;$path&#x2F;表5.csv&quot;, b(6) t(2) abs &#x2F;&#x2F;&#x2F;
	&#96;esttabformat&#39; &#96;esttabkeep&#39; &#96;esttabstats&#39; style(tab) replace nodep


&#x2F;&#x2F;table6
&#x2F;&#x2F;
&#x2F;&#x2F;Panel A NFA bonanzas and surges
&#x2F;&#x2F;

clear all
set mem 200m
set matsize 8000
set more off

global path &quot;C:&#x2F;Users&#x2F;Administrator&#x2F;Desktop&#x2F;data&quot;  &#x2F;&#x2F;路径
use &quot;$path&#x2F;EP_banking_crises_Modern.dta&quot;, clear

&#x2F;&#x2F; 移动平均滞后项
global malags &#x3D; 3 

quietly&#123;
* Set the sample 模型设定
reg bcrisis &#x2F;&#x2F;&#x2F;
	gr_y  dnfx &#x2F;&#x2F;&#x2F;
	dprice_nxy_mean &#x2F;&#x2F;&#x2F;
	gr_credit_gdp reserv_gdp inflation stdebt &#x2F;&#x2F;&#x2F;
	liquidity	size	oda2gni openness &#x2F;&#x2F;&#x2F;
	fcrisis ccrisis depins &#x2F;&#x2F;&#x2F;
	conflict dgs10 if ongoing&#x3D;&#x3D;0, vce(cluster IFS)
gen sample &#x3D; 1 if e(sample)

* Winsorise (non-dummy) data  缩尾处理;
local z &quot;dprice_nxy_mean sd_nxy_meanM gr_y dnfx  gr_credit_gdp reserv_gdp inflation stdebt liquidity size oda2gni openness&quot;
foreach k of local z&#123;
	winsor &#96;k&#39;, gen(&#96;k&#39;_w) p(0.01)
&#125;

* Moving average 移动平均
local z &quot;dprice_nxy_mean_w sd_nxy_meanM_w conflict gr_y_w dnfx_w gr_credit_gdp_w reserv_gdp_w inflation_w stdebt_w liquidity_w size_w oda2gni_w openness_w dgs10 depins fcrisis ccrisis bcrisis ongoing dnfx_bonanza_1sd dnfx_bonanza_2sd dnfx_surge1 dnfx_surge2&quot;
foreach k of local z&#123;
	tsset IFS year
	tssmooth ma &#96;k&#39;ma&#x3D;&#96;k&#39;, window($malags 0 0)
&#125;

* Within averages (uncomment to include ongoing years) 组内平均
foreach x of varlist dprice_nxy_mean_wma sd_nxy_meanM_wma  gr_y_wma dnfx_wma gr_credit_gdp_wma reserv_gdp_wma inflation_wma stdebt_wma liquidity_wma	size_wma openness_wma oda2gni_wma dgs10ma conflictma depinsma fcrisisma ccrisisma bcrisisma ongoingma dnfx_bonanza_1sdma dnfx_bonanza_2sdma dnfx_surge1ma dnfx_surge2ma&#123;
	egen mn_&#96;x&#39; &#x3D; mean(&#96;x&#39;) if sample &#x3D;&#x3D; 1, by(IFS)
&#125;

&#125;

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;Bonanza &amp; Surge 计数
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
tabstat dnfx_surge1 dnfx_surge2 dnfx_bonanza_1sd dnfx_bonanza_2sd &#x2F;&#x2F;&#x2F;
if sample&#x3D;&#x3D;1, statistics(sum N) columns(statistics) 


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;控制变量
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
global commodities			&quot;dprice_nxy_mean_wma sd_nxy_meanM_wma&quot;
global macro_ctrl 			&quot;gr_y_wma inflation_wma&quot;
global monetary_ctrl 		&quot;gr_credit_gdp_wma reserv_gdp_wma stdebt_wma&quot;
global banking_ctrl 		&quot;liquidity_wma size_wma&quot;
global capaidflows_ctrl_b 	&quot;dnfx_wma oda2gni_wma openness_wma&quot;
global capaidflows_ctrl_c 	&quot;oda2gni_wma openness_wma&quot;
global other_ctrl 			&quot;conflictma depinsma ccrisisma fcrisisma dgs10ma&quot;

global mn_commodities		&quot;mn_dprice_nxy_mean_wma mn_sd_nxy_meanM_wma&quot;
global mn_macro_ctrl 		&quot;mn_gr_y_wma mn_inflation_wma&quot;
global mn_monetary_ctrl 	&quot;mn_gr_credit_gdp_wma mn_reserv_gdp_wma mn_stdebt_wma&quot;
global mn_banking_ctrl 		&quot;mn_liquidity_wma mn_size_wma&quot;
global mn_capaidflows_ctrl_b &quot;mn_dnfx_wma mn_oda2gni_wma mn_openness_wma&quot;
global mn_capaidflows_ctrl_c &quot;mn_oda2gni_wma mn_openness_wma&quot;
global mn_other_ctrl 		&quot;mn_conflictma mn_depinsma mn_ccrisisma mn_fcrisisma&quot;



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;主要回归结果
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;

local i &#x3D; 1 &#x2F;&#x2F;回归结果计数器
estimates clear



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 1 * &#39;Full model&#39; with NFA  (RE-Mundlak)
&#x2F;&#x2F; 1 包括NFA（国外资本净流入）的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl_b &#x2F;&#x2F;&#x2F;
	$mn_commodities &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl_b &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 2 * &#39;Full model&#39; with Bonanza indicator (i)  (RE-Mundlak)
&#x2F;&#x2F; 2 包括 Bonanza indicator (i)的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities dnfx_bonanza_1sdma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_dnfx_bonanza_1sdma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(dnfx_wma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 3 * &#39;Full model&#39; with Bonanza indicator (ii)  (RE-Mundlak)
&#x2F;&#x2F; 3 包括 Bonanza indicator (ii)的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities dnfx_bonanza_2sdma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_dnfx_bonanza_2sdma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(dnfx_wma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 4 * &#39;Full model&#39; with Surge indicator (i)  (RE-Mundlak)
&#x2F;&#x2F; 4 包括 surge indicator (i)的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities dnfx_surge1ma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_dnfx_surge1ma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(dnfx_wma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 5 * &#39;Full model&#39; with Surge indicator (ii)  (RE-Mundlak)
&#x2F;&#x2F; 5  包括 surge indicator (ii)的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities dnfx_surge2ma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_dnfx_surge2ma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(dnfx_wma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;


&#x2F;*变量展示*&#x2F;



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F; 在csv文件中展示结果 
local mytitle &quot;Banking crises in LICs. RE-Mundlak &amp; Logit models&quot;
local esttabformat  &quot;nodepvars lines compress label nogaps numbers star(* 0.10  0.05 * 0.01) staraux&quot;
local esttabstats &quot;stats(Obs Countries Crises LogL AUROC seAUROC WaldChi2 WaldPval, fmt(0 0 0 2 3 3 2 3))&quot;
local esttabkeep &quot;keep($commodities dnfx_wma dnfx_surge1ma dnfx_surge2ma dnfx_bonanza_1sdma dnfx_bonanza_2sdma) order($commodities dnfx_wma dnfx_surge1ma dnfx_surge2ma dnfx_bonanza_1sdma dnfx_bonanza_2sdma)&quot;
esttab model1 model2 model3 model4 model5 using &quot;$path&#x2F;表6A.csv&quot;, b(3) t(2) abs &#x2F;&#x2F;&#x2F;
	&#96;esttabformat&#39; &#96;esttabkeep&#39; &#96;esttabstats&#39; style(tab) replace nodep



	
	
	
&#x2F;&#x2F;
&#x2F;&#x2F;Panel B 非官方资本净流入，bonanzas and surges(Net non-official capital flow bonanzas and surges)
&#x2F;&#x2F;
clear all
set mem 200m
set matsize 8000
set more off

global path &quot;C:&#x2F;Users&#x2F;Administrator&#x2F;Desktop&#x2F;data&quot;  &#x2F;&#x2F;路径
use &quot;$path&#x2F;EP_banking_crises_Modern.dta&quot;, clear

&#x2F;&#x2F; 移动平均滞后项
global malags &#x3D; 3 

quietly&#123;
* Set the sample 模型设定
reg bcrisis &#x2F;&#x2F;&#x2F;
	gr_y  ncapflp_gdp &#x2F;&#x2F;&#x2F;
	dprice_nxy_mean &#x2F;&#x2F;&#x2F;
	gr_credit_gdp reserv_gdp inflation stdebt &#x2F;&#x2F;&#x2F;
	liquidity	size	oda2gni openness &#x2F;&#x2F;&#x2F;
	fcrisis ccrisis depins &#x2F;&#x2F;&#x2F;
	conflict dgs10 if ongoing&#x3D;&#x3D;0, vce(cluster IFS)
gen sample &#x3D; 1 if e(sample)

* Winsorise (non-dummy) data  缩尾处理;
local z &quot;dprice_nxy_mean sd_nxy_meanM ncapflp_gdp gr_y dnfx  gr_credit_gdp reserv_gdp inflation stdebt liquidity size oda2gni openness&quot;
foreach k of local z&#123;
	winsor &#96;k&#39;, gen(&#96;k&#39;_w) p(0.01)
*	gen &#96;k&#39;_w &#x3D; &#96;k&#39;
&#125;

* Moving average 移动平均
local z &quot;dprice_nxy_mean_w sd_nxy_meanM_w conflict ncapflp_gdp_w gr_y_w dnfx_w gr_credit_gdp_w reserv_gdp_w inflation_w stdebt_w liquidity_w size_w oda2gni_w openness_w dgs10 depins fcrisis ccrisis bcrisis ongoing ncapflp_gdp_bonanza_1sd ncapflp_gdp_bonanza_2sd ncapflp_gdp_surge1 ncapflp_gdp_surge2&quot;
foreach k of local z&#123;
	tsset IFS year
	tssmooth ma &#96;k&#39;ma&#x3D;&#96;k&#39;, window($malags 0 0)
&#125;

* Within averages (uncomment to include ongoing years) 组内平均
foreach x of varlist dprice_nxy_mean_wma sd_nxy_meanM_wma ncapflp_gdp_wma  gr_y_wma dnfx_wma gr_credit_gdp_wma reserv_gdp_wma inflation_wma stdebt_wma liquidity_wma size_wma openness_wma oda2gni_wma dgs10ma conflictma depinsma fcrisisma ccrisisma bcrisisma ongoingma  ncapflp_gdp_bonanza_1sdma ncapflp_gdp_bonanza_2sdma ncapflp_gdp_surge1ma ncapflp_gdp_surge2ma&#123;
	egen mn_&#96;x&#39; &#x3D; mean(&#96;x&#39;) if sample &#x3D;&#x3D; 1, by(IFS)
&#125;

&#125;

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;控制变量
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
global commodities		&quot;dprice_nxy_mean_wma sd_nxy_meanM_wma&quot;
global macro_ctrl 		&quot;gr_y_wma inflation_wma&quot;
global monetary_ctrl 	&quot;gr_credit_gdp_wma reserv_gdp_wma stdebt_wma&quot;
global banking_ctrl 	&quot;liquidity_wma size_wma&quot;
global capaidflows_ctrl_b &quot;dnfx_wma oda2gni_wma openness_wma&quot;
global capaidflows_ctrl_c &quot;oda2gni_wma openness_wma&quot;
global capaidflows_ctrl &quot;ncapflp_gdp_wma oda2gni_wma openness_wma&quot;
global other_ctrl 		&quot;conflictma depinsma ccrisisma fcrisisma dgs10ma&quot;

global mn_commodities		&quot;mn_dprice_nxy_mean_wma mn_sd_nxy_meanM_wma&quot;
global mn_macro_ctrl 		&quot;mn_gr_y_wma mn_inflation_wma&quot;
global mn_monetary_ctrl 	&quot;mn_gr_credit_gdp_wma mn_reserv_gdp_wma mn_stdebt_wma&quot;
global mn_banking_ctrl 		&quot;mn_liquidity_wma mn_size_wma&quot;
global mn_capaidflows_ctrl_b &quot;mn_dnfx_wma mn_oda2gni_wma mn_openness_wma&quot;
global mn_capaidflows_ctrl_c &quot;mn_oda2gni_wma mn_openness_wma&quot;
global mn_capaidflows_ctrl 	&quot;mn_ncapflp_gdp_wma mn_oda2gni_wma mn_openness_wma&quot;
global mn_other_ctrl 		&quot;mn_conflictma mn_depinsma mn_ccrisisma mn_fcrisisma&quot;



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;主要回归结果
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;

local i &#x3D; 1 &#x2F;&#x2F;回归结果计数器
estimates clear


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 1 * &#39;Full model&#39; with NFA  (RE-Mundlak)
&#x2F;&#x2F; 1 包括NFA（国外资本净流入）的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl_b &#x2F;&#x2F;&#x2F;
	$mn_commodities &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl_b &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(ncapflp_gdp_wma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 2 * &#39;Full model&#39; with Net Capital Flows  (RE-Mundlak)
&#x2F;&#x2F; 2 包括净资本流入的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	$mn_commodities &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1, re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 3 * &#39;Full model&#39; with Net Capital Flow Bonanza indicator (i) (RE-Mundlak)
&#x2F;&#x2F; 3 包括 Bonanza indicator (i)净资本流入的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities ncapflp_gdp_bonanza_1sdma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_ncapflp_gdp_bonanza_1sdma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(ncapflp_gdp_wma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 4 * &#39;Full model&#39; with Net Capital Flow Bonanza indicator (ii) (RE-Mundlak)
&#x2F;&#x2F; 4 包括 Bonanza indicator (ii)净资本流入的完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities ncapflp_gdp_bonanza_2sdma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_ncapflp_gdp_bonanza_2sdma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(ncapflp_gdp_wma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 5 * &#39;Full model&#39; with Net Capital Flow Surge indicator (i) (RE-Mundlak)
&#x2F;&#x2F; 5  包括 surge indicator (i)的净资本流入完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities ncapflp_gdp_surge1ma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_ncapflp_gdp_surge1ma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(ncapflp_gdp_wma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 6 * &#39;Full model&#39; with Net Capital Flow Surge indicator (ii) (RE-Mundlak)
&#x2F;&#x2F; 6  包括 surge indicator (ii)的净资本流入完整模型
eststo: xtcloglog bcrisis &#x2F;&#x2F;&#x2F;
	$commodities ncapflp_gdp_surge2ma &#x2F;&#x2F;&#x2F;
	$other_ctrl $banking_ctrl $monetary_ctrl $macro_ctrl $capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	$mn_commodities mn_ncapflp_gdp_surge2ma &#x2F;&#x2F;&#x2F;
	$mn_other_ctrl $mn_banking_ctrl $mn_monetary_ctrl $mn_macro_ctrl $mn_capaidflows_ctrl_c &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &amp; !missing(ncapflp_gdp_wma), re nolog vce(cluster IFS) 
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;



&#x2F;*变量展示*&#x2F;
label var dprice_nxy_mean_wma &quot;Commodity Price Growth&quot;
label var sd_nxy_meanM_wma &quot;Commodity Price Volatility&quot;
label var ncapflp_gdp_bonanza_1sdma &quot;Net non-official capital inflow bonanza (1sd)&quot;
label var ncapflp_gdp_bonanza_2sdma &quot;Net non-official capital inflow bonanza (2sd)&quot;
label var ncapflp_gdp_surge2ma &quot;Net non-official capital inflow surge (ii)&quot;
label var ncapflp_gdp_surge1ma &quot;Net non-official capital inflow surge (i)&quot;
label var dnfx_wma &quot;Net foreign assets&quot;

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F; 在csv文件中展示结果 
local mytitle &quot;Banking crises in LICs. RE-Mundlak &amp; Logit models&quot;
local esttabformat  &quot;nodepvars lines compress label nogaps numbers star(* 0.10  0.05 * 0.01) staraux&quot;
local esttabstats &quot;stats(Obs Countries Crises LogL AUROC seAUROC WaldChi2 WaldPval, fmt(0 0 0 2 3 3 2 3))&quot;
local esttabkeep &quot;keep($commodities dnfx_wma ncapflp_gdp_wma ncapflp_gdp_bonanza_1sdma ncapflp_gdp_bonanza_2sdma ncapflp_gdp_surge1ma ncapflp_gdp_surge2ma)&quot;
esttab model1 model2 model3 model4 model5 model6 using &quot;$path&#x2F;表6B.csv&quot;, b(3) t(2) abs &#x2F;&#x2F;&#x2F;
	&#96;esttabformat&#39; &#96;esttabkeep&#39; &#96;esttabstats&#39; style(tab) replace nodep

&#x2F;&#x2F;table 7
clear all
set mem 200m
set matsize 8000
set more off

global path &quot;C:&#x2F;Users&#x2F;Administrator&#x2F;Desktop&#x2F;data&quot;  &#x2F;&#x2F;路径
use &quot;$path&#x2F;EP_banking_crises_Historical.dta&quot;, clear


&#x2F;&#x2F;出于稳健性
gen independence &#x3D; (year&gt;&#x3D;yearofindependence) 

&#x2F;&#x2F; 移动平均滞后项 Which MA lag length to use (MA of lag 1-ma)
global malags &#x3D; 3
local ma &#x3D; 3

quietly&#123;
* Winsorise (non-dummy) data  缩尾处理;
local z &quot;dcom_m dcom_m19c dcom_m_vol dcom_m19c_vol inflation&quot;
foreach k of local z&#123;
	winsor &#96;k&#39;, gen(&#96;k&#39;_w) p(0.01)
&#125;

&#x2F;&#x2F; 所有解释变量都转化为三年MAs

&#x2F;&#x2F; 设定MA的滞后数 Set the number of lags in the MA of all RHS variables at top of file
local z &quot;dcom_m dcom_m19c dcom_m_vol dcom_m19c_vol inflation&quot;
foreach k of local z&#123;
	tsset nwbcode year
	tssmooth ma &#96;k&#39;_wma&#x3D;&#96;k&#39;_w, window($malags 0 0)
	rename &#96;k&#39;_w &#96;k&#39;_wb
&#125;

&#x2F;&#x2F;对虚拟变量作MA变换
local z &quot;ww1 gold cap_peak cap_trough ongoing bcrisis&quot;
foreach k of local z&#123;
	tsset nwbcode year
	tssmooth ma &#96;k&#39;ma&#x3D;&#96;k&#39;, window($malags 0 0)
&#125;

&#x2F;&#x2F; 计算聚类均值 Compute cluster-means
reg bcrisis dcom_m_wma dcom_m_vol_wma  &#x2F;&#x2F;&#x2F;
	sov_def ongoing_def ww1ma &#x2F;&#x2F;&#x2F;
	if ongoing&#x3D;&#x3D;0 &#x2F;&#x2F;&#x2F;
,  cluster(nwbcode)

foreach x of varlist dcom_m_wma dcom_m_vol_wma dcom_m19c_wma dcom_m19c_vol_wma ww1ma goldma inflation_wma cap_peakma cap_troughma ongoingma bcrisisma&#123;
	egen mn_&#96;x&#39; &#x3D; mean(&#96;x&#39;) if e(sample), by(nwbcode)
&#125; 

sort nwbcode year
&#125;


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;控制变量
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;


&#x2F;*先估计最复杂的模型*&#x2F;
xtcloglog bcrisis  &#x2F;&#x2F;&#x2F;
	dcom_m_wma dcom_m_vol_wma  &#x2F;&#x2F;&#x2F;
	mn_dcom_m_wma mn_dcom_m_vol_wma  &#x2F;&#x2F;&#x2F;
	if ongoing&#x3D;&#x3D;0  &amp; ww1&#x3D;&#x3D;0 &amp; commercial&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
, re nolog vce(cluster nwbcode)
gen sample &#x3D; 1 if e(sample)

* Cluster means for default variables (non-overlapping!)
foreach x of varlist ongoing_def sov_def&#123;
	egen mn_&#96;x&#39; &#x3D; mean(&#96;x&#39;) if e(sample), by(nwbcode)
&#125;

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F;主要回归结果
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;

local i &#x3D; 1 &#x2F;&#x2F;回归结果计数器
estimates clear



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 1 * Commodity price growth only (RE-Mundlak)
&#x2F;&#x2F; 1 只包括商品价格增长
eststo: xtcloglog bcrisis  &#x2F;&#x2F;&#x2F;
	dcom_m_wma   &#x2F;&#x2F;&#x2F;
	mn_dcom_m_wma   &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
, re nolog vce(cluster nwbcode)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(dcom_m_wma) post
est store model&#96;i&#39;b

tabstat dcom_m_wma if e(sample), statistics(sd) columns(statistics) save
mat stats &#x3D; r(StatTotal)
local growth_sd &#x3D; stats[1,1]
eststo: nlcom (b_growth: _b[dcom_m_wma]*100*&#96;growth_sd&#39;), post
est store model&#96;i&#39;c

local i &#x3D; &#96;i&#39; + 1

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 2 * Commodity price volatility only (RE-Mundlak)
&#x2F;&#x2F; 2 仅包括商品价格波动
eststo: xtcloglog bcrisis  &#x2F;&#x2F;&#x2F;
	dcom_m_vol_wma   &#x2F;&#x2F;&#x2F;
	mn_dcom_m_vol_wma   &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
, re nolog vce(cluster nwbcode)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(dcom_m_vol_wma) post
est store model&#96;i&#39;b

tabstat dcom_m_vol_wma if e(sample), statistics(sd) columns(statistics) save
mat stats &#x3D; r(StatTotal)
local vol_sd &#x3D; stats[1,1]
eststo: nlcom  (b_volatility: _b[dcom_m_vol_wma]*100*&#96;vol_sd&#39;), post
est store model&#96;i&#39;c

local i &#x3D; &#96;i&#39; + 1



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 3 * Baseline w&#x2F; commodity price growth and volatility (RE-Mundlak)
&#x2F;&#x2F; 3 商品价格增长和波动的基准模型
eststo: xtcloglog bcrisis  &#x2F;&#x2F;&#x2F;
	dcom_m_wma dcom_m_vol_wma   &#x2F;&#x2F;&#x2F;
	mn_dcom_m_wma mn_dcom_m_vol_wma   &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
, re nolog vce(cluster nwbcode)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(dcom_m_wma dcom_m_vol_wma ) post
est store model&#96;i&#39;b

tabstat dcom_m_wma dcom_m_vol_wma if e(sample), statistics(sd) columns(statistics) save
mat stats &#x3D; r(StatTotal)
local growth_sd &#x3D; stats[1,1]
local vol_sd &#x3D; stats[1,2]
eststo: nlcom &#x2F;&#x2F;&#x2F;
	(b_growth: 		_b[dcom_m_wma]*100*&#96;growth_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_volatility: 	_b[dcom_m_vol_wma]*100*&#96;vol_sd&#39;), post
est store model&#96;i&#39;c


local i &#x3D; &#96;i&#39; + 1

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 4 * Add crisis dummies (RE-Mundlak)
&#x2F;&#x2F; 4 加入危机虚拟变量
eststo: xtcloglog bcrisis  &#x2F;&#x2F;&#x2F;
	dcom_m_wma dcom_m_vol_wma   &#x2F;&#x2F;&#x2F;
	sov_def ongoing_def  &#x2F;&#x2F;&#x2F;
	mn_dcom_m_wma mn_dcom_m_vol_wma   &#x2F;&#x2F;&#x2F;
	mn_sov_def mn_ongoing_def &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
, re nolog vce(cluster nwbcode)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(dcom_m_wma dcom_m_vol_wma sov_def ongoing_def) post
est store model&#96;i&#39;b

tabstat dcom_m_wma dcom_m_vol_wma sov_def ongoing_def if e(sample), statistics(sd) columns(statistics) save
mat stats 	&#x3D; r(StatTotal)
local growth_sd &#x3D; stats[1,1]
local vol_sd 	&#x3D; stats[1,2]
local sovd_sd 	&#x3D; stats[1,3]
local ongsd_sd 	&#x3D; stats[1,4]
eststo: nlcom &#x2F;&#x2F;&#x2F;
	(b_growth: 		_b[dcom_m_wma]*100*&#96;growth_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_volatility: 	_b[dcom_m_vol_wma]*100*&#96;vol_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_default: 	_b[sov_def]*100*&#96;sovd_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_ongoing: 	_b[ongoing_def]*100*&#96;ongsd_sd&#39;), post
est store model&#96;i&#39;c

local i &#x3D; &#96;i&#39; + 1


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 5 * Add RRT Capital flow peak dummies (RE-Mundlak)
&#x2F;&#x2F; 5 加入全球资本流动周期峰值的指标虚拟变量
eststo: xtcloglog bcrisis     &#x2F;&#x2F;&#x2F;
	dcom_m_wma dcom_m_vol_wma cap_peakma  &#x2F;&#x2F;&#x2F; 
	sov_def ongoing_def &#x2F;&#x2F;&#x2F;
	mn_dcom_m_wma mn_dcom_m_vol_wma  mn_cap_peakma &#x2F;&#x2F;&#x2F; 
	mn_sov_def mn_ongoing_def &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
, re nolog vce(cluster nwbcode)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(dcom_m_wma dcom_m_vol_wma sov_def ongoing_def cap_peakma) post
est store model&#96;i&#39;b

tabstat dcom_m_wma dcom_m_vol_wma sov_def ongoing_def cap_peakma if e(sample), statistics(sd) columns(statistics) save
mat stats &#x3D; r(StatTotal)
local growth_sd &#x3D; stats[1,1]
local vol_sd &#x3D; stats[1,2]
local sovd_sd &#x3D; stats[1,3]
local ongsd_sd &#x3D; stats[1,4]
local cap_sd &#x3D; stats[1,5]
eststo: nlcom &#x2F;&#x2F;&#x2F;
	(b_growth: 		_b[dcom_m_wma]*100*&#96;growth_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_volatility: 	_b[dcom_m_vol_wma]*100*&#96;vol_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_default: 	_b[sov_def]*100*&#96;sovd_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_ongoing: 	_b[ongoing_def]*100*&#96;ongsd_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_cappeak: 	_b[cap_peakma]*100*&#96;cap_sd&#39;), post
est store model&#96;i&#39;c

local i &#x3D; &#96;i&#39; + 1



&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
* 6 * Add Gold standard dummies (RE-Mundlak)
&#x2F;&#x2F; 6 加入隔离金本位制虚拟变量
eststo: xtcloglog bcrisis     &#x2F;&#x2F;&#x2F;
	dcom_m_wma dcom_m_vol_wma cap_peakma goldma &#x2F;&#x2F;&#x2F; 
	sov_def  ongoing_def &#x2F;&#x2F;&#x2F;
	mn_dcom_m_wma mn_dcom_m_vol_wma mn_cap_peakma  mn_goldma  &#x2F;&#x2F;&#x2F; 
	mn_sov_def mn_ongoing_def  &#x2F;&#x2F;&#x2F;
	if sample&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
, re nolog vce(cluster nwbcode)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39; if e(sample), xb
roctab bcrisis temp&#96;i&#39; if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;

eststo: margins, dydx(dcom_m_wma dcom_m_vol_wma sov_def ongoing_def cap_peakma goldma) post
est store model&#96;i&#39;b


tabstat dcom_m_wma dcom_m_vol_wma sov_def ongoing_def cap_peakma goldma if e(sample), statistics(sd) columns(statistics) save
mat stats &#x3D; r(StatTotal)
local growth_sd &#x3D; stats[1,1]
local vol_sd &#x3D; stats[1,2]
local sovd_sd &#x3D; stats[1,3]
local ongsd_sd &#x3D; stats[1,4]
local cap_sd &#x3D; stats[1,5]
local gold_sd &#x3D; stats[1,6]
eststo: nlcom &#x2F;&#x2F;&#x2F;
	(b_growth: 		_b[dcom_m_wma]*100*&#96;growth_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_volatility: 	_b[dcom_m_vol_wma]*100*&#96;vol_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_default: 	_b[sov_def]*100*&#96;sovd_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_ongoing: 	_b[ongoing_def]*100*&#96;ongsd_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_cappeak: 	_b[cap_peakma]*100*&#96;cap_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_gold: 		_b[goldma]*100*&#96;gold_sd&#39;), post
est store model&#96;i&#39;c



&#x2F;*变量展示*&#x2F;
label var dcom_m_wma &quot;Commodity Price Growth&quot;
label var dcom_m_vol_wma &quot;Commodity Price Volatility&quot;
label var sov_def &quot;Sovereign Default&quot;
label var ongoing_def &quot;Ongoing Sovereign Default&quot;
label var cap_peakma &quot;Capital Flow Cycle Peak&quot;
label var goldma &quot;Gold Standard&quot;


&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F; 在csv文件中展示结果 
local mytitle &quot;Banking crises in c19 and earlh c20. RE-Mundlak models&quot;
local esttabformat  &quot;nodepvars lines compress label nogaps numbers star(* 0.10  0.05 * 0.01) staraux&quot;
local esttabstats &quot;stats(Obs Countries Crises LogL AUROC seAUROC WaldChi2 WaldPval, fmt(0 0 0 2 3 3 2 3))&quot;
local esttabkeep &quot;keep(dcom_m_wma dcom_m_vol_wma sov_def ongoing_def cap_peakma goldma b_growth b_volatility b_default b_ongoing b_cappeak b_gold ) order(dcom_m_wma dcom_m_vol_wma sov_def ongoing_def cap_peakma goldma b_growth b_volatility b_default b_ongoing b_cappeak b_gold)&quot;
&#x2F;&#x2F; esttab model1 model2 model3 model4 model5 model6  model1b model2b model3b model4b model5b model6b model1c model2c model3c model4c model5c model6c using &quot;$path&#x2F;20210317_HistBaseline_Results_marg.csv&quot;, b(3) t(2) abs &#x2F;&#x2F;&#x2F;
&#x2F;&#x2F; 	&#96;esttabformat&#39; &#96;esttabkeep&#39; &#96;esttabstats&#39; style(tab) replace nodep

esttab model1c model2c model3c model4c model5c model6c using &quot;$path&#x2F;表7.csv&quot;, b(3) t(2) abs &#x2F;&#x2F;&#x2F;
	&#96;esttabformat&#39; &#96;esttabkeep&#39; &#96;esttabstats&#39; style(tab) replace nodep


&#x2F;&#x2F;table 8 
&#x2F;&#x2F; use &quot;C:\Users\Administrator\Desktop\data\EP_banking_crises_Historical.dta&quot; 
global path &quot;C:&#x2F;Users&#x2F;Administrator&#x2F;Desktop&#x2F;data&quot;  &#x2F;&#x2F;路径
use &quot;$path&#x2F;EP_banking_crises_Historical.dta&quot;, clear
drop if year&lt;1870

* Which MA lag length to use (MA of lag 1-ma)
global malags &#x3D; 3
local ma &#x3D; 3


* Winsorise (non-dummy) data  缩尾处理;
local z &quot;dcom_m dcom_m19c dcom_m_vol dcom_m19c_vol inflation&quot;
foreach k of local z&#123;
	winsor &#96;k&#39;, gen(&#96;k&#39;_w) p(0.01)
&#125;


&#x2F;&#x2F; 设定MA的滞后数 Set the number of lags in the MA of all RHS variables at top of file
local z &quot;dcom_m dcom_m19c dcom_m_vol dcom_m19c_vol inflation&quot;
foreach k of local z&#123;
	tsset nwbcode year
	tssmooth ma &#96;k&#39;_wma&#x3D;&#96;k&#39;_w, window($malags 0 0)
	rename &#96;k&#39;_w &#96;k&#39;_wb
&#125;

* 对虚拟变量作MA变换
local z &quot;ww1 gold cap_peak cap_trough ongoing bcrisis&quot;
foreach k of local z&#123;
	tsset nwbcode year
	tssmooth ma &#96;k&#39;ma&#x3D;&#96;k&#39;, window($malags 0 0)
&#125;


&#x2F;&#x2F; 计算聚类均值 Compute cluster-means
	reg bcrisis dcom_m_wma dcom_m_vol_wma &#x2F;&#x2F;&#x2F;
		sov_def ongoing_def goldma cap_peakma &#x2F;&#x2F;&#x2F;
		if ongoing&#x3D;&#x3D;0 &amp; ww1&#x3D;&#x3D;0 &amp; commercial&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
	,  cluster(nwbcode)

	gen sample &#x3D; 1 if e(sample)

	local zvari &quot;dcom_m_wma dcom_m_vol_wma sov_def ongoing_def ww1ma goldma  cap_peakma cap_troughma ongoingma&quot;
	foreach x of local zvari&#123;
		egen mn_&#96;x&#39; &#x3D; mean(&#96;x&#39;) if e(sample), by(nwbcode)
	&#125;

estimates clear


* Full Model (RE-Mundlak) without constraints - Table 8, column (2)
&#x2F;&#x2F; 不含约束的完整模型
eststo: xtcloglog bcrisis     &#x2F;&#x2F;&#x2F;
	dcom_m_wma dcom_m_vol_wma  cap_peakma goldma &#x2F;&#x2F;&#x2F; 
	sov_def ongoing_def   &#x2F;&#x2F;&#x2F; 
	mn_dcom_m_wma mn_dcom_m_vol_wma  mn_cap_peakma  mn_goldma  &#x2F;&#x2F;&#x2F; 
	mn_sov_def mn_ongoing_def   &#x2F;&#x2F;&#x2F; 
	if sample&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
, re nolog vce(cluster nwbcode)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39;_0 if e(sample), xb
roctab bcrisis temp&#96;i&#39;_0 if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model0

eststo: margins, dydx(dcom_m_wma dcom_m_vol_wma sov_def ongoing_def cap_peakma goldma) post
est store model0_b

tabstat dcom_m_wma dcom_m_vol_wma sov_def ongoing_def cap_peakma goldma if e(sample), statistics(sd) columns(statistics) save
mat stats &#x3D; r(StatTotal)
local growth_sd &#x3D; stats[1,1]
local vol_sd 	&#x3D; stats[1,2]
local sovd_sd 	&#x3D; stats[1,3]
local ongsd_sd 	&#x3D; stats[1,4]
local cap_sd 	&#x3D; stats[1,5]
local gold_sd 	&#x3D; stats[1,6]
eststo: nlcom &#x2F;&#x2F;&#x2F;
	(b_growth: 		_b[dcom_m_wma]*100*&#96;growth_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_volatility: 	_b[dcom_m_vol_wma]*100*&#96;vol_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_default: 	_b[sov_def]*100*&#96;sovd_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_ongoing: 	_b[ongoing_def]*100*&#96;ongsd_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_cappeak: 	_b[cap_peakma]*100*&#96;cap_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_gold: 		_b[goldma]*100*&#96;gold_sd&#39;), post
est store model0_c

drop mn_* sample 
	
*
* ROBUSTNESS ANALYSIS USING CATAO &amp; MANO DATA (1870 onwards)
&#x2F;&#x2F; 稳健分析
*

* Crazy value, otherwise
replace fxres_y&#x3D;0 if year&#x3D;&#x3D;1897 &amp; wbcode&#x3D;&#x3D;&quot;BRA&quot;
gen dm2_y &#x3D; d.m2_y 

* Winsorize Catao and Mano variables using 1% (top and bottom)
&#x2F;&#x2F;对Catao和Mano变量作去尾处理
local z &quot;gdp_growth_3y fxres_y dm2_y td_y ggbal_y&quot;
foreach k of local z&#123;
	winsor &#96;k&#39;, gen(&#96;k&#39;_w) p(0.010)
&#125;

* Set the number of lags in the MA of all RHS variables at top of file
local z &quot;fxres_y_w dm2_y_w td_y_w ggbal_y_w&quot;
foreach k of local z&#123;
	tsset nwbcode year
	tssmooth ma &#96;k&#39;ma&#x3D;&#96;k&#39;, window(&#96;ma&#39; 0 0)
&#125;

* gdp_growth_3y is already MA(3)
rename gdp_growth_3y_w gdp_growth_3y_wma


*
* Analysis of adding different covariates
*
&#x2F;&#x2F; 加入额外的协变量

local i &#x3D; 1

local zvar &quot;inflation_wma gdp_growth_3y_wma fxres_y_wma dm2_y_wma td_y_wma ggbal_y_wma&quot;
foreach kk of local zvar&#123; 

quietly&#123;

* Compute cluster-means (regression specific)
	reg bcrisis dcom_m_wma dcom_m_vol_wma &#96;kk&#39; &#x2F;&#x2F;&#x2F;
		sov_def ongoing_def goldma cap_peakma &#x2F;&#x2F;&#x2F;
		if ongoing&#x3D;&#x3D;0 &amp; ww1&#x3D;&#x3D;0 &amp; commercial&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
	,  cluster(nwbcode)

	gen sample &#x3D; 1 if e(sample)

	egen mn_&#96;kk&#39; &#x3D; mean(&#96;kk&#39;) if e(sample), by(nwbcode)

	local zvari &quot;dcom_m_wma dcom_m_vol_wma dcom_m19c_wma dcom_m19c_vol_wma sov_def ongoing_def ww1ma goldma  cap_peakma cap_troughma ongoingma bcrisisma&quot;
	foreach x of local zvari&#123;
		egen mn_&#96;x&#39; &#x3D; mean(&#96;x&#39;) if e(sample), by(nwbcode)
	&#125;




*
* Regressions (i): RE-Mundlak - Table 8, (3)-(8) final panel (without add. covariates)
*



* Full Model (RE-Mundlak)
&#x2F;&#x2F; 完整模型
eststo: xtcloglog bcrisis     &#x2F;&#x2F;&#x2F;
	dcom_m_wma dcom_m_vol_wma  cap_peakma goldma &#x2F;&#x2F;&#x2F; 
	sov_def ongoing_def   &#x2F;&#x2F;&#x2F; 
	mn_dcom_m_wma mn_dcom_m_vol_wma  mn_cap_peakma  mn_goldma  &#x2F;&#x2F;&#x2F; 
	mn_sov_def mn_ongoing_def   &#x2F;&#x2F;&#x2F; 
	if sample&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
, re nolog vce(cluster nwbcode)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39;_0 if e(sample), xb
roctab bcrisis temp&#96;i&#39;_0 if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;_0

eststo: margins, dydx(dcom_m_wma dcom_m_vol_wma sov_def ongoing_def cap_peakma goldma) post
est store model&#96;i&#39;_0b

tabstat dcom_m_wma dcom_m_vol_wma sov_def ongoing_def cap_peakma goldma if e(sample), statistics(sd) columns(statistics) save
mat stats &#x3D; r(StatTotal)
local growth_sd &#x3D; stats[1,1]
local vol_sd 	&#x3D; stats[1,2]
local sovd_sd 	&#x3D; stats[1,3]
local ongsd_sd 	&#x3D; stats[1,4]
local cap_sd 	&#x3D; stats[1,5]
local gold_sd 	&#x3D; stats[1,6]
eststo: nlcom &#x2F;&#x2F;&#x2F;
	(b_growth: 		_b[dcom_m_wma]*100*&#96;growth_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_volatility: 	_b[dcom_m_vol_wma]*100*&#96;vol_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_default: 	_b[sov_def]*100*&#96;sovd_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_ongoing: 	_b[ongoing_def]*100*&#96;ongsd_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_cappeak: 	_b[cap_peakma]*100*&#96;cap_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_gold: 		_b[goldma]*100*&#96;gold_sd&#39;), post
est store model&#96;i&#39;_0c


* Full Model with additional covariate (RE-Mundlak) - Table 8, columns (3)-(8)
&#x2F;&#x2F; 包含额外协变量的完整模型
eststo: xtcloglog bcrisis     &#x2F;&#x2F;&#x2F;
	dcom_m_wma dcom_m_vol_wma  cap_peakma goldma &#96;kk&#39; &#x2F;&#x2F;&#x2F; 
	sov_def ongoing_def   &#x2F;&#x2F;&#x2F; 
	mn_dcom_m_wma mn_dcom_m_vol_wma  mn_cap_peakma  mn_goldma mn_&#96;kk&#39; &#x2F;&#x2F;&#x2F; 
	mn_sov_def mn_ongoing_def   &#x2F;&#x2F;&#x2F; 
	if sample&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
, re nolog vce(cluster nwbcode)
estadd scalar Obs &#x3D; e(N)
estadd scalar Countries &#x3D; e(N_g)   
predict temp&#96;i&#39;_1 if e(sample), xb
roctab bcrisis temp&#96;i&#39;_1 if e(sample)
estadd scalar AUROC &#x3D; r(area)
estadd scalar seAUROC &#x3D; r(se)
count if bcrisis&#x3D;&#x3D;1 &amp; e(sample)
estadd scalar Crises &#x3D; r(N)
estadd scalar LogL &#x3D; e(ll)
testparm mn*
estadd scalar WaldChi2&#x3D;r(chi2)
estadd scalar WaldPval&#x3D;r(p)
est store model&#96;i&#39;_1

eststo: margins, dydx(dcom_m_wma dcom_m_vol_wma sov_def  ongoing_def cap_peakma goldma &#96;kk&#39;) post
est store model&#96;i&#39;_1b

tabstat dcom_m_wma dcom_m_vol_wma sov_def ongoing_def cap_peakma goldma &#96;kk&#39; if e(sample), statistics(sd) columns(statistics) save
mat stats &#x3D; r(StatTotal)
local growth_sd &#x3D; stats[1,1]
local vol_sd 	&#x3D; stats[1,2]
local sovd_sd 	&#x3D; stats[1,3]
local ongsd_sd 	&#x3D; stats[1,4]
local cap_sd 	&#x3D; stats[1,5]
local gold_sd 	&#x3D; stats[1,6]
local control_sd &#x3D; stats[1,7]

eststo: nlcom &#x2F;&#x2F;&#x2F;
	(b_growth: 		_b[dcom_m_wma]*100*&#96;growth_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_volatility: 	_b[dcom_m_vol_wma]*100*&#96;vol_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_default: 	_b[sov_def]*100*&#96;sovd_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_ongoing: 	_b[ongoing_def]*100*&#96;ongsd_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_cappeak: 	_b[cap_peakma]*100*&#96;cap_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_gold: 		_b[goldma]*100*&#96;gold_sd&#39;) &#x2F;&#x2F;&#x2F;
	(b_control: 	_b[&#96;kk&#39;]*100*&#96;control_sd&#39;), post
est store model&#96;i&#39;_1c


sum bcrisis if e(sample)

* Model without the commodity price variable
&#x2F;&#x2F; 不包含商品价格变量的模型
xtcloglog bcrisis     &#x2F;&#x2F;&#x2F;
	cap_peakma goldma &#96;kk&#39; &#x2F;&#x2F;&#x2F; 
	sov_def ongoing_def   &#x2F;&#x2F;&#x2F; 
	mn_cap_peakma  mn_goldma mn_&#96;kk&#39; &#x2F;&#x2F;&#x2F; 
	mn_sov_def mn_ongoing_def   &#x2F;&#x2F;&#x2F; 
	if sample&#x3D;&#x3D;1 &#x2F;&#x2F;&#x2F;
, re nolog vce(cluster nwbcode)
predict temp&#96;i&#39;_2 if e(sample), xb

local i &#x3D; &#96;i&#39; + 1

drop mn_* sample
* End of quietly
&#125;
di in gr &quot;Carried out analysis of variable: &quot; in ye &quot; &#96;kk&#39;.&quot;

* End of the variable loop
&#125;


&#x2F;*变量展示*&#x2F;
label var dcom_m_wma &quot;Commodity Price Growth&quot;
label var dcom_m_vol_wma &quot;Commodity Price Volatility&quot;
label var sov_def &quot;Sovereign Default&quot;
label var ongoing_def &quot;Ongoing Sovereign Default&quot;
label var cap_peakma &quot;Capital Flow Cycle Peak&quot;
label var cap_troughma &quot;Capital Flow Cycle Trough&quot;
label var cap_troughma &quot;Capital Flow Cycle Trough&quot;
label var goldma &quot;Gold Standard&quot;
label var inflation_wma &quot;Inflation&quot;
label var gdp_growth_3y_wma &quot;GDP growth&quot;
label var fxres_y_wma &quot;Forex reserves&#x2F;GDP&quot;
label var dm2_y_wma &quot;Change in M2&#x2F;GDP&quot;
label var td_y_wma &quot;Total Public Debt&#x2F;GDP&quot;
label var ggbal_y_wma &quot;Government Balance&#x2F;GDP&quot;

&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
&#x2F;&#x2F; 在csv文件中展示结果 
&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;
local mytitle &quot;Banking crises in c19 and early c20. RE-Mundlak models&quot;
local esttabformat  &quot;nodepvars lines compress label nogaps numbers star(* 0.10  0.05 * 0.01) staraux&quot;
local esttabstats &quot;stats(Obs Countries Crises LogL AUROC seAUROC WaldChi2 WaldPval, fmt(0 0 0 2 3 3 2 3))&quot;
local esttabkeep &quot;keep(dcom_m_wma dcom_m_vol_wma sov_def ongoing_def  cap_peakma goldma inflation_wma gdp_growth_3y_wma fxres_y_wma dm2_y_wma td_y_wma ggbal_y_wma b_growth b_volatility b_default b_ongoing b_cappeak b_gold  b_control) order(dcom_m_wma dcom_m_vol_wma sov_def ongoing_def cap_peakma goldma inflation_wma gdp_growth_3y_wma fxres_y_wma  dm2_y_wma td_y_wma ggbal_y_wma b_growth b_volatility b_default b_ongoing b_cappeak b_gold  b_control)&quot;
esttab model0 model1_0 model2_0 model3_0 model4_0 model5_0 model6_0  model1_1 model2_1 model3_1 model4_1 model5_1 model6_1 model0_b model1_0b model2_0b model3_0b model4_0b model5_0b model6_0b  model1_1b model2_1b model3_1b model4_1b model5_1b model6_1b model0_c model1_0c model2_0c model3_0c model4_0c model5_0c model6_0c  model1_1c model2_1c model3_1c model4_1c model5_1c model6_1c using &quot;$path&#x2F;表8.csv&quot;, b(3) t(2) abs &#x2F;&#x2F;&#x2F;
 &#96;esttabformat&#39; &#96;esttabkeep&#39; &#96;esttabstats&#39; style(tab) replace nodep

	
exit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="tags/stata/">stata</a><a class="post-meta__tags" href="tags/%E5%8F%91%E5%B1%95%E4%B8%AD%E5%9B%BD%E5%AE%B6/">发展中国家</a><a class="post-meta__tags" href="tags/%E5%95%86%E5%93%81%E4%BB%B7%E6%A0%BC/">商品价格</a><a class="post-meta__tags" href="tags/%E9%87%91%E8%9E%8D%E9%83%A8%E9%97%A8/">金融部门</a></div><div class="post_share"><div class="social-share" data-image="/private_img/banner2.gif" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/private_img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/private_img/wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/private_img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/private_img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="310551269.html" title="战后公司体系的兴衰"><img class="cover" src="/private_img/banner2.gif" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">战后公司体系的兴衰</div></div></a></div><div class="next-post pull-right"><a href="3805420524.html" title="助教：一键登记提交和成绩"><img class="cover" src="/private_img/banner2.gif" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">助教：一键登记提交和成绩</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="1837523341.html" title="stata笔记"><img class="cover" src="/private_img/banner2.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-11-15</div><div class="title">stata笔记</div></div></a></div><div><a href="767402338.html" title="微观计量经济学"><img class="cover" src="/private_img/banner2.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-25</div><div class="title">微观计量经济学</div></div></a></div><div><a href="1302782253.html" title="空间计量经济学与stata实操"><img class="cover" src="/private_img/banner2.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-10</div><div class="title">空间计量经济学与stata实操</div></div></a></div><div><a href="4165288499.html" title="金融依赖性和增长的关系"><img class="cover" src="/private_img/banner2.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-12-28</div><div class="title">金融依赖性和增长的关系</div></div></a></div><div><a href="4065962852.html" title="龙治铭量化分析课件"><img class="cover" src="/private_img/banner2.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-23</div><div class="title">龙治铭量化分析课件</div></div></a></div><div><a href="1139450683.html" title="卡沃斯基-比较视角下的金融化"><img class="cover" src="/private_img/banner2.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-26</div><div class="title">卡沃斯基-比较视角下的金融化</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/private_img/yuyingnan.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">揭晓</div><div class="author-info__description">随手写一写，揭晓这世界</div></div><a id="card-info-btn" href="/"><i class="fas fa-home"></i><span>回到首页</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%91%98%E8%A6%81"><span class="toc-text"> 摘要</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%BC%95%E8%A8%80"><span class="toc-text"> 1. 引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E6%95%B0%E6%8D%AE%E4%B8%8E%E6%8F%8F%E8%BF%B0%E6%80%A7%E5%88%86%E6%9E%90"><span class="toc-text"> 2.数据与描述性分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-%E6%A0%B7%E6%9C%AC"><span class="toc-text"> 2.1 样本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22%E5%8F%AF%E5%8F%98%E7%BB%93%E6%9E%84%E5%92%8C%E6%9D%A5%E6%BA%90"><span class="toc-text"> 2.2.可变结构和来源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23%E5%8F%98%E9%87%8F%E5%8F%98%E6%8D%A2"><span class="toc-text"> 2.3.变量变换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24%E5%85%B8%E5%9E%8B%E4%BA%8B%E5%AE%9E"><span class="toc-text"> 2.4.典型事实</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25%E4%BA%8B%E4%BB%B6%E5%88%86%E6%9E%90"><span class="toc-text"> 2.5.事件分析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E5%AE%9E%E8%AF%81%E6%A8%A1%E5%9E%8B%E4%B8%8E%E5%AE%9E%E6%96%BD"><span class="toc-text"> 3.实证模型与实施</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E7%BB%93%E6%9E%9C%E4%B8%8E%E8%AE%A8%E8%AE%BA"><span class="toc-text"> 4.结果与讨论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#41%E4%B8%BB%E8%A6%81%E7%BB%93%E6%9E%9C"><span class="toc-text"> 4.1.主要结果</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#411%E6%8B%9F%E5%90%88%E4%BC%98%E5%BA%A6"><span class="toc-text"> 4.1.1.拟合优度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#412%E5%9F%BA%E7%BA%BF%E7%9A%84%E7%A8%B3%E5%81%A5%E6%80%A7"><span class="toc-text"> 4.1.2.基线的稳健性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#42%E6%9D%A0%E6%9D%86%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text"> 4.2.杠杆的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#43%E8%B5%84%E6%9C%AC%E6%B5%81%E5%85%A5%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text"> 4.3.资本流入的作用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E5%8E%86%E5%8F%B2%E8%AF%81%E6%8D%AE"><span class="toc-text"> 5.历史证据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E4%BC%A0%E5%8A%A8%E6%9C%BA%E6%9E%84"><span class="toc-text"> 6.传动机构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#61%E6%A8%AA%E6%88%AA%E9%9D%A2%E4%B8%8D%E5%9D%87%E5%8C%80%E6%80%A7"><span class="toc-text"> 6.1.横截面不均匀性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#62%E5%95%86%E5%93%81%E4%BB%B7%E6%A0%BC-%E6%94%BF%E5%BA%9C%E6%94%B6%E5%85%A5%E5%92%8C%E5%85%AC%E5%85%B1%E5%80%BA%E5%8A%A1%E5%88%B0%E6%9C%9F%E6%97%A5"><span class="toc-text"> 6.2.商品价格、政府收入和公共债务到期日</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E7%BB%93%E6%9D%9F%E8%AF%AD"><span class="toc-text"> 7.结束语</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="329702610.html" title="博士论文手稿v2">博士论文手稿v2</a><time datetime="2023-09-24T06:09:17.441Z" title="更新于 2023-09-24 14:09:17">2023-09-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="865972098.html" title="马克思之后的马克思经济学">马克思之后的马克思经济学</a><time datetime="2023-09-18T09:10:26.364Z" title="更新于 2023-09-18 17:10:26">2023-09-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="3479505605.html" title="民营企业参与一带一路中非制造业合作专题研究">民营企业参与一带一路中非制造业合作专题研究</a><time datetime="2023-09-17T10:00:53.322Z" title="更新于 2023-09-17 18:00:53">2023-09-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="953604589.html" title="生产的政治序言">生产的政治序言</a><time datetime="2023-09-13T03:56:49.709Z" title="更新于 2023-09-13 11:56:49">2023-09-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="1859576449.html" title="生产的政治5欠发达的隐蔽之处">生产的政治5欠发达的隐蔽之处</a><time datetime="2023-09-13T03:56:49.709Z" title="更新于 2023-09-13 11:56:49">2023-09-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="3608556431.html" title="生产的政治4工人在工人的国家里">生产的政治4工人在工人的国家里</a><time datetime="2023-09-13T03:56:49.708Z" title="更新于 2023-09-13 11:56:49">2023-09-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="3629176037.html" title="生产的政治6迈向全球视角">生产的政治6迈向全球视角</a><time datetime="2023-09-13T03:56:49.707Z" title="更新于 2023-09-13 11:56:49">2023-09-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="2480006749.html" title="生产的政治3发达资本主义工厂政体的变动面向">生产的政治3发达资本主义工厂政体的变动面向</a><time datetime="2023-09-13T03:56:49.706Z" title="更新于 2023-09-13 11:56:49">2023-09-13</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/private_img/banner2.gif')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 揭晓</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="js/utils.js"></script><script src="js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addModeChange('mermaid', runMermaid)

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>function loadDisqus () {
  const disqus_config = function () {
    this.page.url = 'https://dhndzwxj.github.io/2914285830.html'
    this.page.identifier = ''
    this.page.title = '商品价格和银行危机'
  }

  const disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  btf.addModeChange('disqus', disqusReset)

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Disqus' === 'Disqus' || !true) {
  if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script type='text/javascript' src='https://ajax.loli.net/ajax/libs/jquery/3.2.1/jquery.min.js'></script><script id="dsq-count-scr" src="//https-www-dhndzwxj-top.disqus.com/count.js" async></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="js/search/local-search.js"></script></div></div></body></html>
<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- hexo injector head_begin start -->
<link rel="stylesheet" href="css/bilicard.css">
<!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>博客搭建日志 | 小荷才露尖尖角</title><meta name="author" content="揭晓"><meta name="copyright" content="揭晓"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="楷体、仿宋  🔝重要内容置顶 注意每次备份前，都需要commit一下~（回忆前面讲的内容，如果不commit就只是在本地有缓存，没有上传到缓存区） ➜  dlog git:(master) ✗ git add themes&#x2F;butterfly41 ➜  dlog git:(master) ✗ git add . ➜  dlog git:(master) ✗ git commit -m">
<meta property="og:type" content="article">
<meta property="og:title" content="博客搭建日志">
<meta property="og:url" content="https://dhndzwxj.github.io/3276806131.html">
<meta property="og:site_name" content="小荷才露尖尖角">
<meta property="og:description" content="楷体、仿宋  🔝重要内容置顶 注意每次备份前，都需要commit一下~（回忆前面讲的内容，如果不commit就只是在本地有缓存，没有上传到缓存区） ➜  dlog git:(master) ✗ git add themes&#x2F;butterfly41 ➜  dlog git:(master) ✗ git add . ➜  dlog git:(master) ✗ git commit -m">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://dhndzwxj.github.io/private_img/banner2.gif">
<meta property="article:published_time" content="2020-08-25T05:58:05.000Z">
<meta property="article:modified_time" content="2022-11-29T11:51:53.872Z">
<meta property="article:author" content="揭晓">
<meta property="article:tag" content="杂记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://dhndzwxj.github.io/private_img/banner2.gif"><link rel="shortcut icon" href="/private_img/favicon.png"><link rel="canonical" href="https://dhndzwxj.github.io/3276806131"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":30,"position":"top","messagePrev":"本文上次更新距离今天已经过去","messageNext":"天, 文中内容可能已经过时，望周知。"},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '博客搭建日志',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-11-29 19:51:53'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@400;500;700&display=swap" rel="stylesheet"><link href="https://fonts.loli.net/css2?family=Ma+Shan+Zheng:wght@400;500;700&display=swap" rel="stylesheet"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-clock/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="atom.xml" title="小荷才露尖尖角" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/private_img/yuyingnan.jpg" onerror="onerror=null;src='/private_img/404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="archives/"><div class="headline">文章</div><div class="length-num">270</div></a><a href="tags/"><div class="headline">标签</div><div class="length-num">72</div></a><a href="categories/"><div class="headline">分类</div><div class="length-num">71</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="index.html"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 结构</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/private_img/banner2.gif')"><nav id="nav"><span id="blog_name"><a id="site-name" href="index.html">小荷才露尖尖角</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="index.html"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 结构</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">博客搭建日志</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-08-25T05:58:05.000Z" title="发表于 2020-08-25 13:58:05">2020-08-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-11-29T11:51:53.872Z" title="更新于 2022-11-29 19:51:53">2022-11-29</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="categories/%E6%9D%82%E6%8A%80/">杂技</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="categories/%E6%9D%82%E6%8A%80/Hexo-HTML/">Hexo&amp;HTML</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">29.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>124分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="博客搭建日志"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><span style='font-family:kaiti'>楷体</span>、<span style='font-family:fangsong'>仿宋</span></p>
<blockquote>
<p>🔝重要内容置顶</p>
<p>注意每次备份前，都需要commit一下~（<span style='font-family:kaiti'>回忆前面讲的内容，如果不commit就只是在本地有缓存，没有上传到缓存区</span>）</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">➜  dlog git:(master) ✗ git add themes&#x2F;butterfly41
➜  dlog git:(master) ✗ git add .
➜  dlog git:(master) ✗ git commit -m &#39;211023版本提交&#39;
➜  dlog git:(master) ✗ git push backup_github master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>后面的<code>hexo</code>是远程仓库名，<code>master</code>是<code>hexo</code>这个远程仓库的默认分支名，这些名字都可以自己个性化命名，它们都不是代码中的<b>关键字</b>！</p>
<p>将备份下载到本地的代码：(<span style='font-family:kaiti'>要预先给电脑配置好SSH哦~</span>)</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">➜  dlog git:(master) ✗git clone https:&#x2F;&#x2F;gitee.com&#x2F;dhndzwxj&#x2F;hexo-backup.git hexo-backup<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如何将仓库拷贝到本地？(以Windows版本为例)</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cd Desktop
git clone git@github.com:dhndzwxj&#x2F;hexo-backup.git juncker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>当然，进行这一切的前提是提前在使用的电脑上设置好SSH key，方法详见本文章3.1节。</p>
<p>下载主题：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git clone -b master https:&#x2F;&#x2F;github.com&#x2F;jerryc127&#x2F;hexo-theme-butterfly.git themes&#x2F;butterfly<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/af83fc73e525">【完美解决】Hexo博客出现“Cannot GET/xxx”错误</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm audit fix<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="1-首先搭建nodejs和git环境"><a class="markdownIt-Anchor" href="#1-首先搭建nodejs和git环境"></a> 1. 首先搭建nodejs和git环境</h2>
<p>这两个环境相当于博客搭建的基础设施，没有这两个东西的支持，就没法对自己的博客实现结构化管理。虽然这一步看起来非常枯燥无聊，却是实现后续所有功能的关键步骤！经过实验，下载这两个环境的时候，一定要关闭电脑的安全中心当中的“病毒和威胁防护”，否则直接被电脑当病毒杀灭了。</p>
<h3 id="11-windows版本"><a class="markdownIt-Anchor" href="#11-windows版本"></a> 1.1 Windows版本</h3>
<p>第一步，点击<a href='https://nodejs.org/en/download/current/' target='_blank'>nodejs</a>进行下载nodejs。</p>
<table>
  <tr>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20210726-1.png' height=250px></td>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20210726-2.png' width=300px></td>
  </tr>
</table>
<p>按照提示一步一步进行安装操作即可(<span style='font-family:kaiti'>时间比较长，请保持耐心~</span>)。下一步是Windows平台配置环境。</p>
<p>高级系统设置——环境变量（<span style='font-family:kaiti'>配置环境变量的目的是，以后<code>git</code>和<code>npm</code>这两个命令可以在任何目录下使用，变成了全局的指令。不配置的话会出错！</span>）</p>
<p>新增系统变量：<br />
变量名填：NODE_PATH<br />
变量值填：（文件路径）</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20210726-3.png' width=500px>
</div>
<p>还需要在Path变量名中修改nodejs文件默认路径</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20210726-4.png' height=350px>
</div>
<p>第二步，git环境搭建</p>
<p>到Git官网下载，<a href='/local_file/Git-2.33.1-64-bit.exe' target='_blank'>下载地址</a>，一步一步进行安装。如下图(仅展示需要提示的部分，基本上选择默认选项即可)：</p>
<table>
  <tr> 
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20210726-5.png' height=200px border=0></td> 
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20210726-6.png' height=200px border=0></td> 
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20210726-7.png' height=200px border=0></td>
  </tr>
</table>
<h3 id="12-mac版本"><a class="markdownIt-Anchor" href="#12-mac版本"></a> 1.2 Mac版本</h3>
<p>苹果电脑上的安装相对比较简单。</p>
<p>下载nodejs：<a href='https://nodejs.org/en/' target='_blank'>node-v16.11.1.pkg</a></p>
<p>下载git：<a href='https://sourceforge.net/projects/git-osx-installer/files/git-2.33.0-intel-universal-mavericks.dmg/download?use_mirror=autoselect' target='_blank'>git-2.33.0-intel.dmg</a></p>
<p>检查安装的版本信息：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># 首先检查是否安装了git和node.js，终端输入一下命令，
node -v #是否出现安装版本信息，出现说明已经安装了
git --version #同上述情况
# 如果没有安装，则进行安装,都可以通过直接下载安装测序进行安装，这里不演示了。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果已经安装好了上述的软件，那么可以安装hexo，然后等待安装成功即可。</p>
<h3 id="13-nas版本"><a class="markdownIt-Anchor" href="#13-nas版本"></a> 1.3 Nas版本</h3>
<p>略，可参考<a href='https://blog.csdn.net/bryanwang_3099/article/details/114642267' target='_blank'>基于黑群晖 NAS 搭建 Hexo 博客系统</a>。</p>
<h2 id="2-搭建博客站点"><a class="markdownIt-Anchor" href="#2-搭建博客站点"></a> 2. 搭建博客站点</h2>
<h3 id="21-windows博客安装"><a class="markdownIt-Anchor" href="#21-windows博客安装"></a> 2.1 Windows博客安装</h3>
<p>第一步是安装Hexo环境：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm install -g hexo-cli<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这一步有个坑，因为<code>npm</code>的服务器在海外，所以有时候用这个指令安装东西的话速度比较慢。好在国内有淘宝镜像<code>cnpm</code>，功能和原装的<code>npm</code>一模一样，只需在命令行中输入：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以后直接用cnpm替换npm即可！如有可选更新，cnpm也可以进行升级：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm -g i cnpm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>第二步是新建一个存放博客的专属文件夹，然后在这个文件夹下进行操作：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># 在你的家目录下创建一个blog文件夹
mkdir dlog
# 进入目录
cd dlog
# 初始化目录
hexo init
#开启本地服务 
hexo s<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>出现以下信息，说明你可以本地访问博客系统，在浏览器输入<code>http://localhost:4000</code>这个网址，就可以看到博客首页。</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211022-8.png' width=450px>
</div>
<h3 id="22-mac博客安装"><a class="markdownIt-Anchor" href="#22-mac博客安装"></a> 2.2 Mac博客安装</h3>
<p>Mac上的步骤不能说一模一样的，反正也是八九不离十了。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo npm install -g hexo-cli
# 在你的家目录下创建一个blog文件夹
mkdir blog
# 进入目录
cd blog
# 初始化目录
hexo init
#开启本地服务 
hexo s<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="23-部署hexo博客以下步骤对windows和mac而言没有任何区别"><a class="markdownIt-Anchor" href="#23-部署hexo博客以下步骤对windows和mac而言没有任何区别"></a> 2.3 部署hexo博客（以下步骤对Windows和Mac而言，没有任何区别）</h3>
<p>安装<code>cnpm</code>：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm config set registry https:&#x2F;&#x2F;registry.npm.taobao.org
sudo npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>首先需要安装<code>hexo-deployer-git</code>插件，这样我们才能把生成的<code>public</code>文件夹部署到Github或者其他代码托管平台。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm install hexo-deployer-git --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>下面你需要打开根目录，然后在这个目录下找到<span style='color:red'>站点配置文件</span><code>_config.yml</code>（如下图左）。并且打开这个文件，进行编辑。</p>
<table>
  <tr>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211025-9.png' height=300px></td>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211025-10.png' height=300px></td>
  </tr>
</table>
<p>在站点配置文件内（如上图右）找到<code>deploy</code>这一行代码，按照以下的格式修改即可。（<span style='font-family:kaiti'>下面是本人的个性化设置，各个参数是什么意思，容我细细道来</span>）</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">deploy:
  type: git
  repo: git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git 
  branch: master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>deploy: 部署的意思，一个关键词</li>
<li>type：部署的类型，这里选择的是git，就是上面我们已经安装的那个！</li>
<li>repo：仓库的意思，我们所有的本地文件都要上传到这里！我们要在github上面申请自己的账号，建造自己的仓库~（具体怎么做见后文！）</li>
<li>branch：仓库的分支的意思，一个仓库里面可以有多个分支，就像是一个大院里面有很多间厢房一样。具体的含义后面解释。</li>
</ul>
<h3 id="24-nas的情况"><a class="markdownIt-Anchor" href="#24-nas的情况"></a> 2.4 Nas的情况</h3>
<p>略，可参考<a href='https://blog.csdn.net/bryanwang_3099/article/details/114642267' target='_blank'>基于黑群晖 NAS 搭建 Hexo 博客系统</a>。</p>
<h2 id="3-将博客部署到github或者gitee"><a class="markdownIt-Anchor" href="#3-将博客部署到github或者gitee"></a> 3. 将博客部署到Github或者Gitee</h2>
<h3 id="31-github"><a class="markdownIt-Anchor" href="#31-github"></a> 3.1 Github</h3>
<p>对我们而言，Github可能只是一个存数据的仓库而已。但对于大多数编程爱好者而言，这是一个巨大的资源宝库，是全球编程爱好者交流思想的平台。它的官方网址是：<a href='https://github.com' target='_blank'>Github</a>。</p>
<p>第一步要在Github上申请一个账号。点击网站右上角的<code>Sign up</code>，然后在下一个页面用自己的邮箱进行注册，输入一个比较复杂的密码，输入自己的个性化用户名，然后选择是否接受更新（输入y表示同意，n表示不同意），然后进行人机验证，最后在邮箱接收验证码。</p>
<table>
  <tr>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211025-11.jpg' width=600px></td>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211025-12.jpg' width=600px></td>
  </tr>
</table>
<p>后面就是一些个性化的设置，不关键，此处略去。如果想跳过这些烦人的步骤，直接把网页拉倒最底下，点一下skip personalization即可。</p>
<p>接下来进入github个人首页，如下图所示。</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211025-13.jpg' width=700px>
</div>
<p>下面我们就要建立“仓库”用以储存我们的博客网站了！点击如上图中左边的“create repository”（<span style='font-family:kaiti'>如果你已经有仓库了，那么酒店左上角的“New”，或者点右上角“+”，里面有个“New repository”</span>），进入下面的页面。这个页面里面一些设置要特别注意了！<span style='color:red'>仓库的名字（repository name）一定要和自己的名字(owner)一模一样！而且一定要写成<code>yourname.github.io</code>的格式。不然后面没办法生成相应的github页面。</span></p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211025-14.png' width=600px>
</div>
<p>这样仓库就建好了。每一个仓库都有自己的地址，如下图：</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211026-15.png' width=600px>
</div>
<p>一般而言，最重要的地址是SSH地址，将其复制下来，粘贴到博客站点配置文件<code>blog/_config.yml</code>就可以了。这里解释了上面<code>deploy</code>中<code>repo</code>的参数的含义！</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">deploy:
  type: git
  repo: git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git 
  branch: master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>下一步要做的呢，就是在本地的文件和github仓库之间建立联系，其实两行代码也就解决了：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git config --global user.name &quot;dhndzwxj&quot;
git config --global user.email dhndzwxj@ruc.edu.cn<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><span style='color:red'>注意啊，上面的user.name和user.email一定替换成自己的githubID和注册的邮箱~</span></p>
<p>接下来还有个问题！我们目的是把本地的文件上传到云端的github，但是每次访问github，它都会要求我们输入密码，否则就没有权限（也是出于安全的目的）。怎么省掉这个麻烦呢？方法就是创建SSH（别问我这是啥，照着下面的说法做就是了）！</p>
<p>（1）检查是否有SSH key</p>
<p>登陆<code>github</code>，点击头像位置处 <code>Settings ——&gt; SSH and GPG keys</code> ，查看是否有<code>SSH keys</code>。如果有，直接跳到第（3）步；如果没有，则继续。</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211026-16.jpg' width=650px>
</div>
<p>（2）新建 SSH key，在CMD中输入如下代码，注意大小写，后面的邮箱替换成自己注册github的邮箱：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh-keygen -t rsa -C &quot;dhndzwxj@ruc.edu.cn&quot;
ssh-keygen -t ed25519 -C &quot;dhndzwxj@ruc.edu.cn&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>然后会出现：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Generating public&#x2F;private rsa key pair.
Enter file in which to save the key (&#x2F;c&#x2F;Users&#x2F;电脑名&#x2F;.ssh&#x2F;id_rsa):<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>直接回车就可以。然后会出现：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Enter passphrase (empty for no passphrase):
Enter same passphrase again:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>要求你输入密码，这个密码会在你提交项目时使用，如果为空的话提交项目时则不用输入。这个设置是防止别人往你的项目里提交内容，<span style='color:blue'>但就我个人的使用体验而言，还是不设置的好，否则的话每次上传都需要输入密码，很麻烦。</span></p>
<p><b>注意：输入密码的时候没有*字样的，直接输入就好</b>。然后会出现：</p>
<pre class="line-numbers language-none"><code class="language-none">BASH
Your identification has been saved in &#x2F;c&#x2F;Users&#x2F;电脑名&#x2F;.ssh&#x2F;id_rsa.
Your public key has been saved in &#x2F;c&#x2F;Users&#x2F;电脑名&#x2F;.ssh&#x2F;id_rsa.pub.
The key fingerprint is:
65:69:······02:4b emailname@email.com
The key&#39;s randomart image is:
+--[ RSA 2048]----+
|                 |
|       .   o .   |
|    . o o &#x3D; o    |
|   . o * &#x3D; o     |
|  E  o + o .     |
| . o.   . .      |
|     ..          |
+-----------------+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>至此，密钥已经成功生成。</p>
<p>（3）接下来在github上添加SSH key：</p>
<ul>
<li>打开本地文件：id_rsa.pub（文件路径可以在上一步SSH生成成功后看到路径，比如我的是<code>/Users/电脑名/.ssh/id_rsa.pub</code>），可以将这个文件在编辑器中打开，然后全选复制。
<ul>
<li>这一步需要注意，打开后直接复制可能会损坏原来的字段格式，推荐使用命令行进行复制。mac上可以使用这个代码：<code>cat ~/.ssh/id_rsa.pub</code>。windows电脑就使用这个代码：<code>clip &lt; C:/Users/Administrator/.ssh/id_rsa.pub</code>。</li>
<li>登陆github，点击头像位置处 Settings ——&gt; SSH and GPG keys ——&gt; New SSH key，点击新建SSH key。</li>
</ul>
</li>
<li>将 ① 中复制的内容粘贴在key文本框里，title可以不用填（或者自己起一个名字也可以）。</li>
</ul>
<p>（4）测试设置是否成功：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh -T git@github.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如果出现以下内容：<code>Hi dhndzwxj! You've successfully authenticated, but GitHub does not provide shell access.</code>。或者<code>kex_exchange_identification: Connection closed by remote host</code>。可以尝试访问该网站：<a target="_blank" rel="noopener" href="https://docs.github.com/cn/authentication/troubleshooting-ssh/error-permission-denied-publickey">https://docs.github.com/cn/authentication/troubleshooting-ssh/error-permission-denied-publickey</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm un hexo-deployer-git
npm i hexojs&#x2F;hexo-deployer-git
ssh -T GITHUB-dhndzwxj@github.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>（5）然后就可以部署你的博客到github啦。这之后，输入网址<code>yourname.github.io</code>，就能访问自己的网站了。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo cl &amp;&amp; hexo g &amp;&amp; hexo d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如果这一步报错，可能是因为没有安装<code>hexo-deployer-git</code>插件，安装即可：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm install hexo-deployer-git --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>代码解读：第（6）步实现了三个步骤：</p>
<ul>
<li>
<p><code>hexo cl</code> 是 <code>hexo clean</code>的简写。意思是清除本地的缓存，实际上就是把博客文件夹下的<code>public</code>文件夹删除掉了。这个<code>public</code>是基于本地的文件生成的、用于上传到仓库或者其他网站服务器上的文件夹，可以理解为本地文件上网的中转站、交通工具，删掉了也不影响本地的内容。</p>
</li>
<li>
<p><code>hexo g</code> 是<code>hexo generate</code>的简写，意思是生成public文件夹。</p>
</li>
<li>
<p><code>hexo d</code>是<code>hexo deploy</code>的简写，意思是将生成的public文件夹部署到网上，我们这里是部署到github上面。为了顺利部署，我们前面也提到过，要在站点文件夹下<code>_config.yml</code>文件中修改一些内容，如下：</p>
</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">deploy:
  type: git
  repo: git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git 
  branch: master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>上面的<code>repo</code>后面要换成自己仓库的SSH，SSH在如下的位置：</p>
<div align='center'>
<img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211026-17.png' width=550px>
</div>
<h3 id="31a-hexo-d遇到的意外情况"><a class="markdownIt-Anchor" href="#31a-hexo-d遇到的意外情况"></a> 3.1a Hexo d遇到的意外情况</h3>
<p>不过<code>hexo d</code>还可能遇到其他一些情况：<code>Please make sure you have the correct access rights and the repository exists</code> 。解决方法是：</p>
<p>到这里问题就很明确了，是DNS解析出问题了，导致github.com域名被解析成了localhost的ip地址，就自然连不上GitHub了。</p>
<p>Windows下执行<code>ipconfig /flushdns</code> 清楚DNS缓存后也没用，最后修改<code>/etc/hosts</code>文件，增加一条github.com的域名映射搞定。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">140.82.113.4 github.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>设置http proxy</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git config --global http.proxy socks5:&#x2F;&#x2F;127.0.0.1:7890

git config --local http.postBuffer 524288000 
#如果是缓存不够，设置500M缓存

git config --global sendpack.sideband false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果要取消代理：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git config --global --unset http.proxy
git config --global --unset httpx.proxy<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>client_loop: send disconnect: Broken pipeiB</p>
<p>I solved the same problem by editing the file <code>~/.ssh/config</code> to have:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Host *
    User dhndzwxj@ruc.edu.cn
    Hostname ssh.github.com
    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa
    ServerAliveInterval 20
    TCPKeepAlive no
    Port 22<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果还有ip地址问题，就删掉<code>/.ssh/known_hosts</code>。</p>
<p>github 的ip地址为。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ping github.com
PING github.com (140.82.113.4): 56 data bytes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>！！！！！！！！！！！！！！！！！！！！</p>
<p>删除.ssh文件夹下的<code>known_hosts</code></p>
<p>git 设置和取消代理</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># 设置ss
git config --global http.proxy &#39;socks5:&#x2F;&#x2F;127.0.0.1:1080&#39;

git config --global https.proxy &#39;socks5:&#x2F;&#x2F;127.0.0.1:1080&#39;

# 设置代理
git config --global https.proxy http:&#x2F;&#x2F;127.0.0.1:1080

git config --global https.proxy https:&#x2F;&#x2F;127.0.0.1:1080

# 取消代理
git config --global --unset http.proxy

git config --global --unset https.proxy<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>还可能遇见这种问题：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">On branch master
Changes not staged for commit:   
	(use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
	(use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)
  (commit or discard the untracked or modified content in submodules)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>删掉博客目录下的<code>.git</code>文件夹（一般为隐藏状态）即可。不过值得注意的是，这个文件夹被删掉之后，所有的远程“代号需要重新设置”：</p>
<pre class="line-numbers language-none"><code class="language-none">git remote add [代号] [仓库名]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="32-gitee"><a class="markdownIt-Anchor" href="#32-gitee"></a> 3.2 Gitee</h3>
<p>别名“码云”，服务器在国内。优点是下载速度比Github快了一个数量级，缺点是一旦博客中有某些“敏感词”就无法上线自己的博客。它的官方网址是：<a href='https://gitee.com/' target='_blank'>Gitee</a>。后续的过程基本上重复了上一步在Github中所作的一切，因此不再赘述。</p>
<p>不过gitee的站点发布和github不太一样。需要在最后一步开启网站服务。不过我的博客经常被gitee检查出敏感词汇，因此一直没有上线成功，就不展示了哈~</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20210729-18.jpg' width=500px>
  <p align='center' style='font-family:kaiti'></p>
  <p align='left' style='font-family:fangsong'></p>
</div>
<h2 id="4-撰写博客"><a class="markdownIt-Anchor" href="#4-撰写博客"></a> 4. 撰写博客</h2>
<h3 id="41-博客文件夹的介绍"><a class="markdownIt-Anchor" href="#41-博客文件夹的介绍"></a> 4.1 博客文件夹的介绍</h3>
<p>我们打开自己的博客根目录，跟着我一个个了解里面的这些文件（夹）都是干什么的：</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211026-18.png' width=500px>
</div>
<ul>
<li><code>_config.yml</code>：俗称站点配置文件，很多与博客网站的格式、内容相关的设置都需要在里面改。</li>
<li><code>node_modules</code>:存储Hexo插件的文件，可以实现各种扩展功能。一般不需要管。</li>
<li><code>package.json</code>：别问我，我也不知道干嘛的。</li>
<li><code>scaffolds</code>：模板文件夹，里面的<code>post.md</code>文件可以设置每一篇博客的模板。具体用起来就知道能干嘛了。</li>
<li><code>source</code>：非常重要。所有的个人文件都在里面！</li>
<li><code>themes</code>：主题文件夹，可以从<a href='https://hexo.io/themes/' target='_blank'>Hexo主题官网</a>或者网上大神的Github主页下载各种各样美观的主题，让自己的网站变得逼格高端的关键！</li>
</ul>
<p>接下来重点介绍<code>source</code>文件夹。新建的博客中，<code>source</code>文件夹下默认只有一个子文件夹——<code>_posts</code>。我们写的博客都放在这个子文件夹里面。我们还可以在<code>source</code>里面新建各种子文件夹满足自己的个性化需求，对初学者而言，我们先把精力放在主线任务上，然后再来搞这些细节。</p>
<h3 id="42-新建博客文件"><a class="markdownIt-Anchor" href="#42-新建博客文件"></a> 4.2 新建博客文件</h3>
<p>博客文件格式为<code>.md</code>（Markdown格式文件，建议使用<a href='https://www.typora.io' target='_blank'>typora软件</a>进行编辑）。我们<span style='color:red'>一定</span>要用代码建立新的博客 ：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo n 文件名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211026-19.png' width=750px>
</div>
<p>如上图，左边的是<code>scafford</code>文件夹下的模板文件，右边是我们刚刚新建的markdown文件。我们可以看出模板文件是干嘛用的了吧！之所以要用代码新建博客文件，是因为这种方式生成的文件有前面的头文件(Front Matter)，这些内容对于后面生成网页很有用！默认的模板文件中并没有这么丰富的内容，这些新添加的东西都是我写博客一年来积累的符合个人习惯的设置，不必邯郸学步。</p>
<p>写好内容后，在命令行一键三连：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然后随便打开一个浏览器，在网址栏输入<code>localhost:4000/</code>，就能发现自己的网站更新了！不过这只是在本地进行了更新，要想部署到网上（Github上），输入如下代码：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然后在浏览器地址栏输入<code>https://yourname.github.io</code>，或者<code>yourname.github.io</code>就能在网上浏览自己的博客了！</p>
<p>以上，我们的博客网站1.0版本就搭建完成了，如果没有更多的需求，做到这里基本上就可以了。如果有更多的要求，还需要进一步的精耕细作！</p>
<h3 id="43-一些typora上的操作markdown语法持续更新"><a class="markdownIt-Anchor" href="#43-一些typora上的操作markdown语法持续更新"></a> 4.3 一些Typora上的操作（Markdown语法，持续更新）</h3>
<p>如果想要系统学习相关的编码知识，需要研究以下两套代码：</p>
<p>Markdown语法：<a href='https://www.runoob.com/markdown/md-tutorial.html' target='_blank'>菜鸟教程</a></p>
<p>Markdown是支持html和html5的语法的：<a href='https://www.runoob.com/html/html-tutorial.html' target='_blank'>菜鸟教程</a></p>
<p>不过出于快速上手的目的，下面我分享一些设置和模板，方便新学者能快速投入使用。</p>
<p>首先要对Typora软件进行一些设置。按<code>Ctrl+,</code>打开其设置界面。</p>
<p>（1）由于个人喜欢使用<a href='https://lanlan2017.github.io/blog/83c2e83a/' target='_blank'>LaTeX语法</a>，因此要在<code>Markdown</code>标签中打开内联公式：</p>
<ul>
<li>
<div align='center'>
<img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211026-20.png' width=450px>
</div>
</li>
</ul>
<p>（2）此外如果在Typora中插入图片，我的做法是用QQ截图（或者其他截图工具）然后直接粘贴到Typora里。这样做一般都会成功，生成的图片格式如下：</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">![image-20211026101023735](&#x2F;..&#x2F;..&#x2F;images&#x2F;%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97&#x2F;image-20211026101023735.png)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>
<p>插入图片代码的基本格式为<code>![图片描述](图片路径)</code>。其中“图片描述”部分可以省略不写。图片路径是我自己设置过的：打开Typora的设置，在“图像”标签下，自定义的图片插入路径：（<span style='font-family:kaiti'>如果不设置，我都不知道这插入的图片存到我电脑的什么奇怪位置去了！</span>）</p>
</li>
<li>
<div align='center'>
<img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211026-21.png' width=450px>
</div>
</li>
<li>
<p><code>../../source/images/$&#123;filename&#125;</code>的含义是，在<code>_post</code>的同目录（<code>source</code>）下，创建一个<code>images</code>子文件夹（如果文件夹已经存在就不另建了），然后在<code>images</code>下，以当前工作的markdown文件名新建子子文件夹，于是这篇博文中的所有图片都保存在这个新的子子文件夹下了。</p>
</li>
<li>
<p>当然，我不推荐用上面的方法插入图片，因为没办法设置图片的大小、位置等信息。我一般用html标签语言插入图片，代码如下：</p>
</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>center<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>图片路径<span class="token punctuation">'</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>450px</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>center<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span>15px<span class="token punctuation">;</span><span class="token property">font-family</span><span class="token punctuation">:</span>kaiti<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">'</span></span></span><span class="token punctuation">></span></span>图片标题 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>
<p><code>&lt;div&gt;&lt;/div&gt;</code>是html中表示代码块的标签，相似的还有<code>&lt;span&gt;&lt;/span&gt;</code>。只不过前者用于行间，后者用于行内。它包裹住所有的内容都会独立出现为一个大模块，里面的<code>align='center'</code>是设置整个模块的位置。</p>
</li>
<li>
<p><code>&lt;img&gt;</code>是设置图片插入的标签（这个标签没有<code>&lt;/img&gt;</code>配合），<code>src</code>写的是图片路径参数，<code>width</code>是图片宽度参数，<code>px</code>是宽度单位。其实还有高度的参数<code>height</code>，只不过我一般宽高只设置一个。还可以加入参数<code>float='left'</code>，效果就像是word里面的“四周环绕型”，不推荐。</p>
</li>
<li>
<p><code>&lt;p&gt;&lt;/p&gt;</code>是图片周边的文字内容。<code>align</code>前面已经介绍，<code>style</code>下可以设置文字的字号(<code>font-size</code>)、字体(<code>font-family</code>)、颜色(<code>color</code>)等，彼此之间用英文的分号间隔。（<span style='font-family:kaiti'>注意：这些属性都是可选的，也可以一个style都不写，那样就随系统默认格式。</span>）</p>
</li>
</ul>
<p>（3）行间文字的设置，和上面介绍的图片周边的文字基本一样，只不过这里一般使用<code>&lt;span&gt;&lt;/span&gt;</code>标签。格式如下：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>blue<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span>yellow<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span>18px<span class="token punctuation">;</span><span class="token property">font-family</span><span class="token punctuation">:</span>hei</span><span class="token punctuation">'</span></span></span><span class="token punctuation">></span></span>测试字体<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>（4）如果要插入代码块，把自己的代码存在文章中，<span style='color:red'>在英文输入法下</span>按三下键盘上的这个键（下图），然后回车，代码环境就出现了：</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211026-22.jpg' width=600px>
</div>
<p>（5）插入表格：<code>段落——表格——插入表格</code>。</p>
<p>（6）无序列表</p>
<p>就是输入减号<code>-</code>然后按下空格，按下回车。如下：</p>
<ul>
<li>一级列表
<ul>
<li>二级列表</li>
</ul>
</li>
</ul>
<p>生成二级列表的方法是按键盘的<code>Tab</code>键，返回上一级列表的方法是按键盘的<code>Shift+Tab</code>键。</p>
<p>（7）有序列表</p>
<p>就是输入1.然后按下空格，按下回车，如下：</p>
<ol>
<li></li>
<li></li>
</ol>
<p>（8）文中尾注</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">马克思[^2]是全世界无产阶级和劳动人民的伟大导师。

[^2]: 卡尔·马克思，全名卡尔·海因里希·马克思（德语：Karl Heinrich Marx，1818年5月5日－1883年3月14日），马克思主义的创始人之一。……<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>注意：在typora中写文章，能用html代码就别用markdown语法，否则生成网页的时候非常容易出现问题。比如对于加粗，建议使用标签<code>&lt;b&gt;&lt;/b&gt;</code>。而不是markdown的<code>**内容**</code>。</p>
</blockquote>
<h2 id="5-一些插件的运用"><a class="markdownIt-Anchor" href="#5-一些插件的运用"></a> 5. 一些插件的运用</h2>
<p>使用插件可以让我们的博客功能更为强大，也能满足自己的一些特殊需要。下面列举一些事例，如有其他的要求，可以自行上网搜索、学习。</p>
<h3 id="51-本地搜索插件现在很多主题都自带了"><a class="markdownIt-Anchor" href="#51-本地搜索插件现在很多主题都自带了"></a> 5.1 本地搜索插件(现在很多主题都自带了)</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm install hexo-generator-search --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然后配置博客站点目录配置文件<code>dlog/_config.yml</code>：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">#搜索功能
search:
  path: search.xml
  field: post
  content: true
  format: html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><code>path</code>：表示搜索后生成的文件路径，可以生成<code>xml</code>和<code>json</code>两种格式；将<code>path</code>设置为“<code>content.json</code>”就可以替代第二个插件。</li>
<li><code>field</code>：表示搜索的范围，有“<code>post</code>、<code>page</code>和<code>all</code>”三种值。
<ul>
<li><code>post</code>：所有的文章；</li>
<li><code>page</code>：所有顶部导航选项的页面；</li>
<li><code>all</code>：所有的文章和顶部导航选项的页面。</li>
</ul>
</li>
<li><code>content</code>：是否包含搜索到的文章的全部内容。如果<code>false</code>，生成的结果只包括标题和创建时间这些信息，没有文章主体。默认情况下是<code>true</code>.</li>
<li><code>format</code>：搜索到的内容、选项的格式。
<ul>
<li><code>html</code>(默认)：将<code>html</code>原文本缩略。</li>
<li><code>striptags</code>：将<code>html</code>原文本缩略，并删除所有标记。</li>
<li><code>raw</code>：记下每一篇文章或每一页的文字。</li>
</ul>
</li>
</ul>
<p>默认的搜索结果框“太短”，显示的结果太少，用的不方便。要想修改，在文件<code>themes/butterfly/source/css/_search/local-search.styl</code>中找到：</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">.search-result-list
  <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto
  <span class="token property">max-height</span><span class="token punctuation">:</span> 30rem //10.5rem<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>修改其中<code>max-height</code>后面的参数即可！（其默认值是10.5rem，我个人喜欢长的结果栏，设置成了30rem）</p>
<h3 id="52-hexo设置永久链接"><a class="markdownIt-Anchor" href="#52-hexo设置永久链接"></a> 5.2 Hexo设置永久链接</h3>
<p>在做优化之前，hexo-next文章链接默认的生成规则是：<code>:year/:month/:day/:title</code>，是按照年、月、日、标题来生成的。这样，如果文章标题是中文的话，URL链接是也会是中文，特别容易出现编码错乱的问题。那能不能生成唯一不变的URL链接呢？答案是可以的，已经有人给我们实现了。这就是我们要说的<code>hexo-abbrlink</code>插件：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm install hexo-abbrlink --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>修改博客站点配置文件_config.yml，将带有<code>permalink:</code>的一行改为：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">permalink: &#x2F;:abbrlink.html  # 此处可以自己设置
abbrlink:
    alg: crc32   #算法： crc16(default) and crc32
    rep: hex     #进制： dec(default) and hex<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="53-latex数学公式渲染的问题没有解决因为latex和markdown语法有冲突这一部分不建议新手观看"><a class="markdownIt-Anchor" href="#53-latex数学公式渲染的问题没有解决因为latex和markdown语法有冲突这一部分不建议新手观看"></a> 5.3 LaTeX数学公式渲染的问题（没有解决，因为latex和markdown语法有冲突！这一部分不建议新手观看）</h3>
<p>目前(2021年9月28日)唯一兼容的就是</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm i hexo-math --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><code>hexo-math</code>的好处是，最近依然有人在维护和更新，越来越好用！</p>
<blockquote>
<p>有几个坑：</p>
<ul>
<li>行间公式的换行，<code>\\</code>是远远不够的，要写成<code>\\\tag\\</code>;</li>
<li>上标符号<code>^</code>后面接了一个内容后要紧接着空格，不然会出错；例如：<code>^\star =</code>, <code>^&#123; \star&#125;</code></li>
<li>下标符号<code>_</code>和后面的内容一定要有间隔，例如：<code>x_ 1</code>,<code>\mathscr&#123;R&#125;_ &#123;++&#125;</code></li>
<li>数学公式中，二阶导数的两个“撇”最好用代码<code>^&#123; \prime\prime&#125;</code>来表示。</li>
<li>数学公式中。减号’-'前后一定不要什么内容都没有，不然会被渲染为markdown语法中的item！</li>
<li>latex中的公式环境eqnarray会在html中自动生成公式的tag，因此最好使用{eqnarray*}环境</li>
</ul>
</blockquote>
<p>Hexo默认使用<code>marked.js</code>去解析我们写的<code>markdown</code>，比如一些符号，<code>_</code>代表斜体，会被处理为标签，比如<code>x_i</code>在开始被渲染的时候，处理为<code>xi</code>，比如<b>init</b>会被处理成<b>init。</b></p>
<p>因此，我们需要采取<b>更换Markdown引擎</b>的方式。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm i hexo-renderer-mathjax --save
cnpm uninstall hexo-renderer-marked --save
cnpm install hexo-renderer-kramed --save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>执行上面的命令即可，先卸载原来的渲染引擎，再安装新的。</p>
<p>然后，跟换引擎后行间公式可以正确渲染了，但是这样还没有完全解决问题，行内公式的渲染还是有问题，因为<a href='https://link.jianshu.com/?t=https%3A%2F%2Fgithub.com%2Fsun11%2Fhexo-renderer-kramed' target='_blank'>hexo-renderer-kramed</a>引擎也有语义冲突的问题。接下来到博客根目录下，找到<code>node_modules\kramed\lib\rules\inline.js</code>，把其中两行的值做相应的修改：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> inline <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">escape</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\\([`*\[\]()#$+\-.!_>])</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">//escape: /^\\([\\`*&#123;&#125;\[\]()#$+\-.!_>])/, //当公式出现\\换行，被kramed渲染为\</span>
  <span class="token literal-property property">autolink</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^&lt;([^ >]+(@|:\/)[^ >]+)></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> noop<span class="token punctuation">,</span>
  <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^&lt;!--[\s\S]*?-->|^&lt;(\w+(?!:\/|[^\w\s@]*@)\b)*?(?:"[^"]*"|'[^']*'|[^'">])*?>([\s\S]*?)?&lt;\/\1>|^&lt;(\w+(?!:\/|[^\w\s@]*@)\b)(?:"[^"]*"|'[^']*'|[^'">])*?></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^!?\[(inside)\]\(href\)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">reflink</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^!?\[(inside)\]\s*\[([^\]]*)\]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">nolink</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">reffn</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^!?\[\^(inside)\]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">strong</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">em</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\*((?:\*\*|[\s\S])+?)\*(?!\*)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">//em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/, //取消kramed对_的转义</span>
  <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">br</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^ &#123;2,&#125;\n(?!\s*$)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">del</span><span class="token operator">:</span> noop<span class="token punctuation">,</span>
  <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[\s\S]+?(?=[\\&lt;!\[_*`$]| &#123;2,&#125;\n|$)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">math</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\$\$\s*([\s\S]*?[^\$])\s*\$\$(?!\$)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>之后，要在主题配置文件中开启<code>mathjax</code>开关，把<code>mathjax</code>默认的<code>false</code>修改为<code>true</code>，具体如下：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"># MathJax Support
mathjax:
  enable: true
  per_page: false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>别着急，这样还不够，还需要在文章的<code>Front-matter</code>里打开<code>mathjax</code>开关，如下：</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">---
title: index.html
date: 2016-12-28 21:01:30
tags:
mathjax: true
--<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="53a-调试公式bug技巧"><a class="markdownIt-Anchor" href="#53a-调试公式bug技巧"></a> 5.3a 调试公式bug技巧</h3>
<p>对于Typora软件而言，按<code>Crtl+/</code>（macOS按<code>command+/</code>）。可以进入源代码模式，这样就能看清楚那部分代码除了问题了！这样修改效率很高！（如下图）</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211123-23.png' width=600px>
</div>
<h3 id="54-脚注hexo-renderer-markdown-it-plus-插件目前在使用这个插件和hexo-renderer-kramed有冲突"><a class="markdownIt-Anchor" href="#54-脚注hexo-renderer-markdown-it-plus-插件目前在使用这个插件和hexo-renderer-kramed有冲突"></a> 5.4 脚注：hexo-renderer-markdown-it-plus 插件（目前在使用，这个插件和hexo-renderer-kramed有冲突）</h3>
<p>原生的主题是不支持网页脚注的，非常不方便。几经查找、探索，终于找到合适的方法，点击脚注即可实现跳转。</p>
<p>首先卸载原来的 markdown 渲染插件（我这里原来是 marked，这是 Hexo 提供的默认渲染插件），然后把 hexo-renderer-markdown-it-plus 装上：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm un hexo-renderer-marked --save
cnpm i hexo-renderer-markdown-it-plus --save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>支持数学公式的话，配合<code>hexo-math</code>环境：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm i hexo-math --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然后在博客站点根目录下的<code>_config.yml</code>中进行相应的配置。<a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-renderer-markdown-it/wiki/Simple-Configuration">简单的配置方法</a>只包括设置 markdown 格式，这里就不详述了。<a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-renderer-markdown-it/wiki/Advanced-Configuration">高级的配置方法</a>中包含很多可选项：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">markdown:
  # 渲染设置
  render:
    # 置为true时，html内容保持不变；置为false时，html内容将被转义成普通字符串
    html: true
    # 是否生成与XHTML完全兼容的标签（虽然我不懂是什么意思）
    xhtmlOut: false
    # 置为true时，每个换行符都被渲染成一个&lt;br&gt;（即Hexo的默认表现）；置为false时，只有空行才会被渲染为&lt;br&gt;（GFM的默认表现）
    breaks: true
    # 是否自动识别链接并把它渲染成链接
    linkify: true
    # 是否自动识别印刷格式（意思是把(c)渲染为©这样的）
    typographer: true
    # 如果typographer被设置为true，则该选项用于设置将dumb quotes（&quot;&quot;）自动替换为smart quotes
    quotes: &#39;“”‘’&#39;
  # 设置所需插件
  plugins:
    - markdown-it-abbr
    - markdown-it-footnote
    - markdown-it-ins
    - markdown-it-sub
    - markdown-it-sup
  # 锚点设置（因为我没有尝试相关内容，所以就不翻译相关说明了）
  anchors:
    level: 2
    collisionSuffix: &#39;v&#39;
    permalink: true
    permalinkClass: header-anchor
    permalinkSymbol: § #¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这里设置了文中章节、脚注等内容的格式。</p>
<h3 id="55-文章加密功能"><a class="markdownIt-Anchor" href="#55-文章加密功能"></a> 5.5 文章加密功能</h3>
<p>有些文章的内容，我们不希望别人能看到，Hexo提供了加密文章的插件：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm install --save hexo-blog-encrypt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然后在你的文章的头部(Front Matter)添加上对应的字段，如 password, abstract, message。（<span style='font-family:kaiti'>这时候文章模板<code>blog/scaffod/post.md</code>的作用就体现出来了，这些内容加在模板里，以后生成的每一篇文章都能选择是否进行加密</span>）</p>
<p>如果<code>password:</code>后面空着，就是无密码；我发现如果密码内容加上英文输入法下的引号，引号也不会被算作密码内容。</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">---
title: 文章加密
date: 2019-01-04T22:20:13.000Z
category: 教程
tags:
  - 博客
  - Hexo
keywords: 博客文章密码		
password: TloveY				#是该博客加密使用的密码
abstract: 密码：TloveY				#是该博客的摘要，会显示在博客的列表页
message:  输入密码，查看文章			#这个是博客查看时，密码输入框上面的描述性文字
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="56-利用hexo博客上传本地pdf文件并在线预览pdf"><a class="markdownIt-Anchor" href="#56-利用hexo博客上传本地pdf文件并在线预览pdf"></a> 5.6 利用Hexo博客上传本地pdf文件并在线预览pdf</h3>
<p>安装插件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm i hexo-pdf -S<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如果是网上的pdf，参考格式：</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% pdf http:&#x2F;&#x2F;www.u.arizona.edu&#x2F;~compitel&#x2F;marston.pdf %&#125; <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如果直接在想添加的页面中 (md 文件) 添加pdf，就以网页标签的格式写代码：</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&lt;embed width&#x3D;&#39;700&#39; height&#x3D;&#39;650&#39; fullscreen&#x3D;&#39;yes&#39; src&#x3D;&#39;http:&#x2F;&#x2F;www.u.arizona.edu&#x2F;~compitel&#x2F;marston.pdf&#39;&gt;点击打开pdf文件&lt;&#x2F;embed&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>对于<span style='color:red'>本地的pdf文件</span>，在搭建好的hexo博客的根目录的<code>blog/source</code>文件夹下新建一个文件夹，如<code>local_file</code>（用来存pdf文件。参考格式：</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% pdf &#39;&#x2F;local_file&#x2F;test.pdf&#39; %&#125; <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如果要让pdf文件在一个新的页面打开，参考下面的代码：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/local_file/test.pdf<span class="token punctuation">'</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>_blank<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>点击这里在新的网页打开pdf文件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>注意，要先执行<code>hexo d</code>命令将本地的pdf文件上传到<code>github</code>上，然后pdf文件才能显示在网站上！这里我们就不难发现，github的仓库充当的是远程服务器的作用！</p>
<p>参考：<a target="_blank" rel="noopener" href="https://github.com/superalsrk/hexo-pdf">https://github.com/superalsrk/hexo-pdf</a></p>
<h3 id="57-文章中引用本地文件的链接"><a class="markdownIt-Anchor" href="#57-文章中引用本地文件的链接"></a> 5.7 文章中引用本地文件的链接</h3>
<p>其实不只是pdf文件，其他文件也可以上传到github上，并且在文章中直接引用的。可以在根目录下创建自己的文件夹，比如说<code>my_folder</code>，然后在这个文件夹下创建一个文档<code>test.txt</code>。那么通过以下代码就可以直接插入到网站上面了：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/my_folder/test.txt<span class="token punctuation">'</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>_blank<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>test文件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>区别不过是，如果引用的是pdf文件，就能直接打开一个新页面并进行文件预览。如果是其他格式的文件，浏览器默认为我们把文件下载到本地。</p>
<h3 id="58-归档页面的文章数量"><a class="markdownIt-Anchor" href="#58-归档页面的文章数量"></a> 5.8 归档页面的文章数量</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm install --save hexo-generator-index
npm install --save hexo-generator-archive<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>然后在博客站点配置文件<code>blog/_config.yml</code>中更改：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">index_generator:
  path: &#39;&#39;
  per_page: 10
  order_by: -date
# 归档页面
archive_generator:
  per_page: 50
  yearly: true
  monthly: true
#效果，首页每间隔10篇文章就分页，归档页每间隔50篇文章才分页。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="59-mermaid功能"><a class="markdownIt-Anchor" href="#59-mermaid功能"></a> 5.9 mermaid功能</h3>
<p>这个<a href='https://butterfly.js.org/posts/4aa8abbe/#inlineImg' target='_blank'>博主</a>介绍了一些标签外挂功能，可以按需索取：</p>
<blockquote>
<p><code>mermaid</code>标签不允许嵌套于一些隐藏属性的标签外挂，例如: <code>tag-hide</code>内的标签外挂和<code>tabs</code>标签外挂，这会导致<code>mermaid</code>图示无法正常显示，使用时请留意。</p>
<p>请不要压缩<code>html</code>代码，不然会导致<code>mermaid</code>显示异常</p>
</blockquote>
<p>使用<code>mermaid</code>标签可以绘制<code>Flowchart</code>（流程图）、<code>Sequence diagram</code>（时序图 ）、<code>Class Diagram</code>（类別图）、<code>State Diagram</code>（状态图）、<code>Gantt</code>（甘特图）和<code>Pie Chart</code>（圆形图），具体可以查看<a href='https://mermaid-js.github.io/mermaid/#/' target='_blank'>mermaid文檔</a>。</p>
<p>由于网页不支持直接显示<code>Markdown</code>中的<code>mermaid</code>语法，需要安装一个插件：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm install --save hexo-filter-mermaid-diagrams<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然后设置站点根目录：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"># mermaid chart
mermaid: ## mermaid url https:&#x2F;&#x2F;github.com&#x2F;knsv&#x2F;mermaid
  enable: true  # default true
  version: &quot;7.1.2&quot; # default v7.1.2
  options:  # find more api options from https:&#x2F;&#x2F;github.com&#x2F;knsv&#x2F;mermaid&#x2F;blob&#x2F;master&#x2F;src&#x2F;mermaidAPI.js
    #startOnload: true  &#x2F;&#x2F; default true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>最后一步需要对<code>js</code>文件进行修改，需要修改的文件为<code>footer.swig</code>或者<code>footer.pug</code>或者<code>footer.ejs</code>或者</p>
<pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F;footer.swig
&#123;% if theme.mermaid.enable %&#125;
  &lt;script src&#x3D;&#39;https:&#x2F;&#x2F;unpkg.com&#x2F;mermaid@&#123;&#123; theme.mermaid.version &#125;&#125;&#x2F;dist&#x2F;mermaid.min.js&#39;&gt;&lt;&#x2F;script&gt;
  &lt;script&gt;
    if (window.mermaid) &#123;
      mermaid.initialize(&#123;&#123; JSON.stringify(theme.mermaid.options) &#125;&#125;);
    &#125;
  &lt;&#x2F;script&gt;
&#123;% endif %&#125;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs">&#x2F;&#x2F;- footer.pug
if theme.mermaid.enable &#x3D;&#x3D; true
  script(type&#x3D;&#39;text&#x2F;javascript&#39;, id&#x3D;&#39;maid-script&#39; mermaidoptioins&#x3D;theme.mermaid.options src&#x3D;&#39;https:&#x2F;&#x2F;unpkg.com&#x2F;mermaid@&#39;+ theme.mermaid.version + &#39;&#x2F;dist&#x2F;mermaid.min.js&#39; + &#39;?v&#x3D;&#39; + theme.version)
  script.
    if (window.mermaid) &#123;
      var options &#x3D; JSON.parse(document.getElementById(&#39;maid-script&#39;).getAttribute(&#39;mermaidoptioins&#39;));
      mermaid.initialize(options);
    &#125;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs">&lt;!-- footer.ejs --&gt;
&lt;% if (theme.mermaid.enable) &#123; %&gt;
  &lt;script src&#x3D;&#39;https:&#x2F;&#x2F;unpkg.com&#x2F;mermaid@&lt;%&#x3D; theme.mermaid.version %&gt;&#x2F;dist&#x2F;mermaid.min.js&#39;&gt;&lt;&#x2F;script&gt;
  &lt;script&gt;
    if (window.mermaid) &#123;
      mermaid.initialize(&#123;theme: &#39;forest&#39;&#125;);
    &#125;
  &lt;&#x2F;script&gt;
&lt;% &#125; %&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>例子</p>
<pre class="mermaid">pie title 日常支出
	"衣" : 100
	"食" : 200
	"住" : 200
	"行" : 200</pre>
<pre class="mermaid">flowchart LR
	1 --> 2 x--x 3 --- 4 <--> 5</pre>
<pre class="mermaid">stateDiagram-v2
[*] --> Still
Still --> [*]
Still --> Moving
Moving --> Still
Moving --> Crash
Crash --> [*]</pre>
<h3 id="510-hexo插入视频"><a class="markdownIt-Anchor" href="#510-hexo插入视频"></a> 5.10 Hexo插入视频</h3>
<p>首先安装插件：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm i hexo-tag-aplayer --save
cnpm i hexo-tag-dplayer --save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>然后写代码：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>center<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span> <span class="token attr-name">autoplay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>autoplay<span class="token punctuation">"</span></span> <span class="token attr-name">controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>controls<span class="token punctuation">"</span></span> <span class="token attr-name">allowfullscreen</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/local_video/各省GDP排行榜.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video/mp4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>对于B站视频而言，在网页端获取分享链接，然后直接粘贴进markdown文件即可（如下图）。</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211027-24.jpg' height=400px>
</div>
<p>当然这种方式生成的视频无法控制其大小和位置，因此我这么写：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>center<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
 	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//player.bilibili.com/player.html?aid=799951124&amp;bvid=BV1ey4y1b7GA&amp;cid=320466524&amp;page=1<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span>600px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">scrolling</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no<span class="token punctuation">"</span></span> <span class="token attr-name">framespacing</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">allowfullscreen</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>效果如下图：</p>
<p align='center'>
 	<iframe src="//player.bilibili.com/player.html?aid=799951124&bvid=BV1ey4y1b7GA&cid=320466524&page=1" style="width:100%; height:600px;" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
</p>
<p>至于来自其他视频网站的资源如何挂在自己的博客上，需要自己慢慢摸索了，不一一列举。</p>
<p>Safari上出现问题的原因可以参考这篇文章：<a href='https://www.jianshu.com/p/fecdec504ab0?from=singlemessage' target='_blank'>修复video标签在safari中无法播放mp4视频的问题。</a></p>
<h2 id="6-使用butterfly主题当前主题"><a class="markdownIt-Anchor" href="#6-使用butterfly主题当前主题"></a> 6 使用butterfly主题（当前主题）</h2>
<p><a target="_blank" rel="noopener" href='https://butterfly.js.org/posts/7670b080/' targer='_blank'>butterfly美化魔改教程合集</a></p>
<blockquote>
<p>注意：不要把个人需要的文件/图片放在主题<code>source</code>文件夹里，因为在升级主题的过程中，可能会把文件覆盖删除了。</p>
<p>在Hexo根目录的<code>source</code>文件夹里，创建一个文件夹来放置个人文件/图片。引用文件时直接写为<code>/文件夹名称/文件名</code>。这个技巧在配置主题文件时尤其要注意！</p>
</blockquote>
<h3 id="61-主题下载克隆"><a class="markdownIt-Anchor" href="#61-主题下载克隆"></a> 6.1 主题下载（克隆）</h3>
<p>这是从大神的github仓库里把主题克隆到我们的博客网站目录<code>blog/themes/butterfly</code>下：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git clone -b master https:&#x2F;&#x2F;github.com&#x2F;jerryc127&#x2F;hexo-theme-butterfly.git themes&#x2F;butterfly<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这个主题的模板引擎为<code>pug</code>格式的文件，因此需要安装对应的支持程序：(<span style='font-family:kaiti'>至于模板引擎文件是啥，可参考后面——不知道也无所谓</span>)</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm install hexo-renderer-pug hexo-renderer-stylus --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这里我经常会遇到一个问题：我的错误是 Cannot GET /，因此在public目录下寻找<code>index.html</code>是否存在。如果不存在，执行下面代码对其进行修复：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm audit fix<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>查看是否少了什么组件，通过<code>cnpm install hexo-xxx-xxx</code> 安装即可。</p>
<p>然后在博客站点配置文件<code>blog/_config.yml</code>中更改：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">theme: butterfly<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>注意，themes后面的参数，要和主题所在的<span style='color:red'>文件夹名</span>一致！</p>
<h3 id="62-网站背景"><a class="markdownIt-Anchor" href="#62-网站背景"></a> 6.2 网站背景</h3>
<p>默认显示白色，可设置图片或者颜色。</p>
<p>修改主题配置文件<code>blog/themes/butterfly/_config.yml</code></p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">#圖片格式 url(http:&#x2F;&#x2F;xxxxxx.com&#x2F;xxx.jpg)
#顏色（HEX值&#x2F;RGB值&#x2F;顔色單詞&#x2F;漸變色)
#留空 不顯示背景
background:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>留意: 如果你的网站根目录不是<code>/</code>,使用本地图片时，需加上你的根目录。<br />
例如：网站是<code>https://yoursite.com/blog</code>,引用一张<code>img/xx.png</code>图片，则设置<code>background</code>为 <code>url(/blog/img/xx.png)</code></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token property">theme_color</span><span class="token punctuation">:</span>
  <span class="token property">enable</span><span class="token punctuation">:</span> true
  <span class="token property">main</span><span class="token punctuation">:</span> <span class="token string">'#49B202'</span> #<span class="token string">"#e68258"</span> #<span class="token string">"#49B1F5"</span>
  <span class="token property">paginator</span><span class="token punctuation">:</span> <span class="token string">"#e68258"</span> #<span class="token string">"#00c4b6"</span>
  <span class="token property">button_hover</span><span class="token punctuation">:</span> <span class="token string">"#e68258"</span> #<span class="token string">"#FF7242"</span>
  <span class="token property">text_selection</span><span class="token punctuation">:</span> <span class="token string">"#00c4b6"</span>
  <span class="token property">link_color</span><span class="token punctuation">:</span> <span class="token string">"#b86ed0"</span> #<span class="token string">"#99a9bf"</span>
  <span class="token property">meta_color</span><span class="token punctuation">:</span> <span class="token string">"#858585"</span>
  <span class="token property">hr_color</span><span class="token punctuation">:</span> <span class="token string">"#A4D8FA"</span>
  <span class="token property">code_foreground</span><span class="token punctuation">:</span> <span class="token string">"#F47466"</span>
  <span class="token property">code_background</span><span class="token punctuation">:</span> <span class="token string">"rgba(27, 31, 35, .05)"</span>
  <span class="token property">toc_color</span><span class="token punctuation">:</span> <span class="token string">"#e68258"</span> #<span class="token string">"#00c4b6"</span>
  <span class="token property">blockquote_padding_color</span><span class="token punctuation">:</span> <span class="token string">"#e68258"</span> #<span class="token string">"#49b1f5"</span>
  <span class="token property">blockquote_background_color</span><span class="token punctuation">:</span> <span class="token string">"#e68258"</span> #<span class="token string">"#49b1f5"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="63-字数统计"><a class="markdownIt-Anchor" href="#63-字数统计"></a> 6.3 字数统计</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm install hexo-wordcount --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>修改主题配置文件：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">wordcount:
  enable: true
  post_wordcount: true
  min2read: true
  total_wordcount: true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>如需调整右侧卡片网站信息内项目的数据，在文件<code>/butterfly/layout/includes/widgets/card_webinfo.pug</code>中操作。</p>
<h3 id="64-主页和文章页面侧边栏设置"><a class="markdownIt-Anchor" href="#64-主页和文章页面侧边栏设置"></a> 6.4 主页和文章页面侧边栏设置</h3>
<p>需要在文件<code>/butterfly/layout/includes/widgets/index.pug</code>中操作。我这里是去掉了文章页面的“最新文章”部分，于是我在读懂这段代码后，把“最新文章”和“广告”对应的两条代码删除了。此外，我也想让头像成为<code>sticky_layout</code>（随着网页滑动跟着走的效果），我的代码改成了下面的样子：</p>
<pre class="line-numbers language-jade" data-language="jade"><code class="language-jade">&#x2F;&#x2F;- &#x2F;butterfly&#x2F;layout&#x2F;includes&#x2F;widgets&#x2F;index.pug

#aside-content.aside-content
  &#x2F;&#x2F;- post
  if is_post()
    &#x2F;&#x2F;- 如果是文章页面，下面对应的else应该指的是主页面
    - const tocStyle &#x3D; page.toc_style_simple
    - const tocStyleVal &#x3D; tocStyle &#x3D;&#x3D;&#x3D; true || tocStyle &#x3D;&#x3D;&#x3D; false ? tocStyle : theme.toc.style_simple
    if showToc &amp;&amp; tocStyleVal
      .sticky_layout
        include .&#x2F;card_post_toc.pug
    else
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_author&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_announcement&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_top_self&#39;, &#123;&#125;, &#123;cache: true&#125;)
      .sticky_layout
        if showToc
          include .&#x2F;card_post_toc.pug
        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_recent_post&#39;, &#123;&#125;, &#123;cache: true&#125;)
        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_ad&#39;, &#123;&#125;, &#123;cache: true&#125;)
  else
    &#x2F;&#x2F;- page
    !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_author&#39;, &#123;&#125;, &#123;cache: true&#125;)
    !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_announcement&#39;, &#123;&#125;, &#123;cache: true&#125;)
    !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_top_self&#39;, &#123;&#125;, &#123;cache: true&#125;)      

    .sticky_layout
      if showToc
        include .&#x2F;card_post_toc.pug
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_recent_post&#39;, &#123;&#125;, &#123;cache: true&#125;)
      &#x2F;&#x2F;- !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_ad&#39;, &#123;&#125;, &#123;cache: true&#125;)
      &#x2F;&#x2F;- !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_newest_comment&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_categories&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_tags&#39;, &#123;&#125;, &#123;cache: true&#125;)
      &#x2F;&#x2F;- !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_archives&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_webinfo&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_bottom_self&#39;, &#123;&#125;, &#123;cache: true&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>个人觉得<code>card_author</code>头像下面“文章”“标签”“分类”三个栏目没啥用，就把这个文件<code>butterfly/layout/includes/widget/card_author.pug</code>中的这些代码删掉，然后就有简洁的头像了~</p>
<pre class="line-numbers language-jade" data-language="jade"><code class="language-jade">.card-info-data.site-data.is-center
  a(href&#x3D;url_for(config.archive_dir) + &#39;&#x2F;&#39;)
    .headline&#x3D; _p(&#39;aside.articles&#39;)
    .length-num&#x3D; site.posts.length
  a(href&#x3D;url_for(config.tag_dir) + &#39;&#x2F;&#39;)
    .headline&#x3D; _p(&#39;aside.tags&#39;)
    .length-num&#x3D; site.tags.length
  a(href&#x3D;url_for(config.category_dir) + &#39;&#x2F;&#39;)
    .headline&#x3D; _p(&#39;aside.categories&#39;) 
    .length-num&#x3D; site.categories.length<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>此外，主页侧边栏“最新文章”、归档以及主页文章简介面上有图片，如果不想要这些图片，需要在主题配置文件下面的部分进行修改：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">cover:
  # display the cover or not (是否顯示文章封面)
  index_enable: false
  aside_enable: false
  archives_enable: false
  # the position of cover in home page (封面顯示的位置)
  # left&#x2F;right&#x2F;both
  position: both
  # When cover is not set, the default cover is displayed (當沒有設置cover時，默認的封面顯示)
  default_cover: &#x2F;private_img&#x2F;banner2.gif
    # - https:&#x2F;&#x2F;i.loli.net&#x2F;2020&#x2F;05&#x2F;01&#x2F;gkihqEjXxJ5UZ1C.jpg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>文章加密功能的设置，在文件<code>butterfly/layout/includes/widget/card_post_toc.pug</code>中进行编辑。</p>
<h3 id="64a-文章置顶"><a class="markdownIt-Anchor" href="#64a-文章置顶"></a> 6.4a 文章置顶</h3>
<p>【推荐】<code>hexo-generator-index</code>从 2.0.0 开始，已经支持文章置顶功能。你可以直接在文章的<code>front-matter</code>区域里添加<code>sticky: 1</code>属性来把这篇文章置顶。数值越大，置顶的优先级越大。</p>
<pre class="line-numbers language-none"><code class="language-none">title: &#123;&#123; title &#125;&#125;
author: 揭晓
categories:
  - null
  - null
  - null
tags:
  - null
  - null
  - null
mathjax:
abstract: 这里有东西被加密了，需要输入密码查看哦。
message: 您好，这里需要密码。
wrong_pass_message: 抱歉，这个密码看着不太对，请再试试。
wrong_hash_message: 抱歉，这个文章不能被纠正，不过您还是能看看解密后的内容。
typora-root-url: images
abbrlink: 
date: &#123;&#123; date &#125;&#125;
sticky:
description:
password:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="65-目录折叠"><a class="markdownIt-Anchor" href="#65-目录折叠"></a> 6.5 目录折叠</h3>
<p>由于我个人的目录比较大，完全展开三级目录的话，右边栏就完全被目录铺满了。<code>butterfly</code>主题提供了目录可折叠的选项，只需要在主题配置文件<code>/butterfly/config.yml</code>设置：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">card_categories: 
  enable: true
  limit: 0 # if set 0 will show all
  expand: true # none&#x2F;true&#x2F;false
  sort_order: # Don&#39;t modify the setting unless you know how it works<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>【以下功能在4.0版本的butterfly已经解决，不需要这么复杂的操作了！】不过折叠效果默认是展开的，我的目的是实现默认折叠，在有需要的时候点击再展开。怎么改呢？第一步还是在谷歌浏览器按<code>F12</code>查看网页源代码，经过一番探索，发现其实只需要修改对应的<code>css</code>(<code>styl</code>)文件即可</p>
<pre class="line-numbers language-stylus" data-language="stylus"><code class="language-stylus">&#x2F;&#x2F; &#x2F;butterfly&#x2F;source&#x2F;css&#x2F;_layout&#x2F;aside.styl
  .card-categories
    .card-category-list
      &amp;.child
        padding: 0 0 0 .8rem

      &gt; .parent
        &gt; a
          .card-category-list
            &amp;-name
              width: 70% !important

            &amp;-count
              width: calc(100% - 70% - 20px)
              text-align: right

        i
          float: right
          margin-right: -.35rem
          padding: .35rem
          transition: transform .3s
          transform: rotate(0)

          &amp;.expand
            transform: rotate(-90deg)

        if hexo-config(&#39;aside.card_categories.expand&#39;) &#x3D;&#x3D; true &#x2F;&#x2F;原装代码，此处值为false
          &gt; .child
            display: none<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>过程是，先看模板引擎文件：<code>/butterfly/layout/includes/widgets/card_categiries.pug</code></p>
<p>其中有一段代码是：</p>
<pre class="line-numbers language-jade" data-language="jade"><code class="language-jade">!&#x3D;aside_categories(&#123; ..., expand: theme.aside.card_categories.expand &#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>下一步是找到了对应的<code>JavaScript</code>文件：<code>/butterfly/scripts/helpers/aside_categories.js</code>，<code>js</code>中写了如何实现折叠功能，但是折叠的样式是<code>css</code>（<code>styl</code>）文件决定的！</p>
<p>经历千辛万苦，终于找到了对应的文件：<code>/butterf/source/css/_layout/aside.styl</code>，找到对应的代码段，只改了一个词就成功了。。。</p>
</blockquote>
<p>注意：文章内<code>toc</code>的设置也在这个文件中。</p>
<h3 id="66-本地搜索个性化修改"><a class="markdownIt-Anchor" href="#66-本地搜索个性化修改"></a> 6.6 本地搜索个性化修改</h3>
<p>主题配置文件<code>/blog/themes/butterfly/_config.yml</code>如下修改：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"># Local search
local_search:
  enable: true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>实现该功能的关键文件为<code>/butterfly/source/js/search/local-search.js</code>。最关键的一行代码为：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">datas<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">...</span>

<span class="token comment">// 以下为修改的内容：</span>
                keywords<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">keyword</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                  <span class="token keyword">const</span> regS <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>keyword<span class="token punctuation">,</span> <span class="token string">'gi'</span><span class="token punctuation">)</span> <span class="token comment">//声明一个全局匹配 忽略大小写的正则;g代表全局变量，i代表忽视大小写</span>
                  matchContent <span class="token operator">=</span> matchContent<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regS<span class="token punctuation">,</span> <span class="token string">'&lt;b class="search-keyword" style="color:red;font-family:kaiti">'</span> <span class="token operator">+</span> keyword <span class="token operator">+</span> <span class="token string">'&lt;/b>'</span><span class="token punctuation">)</span>
                  dataTitle <span class="token operator">=</span> data<span class="token punctuation">.</span>title<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regS<span class="token punctuation">,</span> <span class="token string">'&lt;b class="search-keyword" style="color:red;font-size:18px;font-family:kaiti">'</span> <span class="token operator">+</span> keyword <span class="token operator">+</span> <span class="token string">'&lt;/b>'</span><span class="token punctuation">)</span> <span class="token comment">//更换一下，避免替换大小写</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="67-评论功能添加twikoo"><a class="markdownIt-Anchor" href="#67-评论功能添加twikoo"></a> 6.7 评论功能添加——Twikoo</h3>
<h4 id="设置主题文件"><a class="markdownIt-Anchor" href="#设置主题文件"></a> 设置主题文件</h4>
<p>从3.0.0开始，开启评论需要在<code>comments-use</code>中填写你需要的评论。</p>
<p>支持双评论显示，只需要配置两个评论（第一个为默认显示）</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">comments:
  # Up to two comments system, the first will be shown as default
  # Choose: Disqus&#x2F;Disqusjs&#x2F;Livere&#x2F;Gitalk&#x2F;Valine&#x2F;Waline&#x2F;Utterances&#x2F;Facebook Comments&#x2F;Twikoo
  use:
    - Twikoo
  text: true # Display the comment name next to the button
  # lazyload: The comment system will be load when comment element enters the browser&#39;s viewport.
  # If you set it to true, the comment count will be invalid
  lazyload: true
  count: true # Display comment count in top_img
  card_post_count: false # Display comment count in Home Page<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<table>
<thead>
<tr>
<th>参数</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>use</td>
<td>使用的评论（填写的评论<span style='color:red'>首字母需要大写</span>，最多支持两个，如果不需要留空）；双评论不能是 Disqus 和 Disqusjs 一起，因为它们共用一个ID，会出错</td>
</tr>
<tr>
<td>text</td>
<td>是否显示评论服务商的名字</td>
</tr>
<tr>
<td>lazyload</td>
<td>是否为评论开启lazyload，开启后，只有滚动到评论位置时才会加载评论所需要的资源</td>
</tr>
<tr>
<td>count</td>
<td>是否在文章顶部显示评论数；livere 和 utterances 不支持评论数显示</td>
</tr>
<tr>
<td>card_post_count</td>
<td>是否在首页文章卡片显示评论数；gitalk、livere 和 utterances不支持评论数显示</td>
</tr>
</tbody>
</table>
<h4 id="云函数部署一键部署twikoo"><a class="markdownIt-Anchor" href="#云函数部署一键部署twikoo"></a> 云函数部署（一键部署Twikoo）</h4>
<ol>
<li>点击以下按钮将 Twikoo 一键部署到云开发<br />
<a href='https://console.cloud.tencent.com/tcb/env/index?action=CreateAndDeployCloudBaseProject&appUrl=https%3A%2F%2Fgithub.com%2Fimaegoo%2Ftwikoo&branch=dev' target='_blank'><button type="button" style='background:blue;color:white'>部署到云开发</button></a></li>
<li>进入<a href='https://console.cloud.tencent.com/tcb/env/login' target='_blank'>环境-登录授权 </a>，启用“匿名登录”</li>
<li>进入<a href='https://console.cloud.tencent.com/tcb/env/safety' target='_blank'>环境-安全配置</a>，将网站域名添加到“WEB安全域名”</li>
</ol>
<p><b>前端部署（在Hexo中使用）</b>：<a href='https://twikoo.js.org/quick-start.html#云函数部署' target='_blank'>使用方法点击这里</a></p>
<p>Twikoo 是一个简洁、安全、无后端的静态网站评论系统，基于腾讯云开发。</p>
<p>你只需要把获取到的 环境ID (envId) 填写到配置上去就行。修改主题配置文件</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">twikoo:
  envId: dhndzwxj-3ghxc51j1010c2ed
  region:
  visitor: true
  option:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<table>
<thead>
<tr>
<th>参数</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>envId</td>
<td>环境 ID</td>
</tr>
<tr>
<td>region</td>
<td>环境地域，默认为 ap-shanghai，如果您的环境地域不是上海，需传此参数</td>
</tr>
<tr>
<td>visitor</td>
<td>是否显示示文章阅读数</td>
</tr>
<tr>
<td>option</td>
<td>可选配置</td>
</tr>
</tbody>
</table>
<h4 id="另一种部署方法"><a class="markdownIt-Anchor" href="#另一种部署方法"></a> 另一种部署方法</h4>
<ol>
<li>克隆本仓库</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git clone https:&#x2F;&#x2F;github.com&#x2F;imaegoo&#x2F;twikoo.git # 或 git clone https:&#x2F;&#x2F;e.coding.net&#x2F;imaegoo&#x2F;twikoo&#x2F;twikoo.git
cd twikoo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol start="2">
<li>安装依赖项</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm install -g yarn # 已安装 yarn 可以跳过此步
yarn install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol start="3">
<li>授权云开发环境（此命令会弹出浏览器要求授权，需在有图形界面的系统下进行）</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yarn run login<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="4">
<li>自动部署</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yarn deploy -e 您的环境id<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="68-博客首页pagination放在最近文章的顶端便于翻页"><a class="markdownIt-Anchor" href="#68-博客首页pagination放在最近文章的顶端便于翻页"></a> 6.8 博客首页pagination放在最近文章的顶端，便于翻页</h3>
<p>需要修改的文件为<code>butterfly/layout/index.pug</code>。改后的代码为：</p>
<pre class="line-numbers language-pug" data-language="pug"><code class="language-pug">extends includes&#x2F;layout.pug

block content
  include .&#x2F;includes&#x2F;mixins&#x2F;post-ui.pug
  #recent-posts.recent-posts
    include includes&#x2F;pagination.pug
    +postUI
    include includes&#x2F;pagination.pug<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>效果如下：</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211026-25.jpg' width=600px>
</div>
<h3 id="68a-tag-hide"><a class="markdownIt-Anchor" href="#68a-tag-hide"></a> 6.8a tag-hide</h3>
<p><code>inline</code> 在文本里面添加按钮隐藏内容，只限文字。格式为：</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% hideInline content,display,bg,color %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li><code>content</code>: 文本内容</li>
<li><code>display</code>: 按钮显示的文字(可选)</li>
<li><code>bg</code>: 按鈕的背景颜色(可选)</li>
<li><code>color</code>: 按钮文字的颜色(可选)</li>
</ul>
<p>例子如下：</p>
<p>哪个英文字母最酷？ <span class="hide-inline"><button type="button" class="hide-button" style="background-color: #FF7242;color: #fff">查看答案
  </button><span class="hide-content">因为西装裤(C装酷)</span></span></p>
<p>门里站着一个人? <span class="hide-inline"><button type="button" class="hide-button" style="">Click
  </button><span class="hide-content">闪</span></span></p>
<h3 id="69-字体修改"><a class="markdownIt-Anchor" href="#69-字体修改"></a> 6.9 字体修改</h3>
<p>选择自己使用的字体，我用的是思源宋体。由于有些浏览器（如Safari和手机上的浏览器）不支持自己修改字体，这种时候就会使用系统的默认字体！</p>
<p>如何破局？需要在网页的头文件处<code>&lt;head&gt;&lt;/head&gt;</code>将需要设置的字体导入！具体的做法是在主题配置文件<code>themes/butterfly/_config.yml</code>作如下两个地方的修改：（这里是我的个性化修改，看官也可以根据自己的需要来设置，相关的字体在<a href='https://fonts.google.com/' target='_blank'>谷歌Fonts API</a>处自行查找即可。如果不能上外网，请参看节6.9a）</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">font:
  global-font-size: 16.5px
  code-font-size:
  font-family:  Happy Monkey, &#39;Noto Serif SC&#39;
  # font-family:  Anonymous Pro, &#39;Noto Serif SC&#39;
  code-font-family: 
blog_title_font:
  font_link: https:&#x2F;&#x2F;fonts.loli.net&#x2F;css?family&#x3D;Titillium+Web&amp;display&#x3D;swap
  font-family: &quot;Zhi Mang Xing&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">inject:
  head:
    - &lt;link rel&#x3D;&quot;preconnect&quot; href&#x3D;&quot;https:&#x2F;&#x2F;fonts.googleapis.com&quot;&gt;
    - &lt;link rel&#x3D;&quot;preconnect&quot; href&#x3D;&quot;https:&#x2F;&#x2F;fonts.gstatic.com&quot; crossorigin&gt;
    - &lt;link href&#x3D;&quot;https:&#x2F;&#x2F;fonts.loli.net&#x2F;css2?family&#x3D;Noto+Serif+SC:wght@400;500;700&amp;display&#x3D;swap&quot; rel&#x3D;&quot;stylesheet&quot;&gt; #思源宋体
    - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;font-awesome&#x2F;4.7.0&#x2F;css&#x2F;font-awesome.min.css&quot; integrity&#x3D;&quot;sha512-SfTiTlX6kk+qitfevl&#x2F;7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+&#x2F;Sw&#x3D;&#x3D;&quot; crossorigin&#x3D;&quot;anonymous&quot; referrerpolicy&#x3D;&quot;no-referrer&quot; &#x2F;&gt;
    # - &lt;link href&#x3D;&quot;https:&#x2F;&#x2F;fonts.loli.net&#x2F;css2?family&#x3D;Ma+Shan+Zheng:wght@400;500;700&amp;display&#x3D;swap&quot; rel&#x3D;&quot;stylesheet&quot;&gt; #手写汉字
    # - &lt;link href&#x3D;&quot;https:&#x2F;&#x2F;fonts.loli.net&#x2F;css2?family&#x3D;Liu+Jian+Mao+Cao:wght@400;500;700&amp;display&#x3D;swap&quot; rel&#x3D;&quot;stylesheet&quot;&gt; #手写汉字
    - &lt;link href&#x3D;&quot;https:&#x2F;&#x2F;fonts.loli.net&#x2F;css2?family&#x3D;Zhi+Mang+Xing:wght@400;500;700&amp;display&#x3D;swap&quot; rel&#x3D;&quot;stylesheet&quot;&gt; #手写汉字
    # - &lt;link href&#x3D;&quot;https:&#x2F;&#x2F;fonts.loli.net&#x2F;css2?family&#x3D;Anonymous+Pro:wght@400;500;700&amp;display&#x3D;swap&quot; rel&#x3D;&quot;stylesheet&quot;&gt;
    - &lt;link href&#x3D;&quot;https:&#x2F;&#x2F;fonts.loli.net&#x2F;css2?family&#x3D;Happy+Monkey:wght@400;500;700&amp;display&#x3D;swap&quot; rel&#x3D;&quot;stylesheet&quot;&gt; #英文字体
    - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;@fortawesome&#x2F;fontawesome-free&#x2F;css&#x2F;all.min.css&quot; media&#x3D;&quot;print&quot; onload&#x3D;&#39;this.media&#x3D;&quot;all&quot;&#39;&gt;
  bottom:
    - &lt;script type&#x3D;&#39;text&#x2F;javascript&#39; src&#x3D;&#39;https:&#x2F;&#x2F;ajax.loli.net&#x2F;ajax&#x2F;libs&#x2F;jquery&#x2F;3.2.1&#x2F;jquery.min.js&#39;&gt;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="高级应用-api"><a class="markdownIt-Anchor" href="#高级应用-api"></a> 高级应用 API</h4>
<p>Google Fonts 还开放了一些接口（称为 Developer API），用于获取字体库的信息数据。</p>
<p>比如实时获取字体库实际可用的字体及其相关信息：</p>
<p><a target="_blank" rel="noopener" href="https://www.googleapis.com/webfonts/v1/webfonts?key=YOUR-API-KEY"><code>https://www.googleapis.com/webfonts/v1/webfonts?key=</code></a><a target="_blank" rel="noopener" href="https://www.googleapis.com/webfonts/v1/webfonts?key=YOUR-API-KEY"><code>*YOUR-API-KEY*</code></a></p>
<p>这个请求的返回结果是一个 JSON 类型的数据，包括了每种字体的名称，样式种类（比如 regular，italic），版本，修改时间，包含的样式包的请求地址，等等。</p>
<p>请注意，在 URL 里面有一个 key，这个 key 是和您的 web 应用工程相联系的，只有注册过的 web 应用才能成功调用 Developer API。我们必须要在 Google Cloud Console 注册之后，才能获取这个 key。</p>
<p>关于这个 Developer API， 可以参阅这个<a target="_blank" rel="noopener" href="https://developers.google.com/fonts/docs/developer_api">链接</a>。</p>
<p>参考下面这边文章来修改头文件：<a href='https://www.frankindev.com/2017/04/09/source-han-serif-in-web/' target='_blank'>Web使用思源字体</a>。<a href='https://sb.sb/blog/css-cdn/' target='_blank'>前端 CDNJS 库及 Google Fonts、Ajax 和 Gravatar 国内加速服务</a>。</p>
<p>谷歌Fonts API网址：<a target="_blank" rel="noopener" href="https://fonts.google.com/">https://fonts.google.com/</a></p>
<p>解决谷歌字体API加载速度慢的问题：<a href='https://blog.csdn.net/klsfp/article/details/118228645' target='_blank'>解决引入fonts.googleapis.com/css字体网页响应缓慢问题</a>。</p>
<p>学习外网知识：<a target="_blank" rel="noopener" href="http://www.zhaoins.com/index.php/archives/10/comment-page-1">http://www.zhaoins.com/index.php/archives/10/comment-page-1</a></p>
<p><a target="_blank" rel="noopener" href="https://xbsj9729.website/portal/order/node">https://xbsj9729.website/portal/order/node</a></p>
<h3 id="69a-v2ray设置"><a class="markdownIt-Anchor" href="#69a-v2ray设置"></a> 6.9a V2Ray设置</h3>
<p>由于谷歌API需要连接外网，连接的中介是某些“节点”，此处推荐<a href='https://xbsj9729.website' target='_blank'>西部世界</a>。注册一个账号可以免费试用三天，后续可以续费。</p>
<p>节点类似于一种代理，此外还需要一些工具来登梯，此处推荐V2Ray，下载地址如下：</p>
<blockquote>
<p>Windows:<a href='/local_file/v2rayN-4.12.zip'> v2rayN-4.12.zip</a></p>
<p>MacOS: <a href='/local_file/V2rayU.dmg' target='_blank'>V2rayU.dmg</a></p>
</blockquote>
<h4 id="69a1-windows端配置"><a class="markdownIt-Anchor" href="#69a1-windows端配置"></a> 6.9a.1 Windows端配置</h4>
<p>对于Windows系统而言，推荐使用Trojan协议，配置比较简单。只需要配置三个参数。在西部世界上先找到相关的节点信息（如下图）</p>
<div align='center'>
  <p align='center' style='font-family:kaiti'></p>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211111-26.png' height=300px>
</div>
<p>然后将v2ray压缩包解压，双击<code>v2rayN.exe</code>这个文件。进入软件后，依次点击“服务器——添加[Trojan]服务器”，将上面的内容（示例图中已过期，需要自行获取）配置到v2ray即可。配置好后，在桌面右下角右击‘V’的软件图标，依次点“系统代理——自动配置系统代理”，这样以后就能直接上外网了！</p>
<p>如果没看懂，更相信的配置参考这篇文章：<a href='https://v2xtls.org/v2rayn-4-12%e9%85%8d%e7%bd%ae%e6%95%99%e7%a8%8b/' target='_blank'>链接</a>。</p>
<h4 id="69a2-macos端配置"><a class="markdownIt-Anchor" href="#69a2-macos端配置"></a> 6.9a.2 MacOS端配置</h4>
<p>目前还没有成功。。可以参考这篇文章：<a href='https://v2xtls.org/v2rayu%e9%85%8d%e7%bd%ae%e6%95%99%e7%a8%8b/' target='_blank'>链接</a>。</p>
<p>如果有vmess://或ss://开头的字符串，请使用导入模式，除订阅外的大部分情况请都使用“手动模式”。在服务器设置块中选择协议（v2ray选vmess），然后填入服务器ip、端口、id/密码等信息。</p>
<h3 id="69b-使用本地字体"><a class="markdownIt-Anchor" href="#69b-使用本地字体"></a> 6.9b 使用本地字体</h3>
<p>当然，自己下载某些字体的<code>ttf</code>文件，然后在网站头文件中引用这种字体也是完全可以的！</p>
<p>我下载了一个方正楷体文件，将这个文件保存在了自己网站的文件夹里面（<code>blog/source/font/FZKai.ttf</code>，其中<code>ttf</code>文件夹是我自己新建的）。</p>
<p>和前面一样，需要在网站头文件里面引用这个字体，也就是在<code>inject</code>那里插入此字体文件。只不过本地字体要借助于styl文件才能对网页进行修饰。在文件夹<code>blog/themes/butterfly/source/css</code>下新建一个文件<code>Font_self.css</code>。在此文件中写入如下内容：</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* @font-face&#123;
    font-family: 'kaiti';
    src: url("../font/FZKai.woff2") format("woff2"),
       url("../font/FZKai.woff") format("woff"),
       url("../font/FZKai.ttf") format("truetype"),
       url("../font/FZKai.eot") format("embedded-opentype"),
       url("../font/FZKai.svg") format("svg"),
       url("../font/FZKai.otf") format("opentype");
&#125; */</span>
<span class="token atrule"><span class="token rule">@font-face</span></span><span class="token punctuation">&#123;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'kaiti'</span><span class="token punctuation">;</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/simkai.woff2"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"woff2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/simkai.woff"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"woff"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/simkai.ttf"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"truetype"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/simkai.eot"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"embedded-opentype"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/simkai.svg"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"svg"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/simkai.otf"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"opentype"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token atrule"><span class="token rule">@font-face</span></span><span class="token punctuation">&#123;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'fangsong'</span><span class="token punctuation">;</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FangSong.woff2"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"woff2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FangSong.woff"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"woff"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FangSong.ttf"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"truetype"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FangSong.eot"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"embedded-opentype"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FangSong.svg"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"svg"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FangSong.otf"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"opentype"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token atrule"><span class="token rule">@font-face</span></span><span class="token punctuation">&#123;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'FZQi_Fan'</span><span class="token punctuation">;</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FZQi_Fan.woff2"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"woff2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FZQi_Fan.woff"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"woff"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FZQi_Fan.ttf"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"truetype"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FZQi_Fan.eot"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"embedded-opentype"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FZQi_Fan.svg"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"svg"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FZQi_Fan.otf"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"opentype"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token atrule"><span class="token rule">@font-face</span></span><span class="token punctuation">&#123;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'FZLiuKai'</span><span class="token punctuation">;</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FZLiuKai.woff2"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"woff2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FZLiuKai.woff"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"woff"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FZLiuKai.ttf"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"truetype"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FZLiuKai.eot"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"embedded-opentype"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FZLiuKai.svg"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"svg"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../font/FZLiuKai.otf"</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"opentype"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* @font-face&#123;
    font-family: 'FZZhuan';
    src: url("../font/FZZhuan.woff2") format("woff2"),
       url("../font/FZZhuan.woff") format("woff"),
       url("../font/FZZhuan.ttf") format("truetype"),
       url("../font/FZZhuan.eot") format("embedded-opentype"),
       url("../font/FZZhuan.svg") format("svg"),
       url("../font/FZZhuan.otf") format("opentype");
&#125; */</span>
<span class="token comment">/* 如果加上下面一段，正文全文也会变成这个字体 */</span>
<span class="token comment">/* p&#123;
    font-family: 'fangsong';
    font-size: 16.5px;
&#125; */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在这个文件中，我调用了本地的四个字体。还要注意：</p>
<ul>
<li>代码中<code>font-family:</code>后面的内容是自己定义的，自己取啥名字，写博客的时候就引用啥名字。我之前写的文章中使用的楷体都是用<code>kaiti</code>代指的，为了方便，统一做了这个定义。</li>
<li>尽管我们本地只有一个<code>ttf</code>文件，但是上面的格式（woff2、woff、eot、svg、otf）要一应俱全！一定要一应俱全！！！</li>
</ul>
<p>最后一步，我们要在网页头文件中使用这个字体，就添加这段代码即可：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">inject:
  head:
    - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;css&#x2F;Font_self.css&quot;&gt; #自定义字体<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>大功告成！</p>
<h3 id="610-网页侧边栏卡片修改"><a class="markdownIt-Anchor" href="#610-网页侧边栏卡片修改"></a> 6.10 网页侧边栏卡片修改</h3>
<p>最重要的文件是<code>butterfly/layout/includes/widget/index.pug</code>。</p>
<pre class="line-numbers language-pug" data-language="pug"><code class="language-pug">&#x2F;&#x2F;- &#x2F;butterfly&#x2F;layout&#x2F;includes&#x2F;widget&#x2F;index.pug

#aside-content.aside-content
  &#x2F;&#x2F;- post
  if is_post()
    if showToc &amp;&amp; theme.toc.style_simple
      .sticky_layout
        include .&#x2F;card_post_toc.pug
    else
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_announcement&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_top_self&#39;, &#123;&#125;, &#123;cache: true&#125;)      
      .sticky_layout
        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_back&#39;, &#123;&#125;, &#123;cache: true&#125;)
        if showToc
          include .&#x2F;card_post_toc.pug
        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_recent_post&#39;, &#123;&#125;, &#123;cache: true&#125;)
        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_ad&#39;, &#123;&#125;, &#123;cache: true&#125;)
  else
    &#x2F;&#x2F;- page
    !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_author&#39;, &#123;&#125;, &#123;cache: true&#125;)
    !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_announcement&#39;, &#123;&#125;, &#123;cache: true&#125;)
    !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_top_self&#39;, &#123;&#125;, &#123;cache: true&#125;)      

    .sticky_layout
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_recent_post&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_categories&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_tags&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_webinfo&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_ad&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_newest_comment&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_archives&#39;, &#123;&#125;, &#123;cache: true&#125;)
      !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_bottom_self&#39;, &#123;&#125;, &#123;cache: true&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>对于作者卡片<code>butterfly/layout/includes/widget/card_author.pug</code>，我需要两种形态：一方面是主页上内容要全面（如下面左图），另一方面是文章内它的内容要简略。对于后者，我新建了一个<code>card_back.pug</code>文件。</p>
<pre class="line-numbers language-pug" data-language="pug"><code class="language-pug">&#x2F;&#x2F;&#x2F;butterfly&#x2F;layout&#x2F;includes&#x2F;widget&#x2F;card_back.pug

if theme.aside.card_author.enable
  .card-widget.card-info
    .is-center
      .avatar-img
        img(src&#x3D;url_for(theme.avatar.img) onerror&#x3D;&#96;this.onerror&#x3D;null;this.src&#x3D;&#39;&#96; + url_for(theme.error_img.flink) + &#96;&#39;&#96; alt&#x3D;&quot;avatar&quot;)

    if theme.aside.card_author.button.enable
      a#card-info-btn.button--animated(href&#x3D;theme.aside.card_author.button.link)
        i(class&#x3D;theme.aside.card_author.button.icon)
        span&#x3D;theme.aside.card_author.button.text
  
    if(theme.social)
        .card-info-social-icons.is-center
          !&#x3D;fragment_cache(&#39;social&#39;, function()&#123;return partial(&#39;includes&#x2F;header&#x2F;social&#39;)&#125;) 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="611-hexo-butterfly-clock"><a class="markdownIt-Anchor" href="#611-hexo-butterfly-clock"></a> 6.11 hexo-butterfly-clock</h3>
<ol>
<li>安装插件,在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm install hexo-butterfly-clock --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol>
<li>添加配置信息，以下为写法示例 在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加</li>
</ol>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">  # electric_clock
  # see https:&#x2F;&#x2F;akilar.top&#x2F;posts&#x2F;4e39cf4a&#x2F;
electric_clock:
  enable: true # 开关
  priority: 5 #过滤器优先权
  enable_page: all # 应用页面
  exclude:
    - &#x2F;posts&#x2F;
    - &#x2F;about&#x2F;
  layout: # 挂载容器类型
    type: class
    name: sticky_layout
    index: 0
  loading: https:&#x2F;&#x2F;unpkg.zhimg.com&#x2F;hexo-butterfly-clock&#x2F;lib&#x2F;loading.gif #加载动画自定义
  clock_css: https:&#x2F;&#x2F;unpkg.zhimg.com&#x2F;hexo-butterfly-clock&#x2F;lib&#x2F;clock.min.css
  clock_js: https:&#x2F;&#x2F;unpkg.zhimg.com&#x2F;hexo-butterfly-clock&#x2F;lib&#x2F;clock.min.js
  ip_api: https:&#x2F;&#x2F;pv.sohu.com&#x2F;cityjson?ie&#x3D;utf-8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li>参数释义</li>
</ol>
<table>
<thead>
<tr>
<th>参数</th>
<th>备选值/类型</th>
<th>释义</th>
</tr>
</thead>
<tbody>
<tr>
<td>priority</td>
<td>number</td>
<td>【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td>
</tr>
<tr>
<td>enable</td>
<td>true/false</td>
<td>【必选】控制开关</td>
</tr>
<tr>
<td>enable_page</td>
<td>path</td>
<td>【可选】填写想要应用的页面,如根目录就填’/‘,分类页面就填’/categories/'。若要应用于所有页面，就填<code>all</code>，默认为<code>all</code></td>
</tr>
<tr>
<td>exclude</td>
<td>path</td>
<td>【可选】填写想要屏蔽的页面，可以多个。写法见示例。原理是将屏蔽项的内容逐个放到当前路径去匹配，若当前路径包含任一屏蔽项，则不会挂载。</td>
</tr>
<tr>
<td>layout.type</td>
<td>id/class</td>
<td>【可选】挂载容器类型，填写id或class，不填则默认为id</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://layout.name">layout.name</a></td>
<td>text</td>
<td>【必选】挂载容器名称</td>
</tr>
<tr>
<td>layout.index</td>
<td>0和正整数</td>
<td>【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td>
</tr>
<tr>
<td>loading</td>
<td>URL</td>
<td>【可选】电子钟加载动画的图片</td>
</tr>
<tr>
<td>clock_css</td>
<td>URL</td>
<td>【可选】电子钟样式CDN资源</td>
</tr>
<tr>
<td>clock_js</td>
<td>URL</td>
<td>【可选】电子钟执行脚本CDN资源</td>
</tr>
<tr>
<td>ip_api</td>
<td>URL</td>
<td>【可选】获取时钟IP的API</td>
</tr>
</tbody>
</table>
<h3 id="6n-主题配置文件"><a class="markdownIt-Anchor" href="#6n-主题配置文件"></a> 6.n 主题配置文件</h3>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"># Main menu navigation (導航目錄)
# see https:&#x2F;&#x2F;butterfly.js.org&#x2F;posts&#x2F;4aa8abbe&#x2F;#導航菜單
# --------------------------------------

menu:
  主页: &#x2F; || fas fa-home
  关于: &#x2F;about&#x2F; || fas fa-heart
  结构||fa fa-heartbeat:
    目录: &#x2F;categories&#x2F; || fas fa-folder-open
    归档: &#x2F;archives&#x2F; || fas fa-archive
    标签: &#x2F;tags&#x2F; || fas fa-tags


# Code Blocks (代碼相關)
# --------------------------------------

highlight_theme: light #  darker &#x2F; pale night &#x2F; light &#x2F; ocean &#x2F; mac &#x2F; mac light &#x2F; false
highlight_copy: true # copy button
highlight_lang: true # show the code language
highlight_shrink: false # true: shrink the code blocks &#x2F; false: expand the code blocks | none: expand code blocks and hide the button
highlight_height_limit: false # unit: px
code_word_wrap: false

# copy settings
# copyright: Add the copyright information after copied content (複製的內容後面加上版權信息)
copy:
  enable: true
  copyright:
    enable: false
    limit_count: 0

# social settings (社交圖標設置)
# formal:
#   icon: link || the description
social:
  # fab fa-github: https:&#x2F;&#x2F;github.com&#x2F;xxxxx || Github
  # fas fa-envelope: mailto:xxxxxx@gmail.com || Email

# search (搜索)
# see https:&#x2F;&#x2F;butterfly.js.org&#x2F;posts&#x2F;ceeb73f&#x2F;#搜索系統
# --------------------------------------

# Algolia search
algolia_search:
  enable: false
  hits:
    per_page: 6

# Local search
local_search:
  enable: true
  preload: true #預加載，開啟後，進入網頁後會自動加載搜索文件。關閉時，只有點擊搜索按鈕後，才會加載搜索文件
  CDN:

# Math (數學)
# --------------------------------------
# About the per_page
# if you set it to true, it will load mathjax&#x2F;katex script in each page (true 表示每一頁都加載js)
# if you set it to false, it will load mathjax&#x2F;katex script according to your setting (add the &#39;mathjax: true&#39; in page&#39;s front-matter)
# (false 需要時加載，須在使用的 Markdown Front-matter 加上 mathjax: true)

# MathJax
mathjax:
  enable: true
  per_page: false

# KaTeX
katex:
  enable: false
  per_page: false
  hide_scrollbar: true

# Image (圖片設置)
# --------------------------------------

# Favicon（網站圖標）
favicon: &#x2F;private_img&#x2F;favicon.png

# Avatar (頭像)
avatar:
  img: &#x2F;private_img&#x2F;yuyingnan.jpg #https:&#x2F;&#x2F;i.loli.net&#x2F;2021&#x2F;02&#x2F;24&#x2F;5O1day2nriDzjSu.png
  effect: false

# Disable all banner image
disable_top_img: false

# The banner image of home page
index_img: &#x2F;private_img&#x2F;bg1.png

# If the banner of page not setting, it will show the top_img
default_top_img: &#x2F;private_img&#x2F;banner1.gif

# The banner image of archive page
archive_img:

# If the banner of tag page not setting, it will show the top_img
# note: tag page, not tags page (子標籤頁面的 top_img)
tag_img:

# The banner image of tag page
# format:
#  - tag name: xxxxx
tag_per_img:

# If the banner of category page not setting, it will show the top_img
# note: category page, not categories page (子分類頁面的 top_img)
category_img:

# The banner image of category page
# format:
#  - category name: xxxxx
category_per_img: &#x2F;private_img&#x2F;banner1.gif

cover:
  # display the cover or not (是否顯示文章封面)
  index_enable: false
  aside_enable: false
  archives_enable: false
  # the position of cover in home page (封面顯示的位置)
  # left&#x2F;right&#x2F;both
  position: both
  # When cover is not set, the default cover is displayed (當沒有設置cover時，默認的封面顯示)
  default_cover: &#x2F;private_img&#x2F;banner2.gif
    # - https:&#x2F;&#x2F;i.loli.net&#x2F;2020&#x2F;05&#x2F;01&#x2F;gkihqEjXxJ5UZ1C.jpg

# Replace Broken Images (替換無法顯示的圖片)
error_img:
  flink: &#x2F;img&#x2F;friend_404.gif
  post_page: &#x2F;img&#x2F;404.jpg

# A simple 404 page
error_404:
  enable: true
  subtitle: &#39;无法打开该网页&#39;
  background: https:&#x2F;&#x2F;i.loli.net&#x2F;2020&#x2F;05&#x2F;19&#x2F;aKOcLiyPl2JQdFD.png

post_meta:
  page: # Home Page
    date_type: both # created or updated or both 主頁文章日期是創建日或者更新日或都顯示
    date_format: date # date&#x2F;relative 顯示日期還是相對日期
    categories: true # true or false 主頁是否顯示分類
    tags: false # true or false 主頁是否顯示標籤
    label: true # true or false 顯示描述性文字
  post:
    date_type: both # created or updated or both 文章頁日期是創建日或者更新日或都顯示
    date_format: date # date&#x2F;relative 顯示日期還是相對日期
    categories: true # true or false 文章頁是否顯示分類
    tags: true # true or false 文章頁是否顯示標籤
    label: true # true or false 顯示描述性文字

# wordcount (字數統計)
# see https:&#x2F;&#x2F;butterfly.js.org&#x2F;posts&#x2F;ceeb73f&#x2F;#字數統計
wordcount:
  enable: true
  post_wordcount: true
  min2read: true
  total_wordcount: true

# Display the article introduction on homepage
# 1: description
# 2: both (if the description exists, it will show description, or show the auto_excerpt)
# 3: auto_excerpt (default)
# false: do not show the article introduction
index_post_content:
  method: 3
  length: 500 # if you set method to 2 or 3, the length need to config

# anchor
anchor:
  button:
    enable: false
    always_show: false
    icon: # the unicode value of Font Awesome icon, such as &#39;\3423&#39;
  auto_update: false # when you scroll in post, the URL will update according to header id.

# Post
# --------------------------------------

# toc (目錄)
toc:
  post: true
  page: false
  number: false #自动编号
  expand: true
  style_simple: false # for post

post_copyright:
  enable: false
  decode: false
  author_href:
  license: CC BY-NC-SA 4.0
  license_url: https:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by-nc-sa&#x2F;4.0&#x2F;

# Sponsor&#x2F;reward
reward:
  enable: true
  QR_code:
    - img: &#x2F;private_img&#x2F;wechat.jpg
      link:
      text: 微信
    - img: &#x2F;private_img&#x2F;alipay.jpg
      link:
      text: 支付宝

# Post edit
# Easily browse and edit blog source code online.
post_edit:
  enable: false
  # url: https:&#x2F;&#x2F;github.com&#x2F;user-name&#x2F;repo-name&#x2F;edit&#x2F;branch-name&#x2F;subdirectory-name&#x2F;
  # For example: https:&#x2F;&#x2F;github.com&#x2F;jerryc127&#x2F;butterfly.js.org&#x2F;edit&#x2F;main&#x2F;source&#x2F;
  url: https:&#x2F;&#x2F;github.com&#x2F;dhndzwxj&#x2F;hexo-backup&#x2F;edit&#x2F;master&#x2F;source&#x2F;

# Related Articles
related_post:
  enable: false
  limit: 6 # Number of posts displayed
  date_type: created # or created or updated 文章日期顯示創建日或者更新日

# figcaption (圖片描述文字)
photofigcaption: false

# post_pagination (分頁)
# value: 1 || 2 || false
# 1: The &#39;next post&#39; will link to old post
# 2: The &#39;next post&#39; will link to new post
# false: disable pagination
post_pagination: 1

# Displays outdated notice for a post (文章過期提醒)
noticeOutdate:
  enable: true
  style: flat # style: simple&#x2F;flat
  limit_day: 30 # When will it be shown
  position: top # position: top&#x2F;bottom
  message_prev: 本文上次更新距离今天已经过去
  message_next: 天, 文中内容可能已经过时，望周知。

# Share System (分享功能)
# --------------------------------------

# AddThis
# https:&#x2F;&#x2F;www.addthis.com&#x2F;
addThis:
  enable: false
  pubid:

# Share.js
# https:&#x2F;&#x2F;github.com&#x2F;overtrue&#x2F;share.js
sharejs:
  enable: true
  sites: facebook,twitter,wechat,weibo,qq

# AddToAny
# https:&#x2F;&#x2F;www.addtoany.com&#x2F;
addtoany:
  enable: false
  item: facebook,twitter,wechat,sina_weibo,facebook_messenger,email,copy_link

# Comments System
# --------------------------------------

comments:
  # Up to two comments system, the first will be shown as default
  # Choose: Disqus&#x2F;Disqusjs&#x2F;Livere&#x2F;Gitalk&#x2F;Valine&#x2F;Waline&#x2F;Utterances&#x2F;Facebook Comments&#x2F;Twikoo
  use: Disqus
  text: true # Display the comment name next to the button
  # lazyload: The comment system will be load when comment element enters the browser&#39;s viewport.
  # If you set it to true, the comment count will be invalid
  lazyload: true
  count: true # Display comment count in top_img
  card_post_count: false # Display comment count in Home Page

# disqus
# https:&#x2F;&#x2F;disqus.com&#x2F;
disqus:
  shortname: https-www-dhndzwxj-top #disqus_ZdiIR8wtv4
  apikey: # For newest comments widget

# Alternative Disqus - Render comments with Disqus API
# DisqusJS 評論系統，可以實現在網路審查地區載入 Disqus 評論列表，兼容原版
# https:&#x2F;&#x2F;github.com&#x2F;SukkaW&#x2F;DisqusJS
disqusjs:
  shortname:
  apikey:
  option:

# livere (來必力)
# https:&#x2F;&#x2F;www.livere.com&#x2F;
livere:
  uid:

# gitalk
# https:&#x2F;&#x2F;github.com&#x2F;gitalk&#x2F;gitalk
gitalk:
  client_id:
  client_secret:
  repo:
  owner:
  admin:
  option:

# valine
# https:&#x2F;&#x2F;valine.js.org
valine:
  appId: # leancloud application app id
  appKey: # leancloud application app key
  avatar: monsterid # gravatar style https:&#x2F;&#x2F;valine.js.org&#x2F;#&#x2F;avatar
  serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)
  bg: # valine background
  visitor: false
  option:

# waline - A simple comment system with backend support fork from Valine
# https:&#x2F;&#x2F;waline.js.org&#x2F;
waline:
  serverURL: # Waline server address url
  bg: # waline background
  pageview: false
  option:

# utterances
# https:&#x2F;&#x2F;utteranc.es&#x2F;
utterances:
  repo:
  # Issue Mapping: pathname&#x2F;url&#x2F;title&#x2F;og:title
  issue_term: pathname
  # Theme: github-light&#x2F;github-dark&#x2F;github-dark-orange&#x2F;icy-dark&#x2F;dark-blue&#x2F;photon-dark
  light_theme: github-light
  dark_theme: photon-dark

# Facebook Comments Plugin
# https:&#x2F;&#x2F;developers.facebook.com&#x2F;docs&#x2F;plugins&#x2F;comments&#x2F;
facebook_comments:
  app_id:
  user_id: # optional
  pageSize: 10 # The number of comments to show
  order_by: social # social&#x2F;time&#x2F;reverse_time
  lang: zh_TW # Language en_US&#x2F;zh_CN&#x2F;zh_TW and so on

# Twikoo
# https:&#x2F;&#x2F;github.com&#x2F;imaegoo&#x2F;twikoo
twikoo:
  envId:
  region:
  visitor: false
  option:

# Giscus
# https:&#x2F;&#x2F;giscus.app&#x2F;
giscus:
  repo:
  repo_id:
  category_id:
  theme:
    light: light
    dark: dark
  option:

# Remark42
# https:&#x2F;&#x2F;remark42.com&#x2F;docs&#x2F;configuration&#x2F;frontend&#x2F;
remark42:
  host: # Your Host URL
  siteId: # Your Site ID
  option:

# Artalk
# https:&#x2F;&#x2F;artalk.js.org&#x2F;guide&#x2F;frontend&#x2F;config.html
artalk:
  server:
  site:
  visitor: false
  option:

# Chat Services
# --------------------------------------

# Chat Button [recommend]
# It will create a button in the bottom right corner of website, and hide the origin button
chat_btn: false

# The origin chat button is displayed when scrolling up, and the button is hidden when scrolling down
chat_hide_show: false

# chatra
# https:&#x2F;&#x2F;chatra.io&#x2F;
chatra:
  enable: false
  id:

# tidio
# https:&#x2F;&#x2F;www.tidio.com&#x2F;
tidio:
  enable: false
  public_key:

# daovoice
# http:&#x2F;&#x2F;daovoice.io&#x2F;
daovoice:
  enable: false
  app_id:

# gitter
# https:&#x2F;&#x2F;gitter.im&#x2F;
gitter:
  enable: false
  room:

# crisp
# https:&#x2F;&#x2F;crisp.chat&#x2F;en&#x2F;
crisp:
  enable: false
  website_id:

# messenger
# https:&#x2F;&#x2F;developers.facebook.com&#x2F;docs&#x2F;messenger-platform&#x2F;discovery&#x2F;facebook-chat-plugin&#x2F;
messenger:
  enable: false
  pageID:
  lang: zh_TW # Language en_US&#x2F;zh_CN&#x2F;zh_TW and so on

# Footer Settings
# --------------------------------------
footer:
  owner:
    enable: true
    since: 2020
  custom_text: 欢迎参观我的&lt;a href&#x3D;&#39;https:&#x2F;&#x2F;github.com&#x2F;dhndzwxj&#39; target&#x3D;&#39;_blank&#39;&gt;github&lt;&#x2F;a&gt;个人主页！
  copyright: true # Copyright of theme and framework


# Analysis
# --------------------------------------

# Baidu Analytics
# https:&#x2F;&#x2F;tongji.baidu.com&#x2F;web&#x2F;welcome&#x2F;login
baidu_analytics:

# Google Analytics
# https:&#x2F;&#x2F;analytics.google.com&#x2F;analytics&#x2F;web&#x2F;
google_analytics:

# CNZZ Analytics
# https:&#x2F;&#x2F;www.umeng.com&#x2F;
cnzz_analytics:

# Cloudflare Analytics
# https:&#x2F;&#x2F;www.cloudflare.com&#x2F;zh-tw&#x2F;web-analytics&#x2F;
cloudflare_analytics:

# Microsoft Clarity
# https:&#x2F;&#x2F;clarity.microsoft.com&#x2F;
microsoft_clarity:

# Advertisement
# --------------------------------------

# Google Adsense (谷歌廣告)
google_adsense:
  enable: false
  auto_ads: true
  js: https:&#x2F;&#x2F;pagead2.googlesyndication.com&#x2F;pagead&#x2F;js&#x2F;adsbygoogle.js
  client:
  enable_page_level_ads: true

# Insert ads manually (手動插入廣告)
# ad:
#   index:
#   aside:
#   post:

# Verification (站長驗證)
# --------------------------------------

site_verification:
  # - name: google-site-verification
  #   content: xxxxxx
  # - name: baidu-site-verification
  #   content: xxxxxxx

# Beautify&#x2F;Effect (美化&#x2F;效果)
# --------------------------------------

# Theme color for customize
# Notice: color value must in double quotes like &quot;#000&quot; or may cause error!

theme_color:
  enable: true
  main: &#39;#E68258&#39; #&#39;#00B300&#39; #&#39;#1A1A1A&#39; #滑动条的颜色,背景以上的颜色
  paginator: &quot;#e68258&quot; #底部网页分页数字的颜色
  button_hover: &quot;#FF9966&quot; #鼠标停留在button上颜色渐变的效果；选择了比主题色更浅一号的橙色
  text_selection: &#39;#9F6506&#39; #&#39;#000066&#39; #&quot;#0000CC&quot; #选中文字后的颜色
  link_color: &quot;#b86ed0&quot; #网页链接的颜色
  meta_color: &quot;#858585&quot;
  hr_color: &quot;#A4D8FA&quot;
  code_foreground: &quot;#F47466&quot;
  code_background: &quot;#FFFF00&quot;
  toc_color: &#39;#E68258&#39; #&quot;#e68258&quot; #&quot;#00c4b6&quot;
  blockquote_padding_color: &quot;#e68258&quot; #引用部分左边长条边框颜色
  blockquote_background_color: &quot;#e68258&quot; #引用部分的背景颜色


# The top_img settings of home page
# default: top img - full screen, site info - middle (默認top_img全屏，site_info在中間)
# The position of site info, eg: 300px&#x2F;300em&#x2F;300rem&#x2F;10% (主頁標題距離頂部距離)
index_site_info_top:
# The height of top_img, eg: 300px&#x2F;300em&#x2F;300rem (主頁top_img高度)
index_top_img_height:

# The user interface setting of category and tag page (category和tag頁的UI設置)
# index - same as Homepage UI (index 值代表 UI將與首頁的UI一樣)
# default - same as archives UI 默認跟archives頁面UI一樣
category_ui: # 留空或 index
tag_ui: # 留空或 index

# Website Background (設置網站背景)
# can set it to color or image (可設置圖片 或者 顔色)
# The formal of image: url(http:&#x2F;&#x2F;xxxxxx.com&#x2F;xxx.jpg)
background:

# Footer Background
footer_bg: true

# the position of bottom right button&#x2F;default unit: px (右下角按鈕距離底部的距離&#x2F;默認單位為px)
rightside-bottom:

# Enter transitions (開啓網頁進入效果)
enter_transitions: true

# Background effects (背景特效)
# --------------------------------------

# canvas_ribbon (靜止彩帶背景)
# See: https:&#x2F;&#x2F;github.com&#x2F;hustcc&#x2F;ribbon.js
canvas_ribbon:
  enable: false
  size: 150
  alpha: 0.6
  zIndex: -1
  click_to_change: false
  mobile: false

# Fluttering Ribbon (動態彩帶)
canvas_fluttering_ribbon:
  enable: true
  mobile: true

# canvas_nest
# https:&#x2F;&#x2F;github.com&#x2F;hustcc&#x2F;canvas-nest.js
canvas_nest:
  enable: false
  color: &#39;0,0,255&#39; #color of lines, default: &#39;0,0,0&#39;; RGB values: (R,G,B).(note: use &#39;,&#39; to separate.)
  opacity: 0.7 # the opacity of line (0~1), default: 0.5.
  zIndex: -1 # z-index property of the background, default: -1.
  count: 99 # the number of lines, default: 99.
  mobile: false

# Typewriter Effect (打字效果)
# https:&#x2F;&#x2F;github.com&#x2F;disjukr&#x2F;activate-power-mode
activate_power_mode:
  enable: false
  colorful: true # open particle animation (冒光特效)
  shake: true #  open shake (抖動特效)
  mobile: false

# Mouse click effects: fireworks (鼠標點擊效果: 煙火特效)
fireworks:
  enable: false
  zIndex: 9999 # -1 or 9999
  mobile: false

# Mouse click effects: Heart symbol (鼠標點擊效果: 愛心)
click_heart:
  enable: false
  mobile: false

# Mouse click effects: words (鼠標點擊效果: 文字)
ClickShowText:
  enable: false
  text:
    # - I
    # - LOVE
    # - YOU
  fontSize: 16.5px
  random: false
  mobile: false

# Default display mode (網站默認的顯示模式)
# light (default) &#x2F; dark
display_mode: light

# Beautify (美化頁面顯示)
beautify:
  enable: false
  field: post # site&#x2F;post
  title-prefix-icon: # &#39;\f0c1&#39;
  title-prefix-icon-color: # &#39;#F47466&#39;

# Global font settings
# Don&#39;t modify the following settings unless you know how they work (非必要不要修改)
font:
  global-font-size: 16.5px
  code-font-size:
  font-family: Times, Noto Serif SC
  code-font-family:

# Font settings for the site title and site subtitle
# 左上角網站名字 主頁居中網站名字
blog_title_font:
  font_link:
  font-family: Ma Shan Zheng

# The setting of divider icon (水平分隔線圖標設置)
hr_icon:
  enable: true
  icon: # the unicode value of Font Awesome icon, such as &#39;\3423&#39;
  icon-top:

# the subtitle on homepage (主頁subtitle)
subtitle:
  enable: true
  # Typewriter Effect (打字效果)
  effect: true
  # Effect Speed Options (打字效果速度參數)
  startDelay: 300 # time before typing starts in milliseconds
  typeSpeed: 150 # type speed in milliseconds
  backSpeed: 50 # backspacing speed in milliseconds
  # loop (循環打字)
  loop: true
  # source 調用第三方服務
  # source: false 關閉調用
  # source: 1  調用一言網的一句話（簡體） https:&#x2F;&#x2F;hitokoto.cn&#x2F;
  # source: 2  調用一句網（簡體） http:&#x2F;&#x2F;yijuzhan.com&#x2F;
  # source: 3  調用今日詩詞（簡體） https:&#x2F;&#x2F;www.jinrishici.com&#x2F;
  # subtitle 會先顯示 source , 再顯示 sub 的內容
  source: false
  # 如果關閉打字效果，subtitle 只會顯示 sub 的第一行文字
  sub:
    - 随手写一写，揭晓这世界

# Loading Animation (加載動畫)
preloader:
  enable: false
  # source
  # 1. fullpage-loading
  # 2. pace (progress bar)
  source: 1
  # pace theme (see https:&#x2F;&#x2F;codebyzach.github.io&#x2F;pace&#x2F;)
  pace_css_url:

# aside (側邊欄)
# --------------------------------------

aside:
  enable: true
  hide: false
  button: true
  mobile: true # display on mobile
  position: left # left or right
  display:
    archive: true
    tag: true
    category: true
  card_author:
    enable: true
    description:
    button:
      enable: true
      # icon: fab fa-github
      text: 回到首页
      link: &#x2F; 
  card_announcement:
    enable: false
    content: 随手写一些，揭晓这世界
  card_recent_post:
    enable: true
    limit: 5 # if set 0 will show all
    sort: updated # date or updated
    sort_order: &#39;updated&#39; # Don&#39;t modify the setting unless you know how it works
  card_categories:
    enable: true
    limit: 0 # if set 0 will show all
    expand: false # none&#x2F;true&#x2F;false
    sort_order: # Don&#39;t modify the setting unless you know how it works
  card_tags:
    enable: false
    limit: 0 # if set 0 will show all
    color: false
    sort_order: # Don&#39;t modify the setting unless you know how it works
  card_archives:
    enable: false
    type: monthly # yearly or monthly
    format: MMMM YYYY # eg: YYYY年MM月
    order: -1 # Sort of order. 1, asc for ascending; -1, desc for descending
    limit: 8 # if set 0 will show all
    sort_order: # Don&#39;t modify the setting unless you know how it works
  card_webinfo:
    enable: true
    post_count: true
    last_push_date: true
    sort_order: # Don&#39;t modify the setting unless you know how it works

# busuanzi count for PV &#x2F; UV in site
# 訪問人數
busuanzi:
  site_uv: true
  site_pv: true
  page_pv: true

# Time difference between publish date and now (網頁運行時間)
# Formal: Month&#x2F;Day&#x2F;Year Time or Year&#x2F;Month&#x2F;Day Time
runtimeshow:
  enable: true
  publish_date: 8&#x2F;21&#x2F;2020 00:00:00 #发布时间

# Aside widget - Newest Comments
newest_comments:
  enable: true
  sort_order: # Don&#39;t modify the setting unless you know how it works
  limit: 6
  storage: 10 # unit: mins, save data to localStorage
  avatar: true

# Bottom right button (右下角按鈕)
# --------------------------------------

# Conversion between Traditional and Simplified Chinese (簡繁轉換)
translate:
  enable: true
  # The text of a button
  default: 繁
  # the language of website (1 - Traditional Chinese&#x2F; 2 - Simplified Chinese）
  defaultEncoding: 2
  # Time delay
  translateDelay: 0
  # The text of the button when the language is Simplified Chinese
  msgToTraditionalChinese: &#39;繁&#39;
  # The text of the button when the language is Traditional Chinese
  msgToSimplifiedChinese: &#39;簡&#39;

# Read Mode (閲讀模式)
readmode: true

# dark mode
darkmode:
  enable: true
  # Toggle Button to switch dark&#x2F;light mode
  button: true
  # Switch dark&#x2F;light mode automatically (自動切換 dark mode和 light mode)
  # autoChangeMode: 1  Following System Settings, if the system doesn&#39;t support dark mode, it will switch dark mode between 6 pm to 6 am
  # autoChangeMode: 2  Switch dark mode between 6 pm to 6 am
  # autoChangeMode: false
  autoChangeMode: false

# Don&#39;t modify the following settings unless you know how they work (非必要請不要修改 )
# Choose: readmode,translate,darkmode,hideAside,toc,chat,comment
# Don&#39;t repeat 不要重複
rightside_item_order:
  enable: false
  hide: # readmode,translate,darkmode,hideAside
  show: # toc,chat,comment

# Lightbox (圖片大圖查看模式)
# --------------------------------------
# You can only choose one, or neither (只能選擇一個 或者 兩個都不選)

# medium-zoom
# https:&#x2F;&#x2F;github.com&#x2F;francoischalifour&#x2F;medium-zoom
medium_zoom: false

# fancybox
# http:&#x2F;&#x2F;fancyapps.com&#x2F;fancybox&#x2F;3&#x2F;
fancybox: true

# Tag Plugins settings (標籤外掛)
# --------------------------------------

# mermaid
# see https:&#x2F;&#x2F;github.com&#x2F;mermaid-js&#x2F;mermaid
mermaid:
  enable: true
  # built-in themes: default&#x2F;forest&#x2F;dark&#x2F;neutral
  theme:
    light: default
    dark: dark

# Note (Bootstrap Callout)
note:
  # Note tag style values:
  #  - simple    bs-callout old alert style. Default.
  #  - modern    bs-callout new (v2-v3) alert style.
  #  - flat      flat callout style with background, like on Mozilla or StackOverflow.
  #  - disabled  disable all CSS styles import of note tag.
  style: flat
  icons: true
  border_radius: 3
  # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).
  # Offset also applied to label tag variables. This option can work with disabled note tag.
  light_bg_offset: 0

# other
# --------------------------------------

# Pjax
# It may contain bugs and unstable, give feedback when you find the bugs.
# https:&#x2F;&#x2F;github.com&#x2F;MoOx&#x2F;pjax
pjax:
  enable: false
  exclude:
    # - xxxx
    # - xxxx

# Inject the css and script (aplayer&#x2F;meting)
aplayerInject:
  enable: false
  per_page: true

# Snackbar (Toast Notification 彈窗)
# https:&#x2F;&#x2F;github.com&#x2F;polonel&#x2F;SnackBar
# position 彈窗位置
# 可選 top-left &#x2F; top-center &#x2F; top-right &#x2F; bottom-left &#x2F; bottom-center &#x2F; bottom-right
snackbar:
  enable: false
  position: bottom-left
  bg_light: &#39;#49b1f5&#39; # The background color of Toast Notification in light mode
  bg_dark: &#39;#1f1f1f&#39; # The background color of Toast Notification in dark mode

# https:&#x2F;&#x2F;instant.page&#x2F;
# prefetch (預加載)
instantpage: false

# https:&#x2F;&#x2F;github.com&#x2F;vinta&#x2F;pangu.js
# Insert a space between Chinese character and English character (中英文之間添加空格)
pangu:
  enable: false
  field: site # site&#x2F;post

# Lazyload (圖片懶加載)
# https:&#x2F;&#x2F;github.com&#x2F;verlok&#x2F;vanilla-lazyload
lazyload:
  enable: false
  field: site # site&#x2F;post
  placeholder:
  blur: false

# PWA
# See https:&#x2F;&#x2F;github.com&#x2F;JLHwung&#x2F;hexo-offline
# ---------------
# pwa:
#   enable: false
#   manifest: &#x2F;pwa&#x2F;manifest.json
#   apple_touch_icon: &#x2F;pwa&#x2F;apple-touch-icon.png
#   favicon_32_32: &#x2F;pwa&#x2F;32.png
#   favicon_16_16: &#x2F;pwa&#x2F;16.png
#   mask_icon: &#x2F;pwa&#x2F;safari-pinned-tab.svg

# Open graph meta tags
# https:&#x2F;&#x2F;developers.facebook.com&#x2F;docs&#x2F;sharing&#x2F;webmasters&#x2F;
Open_Graph_meta:
  enable: true
  option:
    # twitter_card:
    # twitter_image:
    # twitter_id:
    # twitter_site:
    # google_plus:
    # fb_admins:
    # fb_app_id:

# Add the vendor prefixes to ensure compatibility
css_prefix: true

# Inject
# Insert the code to head (before &#39;&lt;&#x2F;head&gt;&#39; tag) and the bottom (before &#39;&lt;&#x2F;body&gt;&#39; tag)
# 插入代码到头部 &lt;&#x2F;head&gt; 之前 和 底部 &lt;&#x2F;body&gt; 之前
inject:
  head:
    - &lt;link rel&#x3D;&quot;preconnect&quot; href&#x3D;&quot;https:&#x2F;&#x2F;fonts.googleapis.com&quot;&gt;
    - &lt;link rel&#x3D;&quot;preconnect&quot; href&#x3D;&quot;https:&#x2F;&#x2F;fonts.gstatic.com&quot; crossorigin&gt;
    - &lt;link href&#x3D;&quot;https:&#x2F;&#x2F;fonts.loli.net&#x2F;css2?family&#x3D;Noto+Serif+SC:wght@400;500;700&amp;display&#x3D;swap&quot; rel&#x3D;&quot;stylesheet&quot;&gt; #思源宋体
    - &lt;link href&#x3D;&quot;https:&#x2F;&#x2F;fonts.loli.net&#x2F;css2?family&#x3D;Ma+Shan+Zheng:wght@400;500;700&amp;display&#x3D;swap&quot; rel&#x3D;&quot;stylesheet&quot;&gt; #Mashanzheng
    # - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&#x2F;xxx.css&quot;&gt;
  bottom:
    - &lt;script type&#x3D;&#39;text&#x2F;javascript&#39; src&#x3D;&#39;https:&#x2F;&#x2F;ajax.loli.net&#x2F;ajax&#x2F;libs&#x2F;jquery&#x2F;3.2.1&#x2F;jquery.min.js&#39;&gt;&lt;&#x2F;script&gt;
    - &lt;script id&#x3D;&quot;dsq-count-scr&quot; src&#x3D;&quot;&#x2F;&#x2F;https-www-dhndzwxj-top.disqus.com&#x2F;count.js&quot; async&gt;&lt;&#x2F;script&gt;
    # - &lt;script src&#x3D;&quot;xxxx&quot;&gt;&lt;&#x2F;script&gt;

# CDN
# Don&#39;t modify the following settings unless you know how they work
# 非必要請不要修改
CDN:
  # The CDN provider of internal scripts (主題內部 js 的 cdn 配置)
  # option: local&#x2F;jsdelivr&#x2F;unpkg&#x2F;cdnjs&#x2F;custom
  # Dev version can only choose. ( dev版的主題只能設置為 local )
  internal_provider: local

  # The CDN provider of third party scripts (第三方 js 的 cdn 配置)
  # option: local&#x2F;jsdelivr&#x2F;unpkg&#x2F;cdnjs&#x2F;custom
  # when set it to local, you need to install hexo-butterfly-extjs
  third_party_provider: jsdelivr

  # Add version number to CDN, true or false  
  version: false

  # Custom format
  # For example: https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;$&#123;cdnjs_name&#125;&#x2F;$&#123;version&#125;&#x2F;$&#123;min_cdnjs_file&#125;
  custom_format:

  option:
    # main_css:
    # main:
    # utils:
    # translate:
    # local_search:
    # algolia_js:
    # algolia_search_v4:
    # instantsearch_v4:
    # pjax:
    # gitalk:
    # gitalk_css:
    # blueimp_md5:
    # valine:
    # disqusjs:
    # disqusjs_css:
    # twikoo:
    # waline_js:
    # waline_css:
    # sharejs:
    # sharejs_css:
    # mathjax:
    # katex:
    # katex_copytex:
    # mermaid:
    # canvas_ribbon:
    # canvas_fluttering_ribbon:
    # canvas_nest:
    # lazyload:
    # instantpage:
    # typed:
    # pangu:
    # fancybox_css_v4:
    # fancybox_v4:
    # medium_zoom:
    # snackbar_css:
    # snackbar:
    # activate_power_mode:
    # fireworks:
    # click_heart:
    # ClickShowText:
    # fontawesomeV6:
    # flickr_justified_gallery_js:
    # flickr_justified_gallery_css:
    # aplayer_css:
    # aplayer_js:
    # meting_js:
    # prismjs_js:
    # prismjs_lineNumber_js:
    # prismjs_autoloader:
    # artalk_js:
    # artalk_css:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="7-git-教程及博客备份"><a class="markdownIt-Anchor" href="#7-git-教程及博客备份"></a> 7 Git 教程及博客备份</h2>
<p>这一步是要把我们本地的所有个人文件在网上进行备份——这很有必要，因为保不齐哪一天我们手残把电脑格式化了。不过想实现备份功能，要求我们对Git的一些内容有必要的了解，否则做起备份来往往会盲人摸象，反而自己把自己的文件用命令行代码清空了（这里有我的故事，有酒么？）。</p>
<p>下面我们先完成Git教程，然后再进行博客备份！</p>
<h3 id="71-基本概念"><a class="markdownIt-Anchor" href="#71-基本概念"></a> 7.1 基本概念</h3>
<p>我们工作时，电脑和github是这样辅助我们的：</p>
<pre class="mermaid">flowchart LR
	x["资源库"] --克隆操作--> a
	x --更新操作 -->b
	d --推送操作--> x
	e --推送操作--> x
	a["工作副本"] --编辑添加<br/>删除文件--> b["修改工作副本"] --查看文件状态<br/>及修改情况--> c["检查修改"] --提交及<br/>推送操作--> d["提交修改"]--修改及推送--> e["修改错误"]</pre>
<p>先来理解下 Git 工作区、暂存区和版本库概念：</p>
<ul>
<li><b>工作区</b>：就是你在电脑里能看到的目录。</li>
<li><b>暂存区</b>：英文叫 stage 或 index。一般存放在 <b>.git</b> 目录下的 index 文件（.git/index）中，所以我们把暂存区有时也叫作索引（index）。</li>
<li><b>版本库</b>：工作区有一个隐藏目录 <b>.git</b>，这个不算工作区，而是 Git 的版本库。</li>
</ul>
<p>下面这个图展示了<b>工作区</b>、版本库中的<b>暂存区</b>和<b>版本库</b>之间的关系：</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211022-27.jpg' width= 500px>
</div>
<ul>
<li>图中左侧为工作区，右侧为版本库。在版本库中标记为 “index” 的区域是暂存区（stage/index），标记为 “master” 的是 master 分支所代表的目录树。</li>
<li>图中的 objects 标识的区域为 Git 的对象库，实际位于 “.git/objects” 目录下，里面包含了创建的各种对象及内容。</li>
<li>当执行 <b>git reset HEAD</b> 命令时，暂存区的目录树会被重写，被 master 分支指向的目录树所替换，但是工作区不受影响。</li>
<li>当执行 <b>git rm --cached <file></b> 命令时，会直接从暂存区删除文件，工作区则不做出改变。</li>
<li>当执行 <b>git checkout .</b> 或者 <b>git checkout – <file></b> 命令时，会用暂存区全部或指定的文件替换工作区的文件。<span style='color:red'>这个操作很危险，会清除工作区中未添加到暂存区中的改动</span>。</li>
<li>当执行 <b>git checkout HEAD .</b> 或者 <b>git checkout HEAD <file></b> 命令时，会用 HEAD 指向的 master 分支中的全部或者部分文件替换暂存区和以及工作区中的文件。<span style='color:red'>这个命令也是极具危险性的，因为不但会清除工作区中未提交的改动，也会清除暂存区中未提交的改动</span>。</li>
</ul>
<h3 id="72-git基本操作一定要先初始化仓库"><a class="markdownIt-Anchor" href="#72-git基本操作一定要先初始化仓库"></a> 7.2 git基本操作——一定要先初始化仓库！</h3>
<p>Git 的工作就是创建和保存你项目的快照及与之后的快照进行对比。</p>
<p>Git 常用的是以下 6 个命令：<code>git clone</code>、<code>git push</code>、<code>git add </code>、<code>git commit</code>、<code>git checkout</code>、<code>git pull</code>，后面我们会详细介绍。</p>
<pre class="mermaid">flowchart LR
	a["工作区"] --add--> b["暂存区<br/>缓存区"] --commit--> c["版本库<br/>本地库"] --push--> d["远程仓库"]
	c --checkout---> a
	d --fetch/clone--> c
	d --pull--> a</pre>
<p>一个简单的操作步骤：先初始化仓库，再添加文件到缓存区，再将缓存区的内容添加到仓库中。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git init
git add .
git commit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>创建仓库有以下两种方法：第一种是初始化仓库，第二种是拷贝（下载）一份远程仓库。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git init
git clone
git clone git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git my_git_name<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>还有一种情况，初始化后，会在 newrepo 目录下会出现一个名为 .git 的目录，所有 Git 需要的数据和资源都存放在这个目录中。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git init newrepo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>设置提交代码时的用户信息：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git config --global user.name &quot;dhndzwxj&quot;
git config --global user.email dhndzwxj@ruc.edu.cn<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>如何提交和修改内容？Git 的工作就是创建和保存你的项目的快照及与之后的快照进行对比。下表列出了有关创建与提交你的项目的快照的命令：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>git add</td>
<td>添加文件到仓库</td>
</tr>
<tr>
<td>git status</td>
<td>查看仓库当前的状态，显示有变更的文件。</td>
</tr>
<tr>
<td>git diff</td>
<td>比较文件的不同，即暂存区和工作区的差异。</td>
</tr>
<tr>
<td>git commit</td>
<td>提交暂存区到本地仓库。</td>
</tr>
<tr>
<td>git reset</td>
<td>回退版本</td>
</tr>
<tr>
<td>git rm</td>
<td>删除工作区文件</td>
</tr>
<tr>
<td>git mv</td>
<td>移动或重命名工作区文件</td>
</tr>
</tbody>
</table>
<p>远程操作：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>git remote</td>
<td>远程仓库操作</td>
</tr>
<tr>
<td>git fetch</td>
<td>从远程获取代码库</td>
</tr>
<tr>
<td>git pull</td>
<td>下载远程代码并合并</td>
</tr>
<tr>
<td>git push</td>
<td>上传远程代码并合并</td>
</tr>
</tbody>
</table>
<p><code>git branch</code> 和 <code>git checkout</code>经常在一起使用，所以在此将它们合在一起</p>
<h3 id="73-分支管理git-branch"><a class="markdownIt-Anchor" href="#73-分支管理git-branch"></a> 7.3 分支管理<code>git branch</code></h3>
<p>使用分支意味着你可以从开发主线上分离开来，然后在不影响主线的同时继续工作。一般而言，我们的仓库默认是只有一个分支的，如下图：</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211026-28.png' width=600px>
</div>
<p>以我的仓库为例，我的默认分支名叫做<code>master</code>。没有其他分支。创建新分支的命令：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git branch (branchname)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>切换分支命令(<span style='color:red'>这个操作很危险，会清除工作区中未添加到暂存区中的改动</span>)。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git checkout (branchname)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>当你切换分支的时候，Git 会用该分支的最后提交的快照替换你的工作目录的内容， 所以多个分支不需要多个目录。</p>
<p>合并分支命令:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git merge<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>你可以多次合并到统一分支， 也可以选择在合并之后直接删除被并入的分支。开始前我们<span style='color:blue'>先创建一个测试目录</span>：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">mkdir gitdemo
cd gitdemo
git init
touch README
git add README
git commit -m &#39;第一次版本提交&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="74-分支操作重磅戏"><a class="markdownIt-Anchor" href="#74-分支操作重磅戏"></a> 7.4 分支操作！！重磅戏！！！！</h3>
<p>列出分支</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ git branch
* master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>此例的意思就是，我们有一个叫做 <b>master</b> 的分支，并且该分支是当前分支。</p>
<p>当你执行 <b>git init</b> 的时候，默认情况下 Git 就会为你创建 <b>master</b> 分支。</p>
<p>如果我们要手动创建一个分支。执行 <b>git branch (branchname)</b> 即可。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ git branch testing
$ git branch
* master
  testing<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>现在我们可以看到，有了一个新分支 <b>testing</b>。</p>
<p>当你以此方式在上次提交更新之后创建了新分支，如果后来又有更新提交， 然后又切换到了 <b>testing</b> 分支，Git 将还原你的工作目录到你创建分支时候的样子。（<span style='color:red'>切换分支的过程中，如果之前的内容没有commit，很容易导致内容被误删，切记！</span>）</p>
<p>接下来我们将演示如何切换分支，我们用 <code>git checkout (branch) </code>切换到我们要修改的分支。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ ls
README
$ echo &#39;runoob.com&#39; &gt; test.txt
&#x2F;&#x2F; 将runoob.com写入文件 test.txt 并保存在文件夹gitdemo中
$ git add .
$ git commit -m &#39;add test.txt&#39;
[master 3e92c19] add test.txt
 1 file changed, 1 insertion(+)
 create mode 100644 test.txt
$ ls
README        test.txt
$ git checkout testing
Switched to branch &#39;testing&#39;
$ ls
README<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们切换到 <b>testing</b> 分支的时候，我们添加的新文件 test.txt 被移除了。切换回 <b>master</b> 分支的时候，它们有重新出现了。(个人猜测文件能失而复得是因为存在文件<code>.git</code>里面了)</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ git checkout master
Switched to branch &#39;master&#39;
$ ls
README        test.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>我们也可以使用 <code>git checkout -b (branchname)</code> 命令来创建新分支并立即切换到该分支下，从而在该分支中操作。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ git checkout -b newtest
Switched to a new branch &#39;newtest&#39;
$ git rm test.txt 
rm &#39;test.txt&#39;
$ ls
README
$ touch runoob.php
$ git add .
$ git commit -am &#39;removed test.txt、add runoob.php&#39;
[newtest c1501a2] removed test.txt、add runoob.php
 2 files changed, 1 deletion(-)
 create mode 100644 runoob.php
 delete mode 100644 test.txt
$ ls
README        runoob.php
$ git checkout master
Switched to branch &#39;master&#39;
$ ls
README        test.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>如你所见，我们创建了一个分支，在该分支的上移除了一些文件 test.txt，并添加了 runoob.php 文件，然后切换回我们的主分支，删除的 test.txt 文件又回来了，且新增加的 runoob.php 不存在主分支中。</p>
<p>使用分支将工作切分开来，从而让我们能够在不同开发环境中做事，并来回切换。</p>
<p>删除分支这么操作：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git branch -d (branchname)
git branch -d testing<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>一旦某分支有了独立内容，你终究会希望将它合并回到你的主分支。 你可以使用以下命令将任何分支合并到当前分支中去：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git merge branchname<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>把<code>branchname</code>分支合并到当前的分支上去。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ git branch
* master
  newtest
$ ls
README        test.txt
$ git merge newtest
Updating 3e92c19..c1501a2
Fast-forward
 runoob.php | 0
 test.txt   | 1 -
 2 files changed, 1 deletion(-)
 create mode 100644 runoob.php
 delete mode 100644 test.txt
$ ls
README        runoob.php<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上实例中我们将 <code>newtest </code>分支合并到主分支去，<code>test.txt </code>文件被删除。</p>
<p>合并完后就可以删除分支:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git branch -d newtest<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>注意：合并并不仅仅是简单的文件添加、移除的操作，Git 也会合并修改。在 Git 中，我们可以用 git add 要告诉 Git 文件冲突已经解决</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ git status -s
UU runoob.php
$ git add runoob.php
$ git status -s
M  runoob.php
$ git commit
[master 88afe0e] Merge branch &#39;change_site&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="75-git远程仓库github备份的关键"><a class="markdownIt-Anchor" href="#75-git远程仓库github备份的关键"></a> 7.5 Git远程仓库（Github）——备份的关键</h3>
<p>一个简单的操作步骤：先初始化仓库，再添加文件到缓存区，再将缓存区的内容添加到仓库中。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git init
git add .
git commit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>目前我们使用到的 Git 命令都是在本地执行，如果你想通过 Git 分享你的代码或者与其他开发人员合作。 你就需要将数据放到一台其他开发人员能够连接的服务器上。</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211022-29.png' width= 400px>
</div>
<p>要添加一个新的远程仓库，可以指定一个简单的名字，以便将来引用,命令格式如下：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git remote add [shortname] [url]
git remote add backup git@github.com:dhndzwxj&#x2F;hexo-backup.git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>这样会在本地生成一个隐藏文件夹<code>.deploy_git</code>。</p>
<p>本例以 Github 为例作为远程仓库，如果你没有 Github 可以在官网 <a target="_blank" rel="noopener" href="https://github.com/%E6%B3%A8%E5%86%8C%E3%80%82%E7%94%B1%E4%BA%8E%E4%BD%A0%E7%9A%84%E6%9C%AC%E5%9C%B0">https://github.com/注册。由于你的本地</a> Git 仓库和 GitHub 仓库之间的传输是通过SSH加密的，所以我们需要配置验证信息：</p>
<p>使用以下命令生成 SSH Key：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh-keygen -t rsa -C &quot;youremail@example.com&quot;
ssh-keygen -t ed25519 -C &quot;dhndzwxj@ruc.edu.cn&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>(以下可以略，因为在前面搭建网站的部分已经讲了具体怎么做了)</p>
<p>查看当前的远程库:(执行时加上 -v 参数，你还可以看到每个别名的实际链接地址。)</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ git remote
$ git remote -v
hexo	git@github.com:dhndzwxj&#x2F;hexo-backup.git (fetch)
hexo	git@github.com:dhndzwxj&#x2F;hexo-backup.git (push)
master	git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git (fetch)
master	git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git (push)
origin	git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git (fetch)
origin	git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git (push)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>1、从远程仓库下载新分支与数据：（<span style='color:red'>很危险！！！！不要随意尝试，除非你是在新电脑上开启新的工作</span>）</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git fetch backup master --force<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>该命令执行完后需要执行 <code>git merge</code> 远程分支到你所在的分支。</p>
<p>2、从远端仓库提取数据并尝试合并到当前分支：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git merge<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211022-30.png' width= 500px>
</div>
<p><span style='color:red'>假设你配置好了一个远程仓库，</span>（<span style='font-family:kaiti'>问题是怎么连接这个远程仓库？</span>）并且你想要提取更新的数据，你可以首先执行 <b>git fetch [alias]</b> 告诉 Git 去获取它有你没有的数据，然后你可以执行 <b>git merge [alias]/[branch]</b> 以将服务器上的任何更新（假设有人这时候推送到服务器了）合并到你的当前分支。</p>
<p>然后我们在本地更新修改。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ git fetch [remote_repo]	
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (2&#x2F;2), done.
remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
Unpacking objects: 100% (3&#x2F;3), done.
From github.com:tianqixin&#x2F;runoob-git-test
   0205aab..febd8ed  master     -&gt; origin&#x2F;master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上信息&quot;0205aab…febd8ed master -&gt; origin/master&quot; 说明 master 分支已被更新，我们可以使用以下命令<span style='color:red'>将更新同步到本地</span>：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ git merge origin&#x2F;master
Updating 0205aab..febd8ed
Fast-forward
 README.md | 1 +
 1 file changed, 1 insertion(+)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="76-博客备份推送到远程仓库"><a class="markdownIt-Anchor" href="#76-博客备份推送到远程仓库"></a> 7.6 博客备份：推送到远程仓库</h3>
<p>推送你的新分支与数据到某个远端仓库命令:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git push [alias] [branch]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>以上命令将你的 [branch] 分支推送成为 [alias] 远程仓库上的 [branch] 分支，实例如下。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">➜ dlog git:(backup) ✗ git remote -v
hexo	git@github.com:dhndzwxj&#x2F;hexo-backup.git (fetch)
hexo	git@github.com:dhndzwxj&#x2F;hexo-backup.git (push)
master	git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git (fetch)
master	git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git (push)
origin	git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git (fetch)
origin	git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git (push)
➜  dlog git:(backup) ✗ git branch
➜  dlog git:(master) ✗ git push hexo master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>我这里目的是将自己的github内容推到一个<span style='color:red'>新建的私密仓库</span><code>hexo-backup</code>上（<span style='font-family:kaiti'>新建仓库是为了保护自己的隐私哈~新建仓库的方法参见节3.1，由于新建的仓库并非我们的网站，因此命名更加随意，比如我的备份仓库名就叫做<code>hexo-backup</code></span>），因此首先要弄清楚自己有多少个远程仓库<code>git remote -v</code>，(<span style='font-family:kaiti'>如何连接远程仓库，可以直接参考节7.7</span>)然后再确定当前是处于哪个分支<code>git branch</code>，最后再push。<code>git push hexo master</code>。这样博客就备份成功了！！！！！</p>
<p>不过上面的是顺利的情况，如果不顺利的话，可能会遇到需要更换分支的情况，例子如下，首先需要查看所有的分支：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">➜  dlog git:(backup) ✗ git branch
* backup
  hexo
  master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>在这一步，我们发现当前所处的分支是<code>backup</code>，但我们首先需要切换为主分支<code>master</code>，然后再做备份（<span style='font-family:kaiti'>因为我们每次<code>hexo d</code>后内容都是上传到默认分支<code>master</code>上的，当前直接push只能将backup分支上的内容备份</span>）。但是直接输入更换分支的代码会出现警示（！！！！）：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">➜  dlog git:(backup) ✗ git checkout master
error: Your local changes to the following files would be overwritten by checkout:
        source&#x2F;_posts&#x2F;Foley的资本循环模型.md<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>这里的警示一定要注意哈~小编之前掉了很多次坑，误删了自己的文件千百遍。</p>
<p>这个警示的意思是我们已经在当前活跃的分支<code>backup</code>上做了很多修改，如果贸然将分支切换为<code>master</code>就会抹掉这些新修改的内容。之前我就是强制换分支将我多个日日夜夜的心血毁于一旦的！！！！！出现这种情况怎么办呢？</p>
<p>答案就是，需要先把最新修改的内容commit到仓库上去！！具体怎么做呢？？？如下！</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git add .
git commit -m &#39;第一次版本提交&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>其中’第一次版本提交’是一种类似于标签的东西，具体内容不重要，只是提示一下自己。这样我们就把新修改的内容提交到仓库上去，下面就可以顺利切换分支了。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">➜  dlog git:(backup) ✗ git checkout master
➜  dlog git:(backup) ✗ git branch -v
  backup 1f03ac87 commit message
  hexo   93452bfe Site updated: 2021-09-09 19:19:40
* master cdf37520 [ahead 1] 第一次版本提交<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>最后一步，就是把本地的分支<code>master</code>push到远程仓库<code>hexo</code>上！！（<span style='font-family:kaiti'>hexo只是这个仓库的代号而已，不用太在意，叫别的名字也可以，不过要自行设置，设置方法后面有！</span>）</p>
<p>注意每次备份前，都需要commit一下~（<span style='font-family:kaiti'>回忆前面讲的内容，如果不commit就只是在本地有缓存，没有上传到缓存区</span>）然后下面一键三连：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">➜  dlog git:(master) ✗ git add .
➜  dlog git:(master) ✗ git commit -m &#39;211023版本提交&#39;
➜  dlog git:(master) ✗ git push backup master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>后面的<code>hexo</code>是远程仓库名，<code>master</code>是<code>hexo</code>这个远程仓库的默认分支名，这些名字都可以自己个性化命名，它们都不是代码中的<b>关键字</b>！</p>
<blockquote>
<p>2021年10月25日更新：</p>
<p>使用过程中发现，尽管可以备份到github上，但是从上面下载备份的速度太慢了，所以我选择在国内的“码云”gitee上进行备份。拢共分三步：</p>
<ul>
<li>
<p>首先在gitee新建一个仓库<code>hexo-backup</code></p>
</li>
<li>
<p>连接远程：</p>
</li>
<li>
<pre class="highlight"><code class="bash">git remote add backup git@gitee.com:dhndzwxj/hexo-backup.git
<pre class="line-numbers language-none"><code class="language-none">
- 备份提交的代码还是一键三连

### 7.6a 拉取远程备份：git fetch（很危险！！！）

这个操作很危险！如果远程的是旧版本，会完全覆盖掉本地的全新版本，一般只在新设备上把原有的项目拉下来的时候才会用到。

&#96;&#96;&#96;bash
git fetch backup master --force<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</code></pre>
</li>
</ul>
</blockquote>
<p>首先看远程分支的更新状态：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git remote show backup<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>显示如下：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">* remote backup
  Fetch URL: git@github.com:dhndzwxj&#x2F;hexo-backup.git
  Push  URL: git@github.com:dhndzwxj&#x2F;hexo-backup.git
  HEAD branch: master
  Remote branches:
    dependabot&#x2F;npm_and_yarn&#x2F;hexo-6.3.0                    new (next fetch will store in remotes&#x2F;backup)
    dependabot&#x2F;npm_and_yarn&#x2F;hexo-generator-archive-2.0.0  new (next fetch will store in remotes&#x2F;backup)
    dependabot&#x2F;npm_and_yarn&#x2F;hexo-generator-category-2.0.0 new (next fetch will store in remotes&#x2F;backup)
    dependabot&#x2F;npm_and_yarn&#x2F;hexo-generator-index-3.0.0    new (next fetch will store in remotes&#x2F;backup)
    dependabot&#x2F;npm_and_yarn&#x2F;hexo-generator-tag-2.0.0      new (next fetch will store in remotes&#x2F;backup)
    dependabot&#x2F;npm_and_yarn&#x2F;hexo-renderer-ejs-2.0.0       new (next fetch will store in remotes&#x2F;backup)
    dependabot&#x2F;npm_and_yarn&#x2F;hexo-server-3.0.0             new (next fetch will store in remotes&#x2F;backup)
    master                                                tracked
  Local ref configured for &#39;git push&#39;:
    master pushes to master (up to date)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Fetch URL和Push  URL表示<code>fetch</code>和<code>push</code>的链接，<code>master tracked</code>表示本地和远程建立了连接。<code>up to date</code>表示本地和远程同步状态，<code>local out of date</code>表示本地落后于远程了。</p>
<p>拉取远程的命令有两个：<code>git fetch</code>和<code>git pull</code></p>
<h4 id="76a1-git-fetch"><a class="markdownIt-Anchor" href="#76a1-git-fetch"></a> 7.6a.1 git fetch</h4>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git fetch [远程主机名]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>可以将远程主机的更新全部拉取到本地，远程主机名也可以省略。可以拉取远程特定的分支：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git fetch [远程主机名] [远程分支名]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><code>git fetch</code>只更新本地的远程分支，而不会更新本地分支。这个命令执行后，会导致本地的远程分支超前于本地分支（显示为<code>fast-forwardable</code>）。那就要在master分支上，继续执行</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git merge backup&#x2F;master<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="76a2-git-pull"><a class="markdownIt-Anchor" href="#76a2-git-pull"></a> 7.6a.2 git pull</h4>
<p>拉取、合并到指定分支</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git pull [远程主机名] [远程分支名]: [本地分支名]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>拉取、合并到当前分支</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git pull [远程主机名] [远程分支名]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>拉取全部、合并：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git pull [远程主机名] <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>git pull容易把本地的修改覆盖掉。</p>
<h3 id="77-怎么连接远程仓库"><a class="markdownIt-Anchor" href="#77-怎么连接远程仓库"></a> 7.7 怎么连接远程仓库？</h3>
<p>添加远程仓库的代码为：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git remote add backup git@github.com:dhndzwxj&#x2F;hexo-backup.git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>意思是添加了一个网址（SSH）为<code>git@github.com:dhndzwxj/hexo-backup.git</code>的远程仓库，它的代号是<code>backup</code>(<span style='font-family:kaiti'>可以根据自己的喜好任意取名</span>)，此时可以在命令行中用字符串<code>backup</code>代替整个网址。</p>
<p>如果想查看某个远程仓库的更多信息，可以</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git remote show backup<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>远程仓库可以重命名</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git remote rename backup backup_new<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>也可以移除</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git remote remove backup<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="78-博客修复-文件恢复"><a class="markdownIt-Anchor" href="#78-博客修复-文件恢复"></a> 7.8 博客修复、文件恢复</h3>
<p>（1）如果是博客站点坏了，就通过下面的方法进行恢复：</p>
<ul>
<li>安装 Git和Node.js,方法和前面一样。</li>
<li>生成 SSH 秘钥并添加到 Github</li>
<li>克隆上面个人备份博客的仓库<code>hexo-backup</code>到本地 blog 文件夹</li>
<li>安装 Hexo：在 blog 文件夹下 <code>GIt Bash Here</code></li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm install hexo-cli -g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>安装依赖文件</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm install<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>安装部署插件：自己需要的插件自行重新下载</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npm install hexo-deployer-git --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>最后一键三连，运行 <code>hexo cl</code>,<code>hexo g</code>,<code>hexo s</code>,<code>hexo d</code>，检查是否成功。</li>
</ul>
<p>（2）如果是本地文件不小心搞没了，下面的步骤就是把我们文件从备份的仓库中下载到本地：</p>
<p>我推荐从Gitee备份的仓库中下载（因为github太慢了）。首先要把本台计算机的SSH配置到Gitee上（<span style='font-family:kaiti'>注意，SSH是与电脑绑定在一起的，一台电脑有一个独特的SSH。对于Windows电脑而言，一般存在<code>C:/Users/电脑名/.ssh/id_rsa</code>中。这个文件推荐用VSCode软件打开，当然文本文档编辑器也可以</span>）。然后在命令行输入：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git clone 仓库的SSH地址 本地保存的文件夹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如果不配置SSH，这一步你将没有权限从备份仓库中（<span style='font-family:kaiti'>因为我之前把它设置为私密仓库了</span>）下载备份的文件。实例：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git clone https:&#x2F;&#x2F;gitee.com&#x2F;dhndzwxj&#x2F;hexo-backup.git hexo-backup<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="79-上传超过100m的文件"><a class="markdownIt-Anchor" href="#79-上传超过100m的文件"></a> 7.9 上传超过100M的文件</h3>
<p>参考文章<a href='https://cloud.tencent.com/developer/article/1677003' target='_blank'>轻松上传超过100M的文件至GitHub</a></p>
<p>就需要借助<strong>Git LFS</strong>。首先下载git-lfs（<a target="_blank" rel="noopener" href="https://github.com/git-lfs/git-lfs%EF%BC%89%EF%BC%8C%E5%AE%89%E8%A3%85%E5%A5%BD%E5%90%8E%E8%BF%9B%E5%85%A5%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93%E7%9B%AE%E5%BD%95%EF%BC%8C%E6%89%A7%E8%A1%8C%E4%B8%8B%E9%9D%A2%E7%9A%84%E5%91%BD%E4%BB%A4%E3%80%82">https://github.com/git-lfs/git-lfs），安装好后进入本地仓库目录，执行下面的命令。</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git lfs track &quot;file&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>file</strong>是需要上传的大文件。执行完命令后会发现目录下生成了一个&quot;<strong>.gitattributes</strong>&quot;文件，文件内记录了我们要上传文件的信息。只有先把&quot;.gitattributes&quot;传上去，才可以上传大文件。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git add .gitattributes
git commit -m &quot;submit file&quot;
git push -u origin master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>上传完毕后，开始上传大文件。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git add file
git commit -m &quot;add file&quot;
git push -u origin master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>如果发现自己空间不足，可以删去一些大文件或者购买更多的空间。</p>
<p>如果在上传过程中出现如下报错：</p>
<p><strong>batch response: Git LFS is disabled for this repository.</strong></p>
<p><strong>Uploading LFS objects:   0% (0/1), 0 B | 0 B/s, done</strong></p>
<p>就说明你的账号被冻结了，需要在GitHub后台提交解封申请。</p>
<p><a target="_blank" rel="noopener" href="https://support.github.com/contact">https://support.github.com/contact</a></p>
<p>工作日一般几个小时就会帮你把账号解封，解封后就可以继续上传大文件啦~</p>
<h3 id="710-零碎未整理的知识点"><a class="markdownIt-Anchor" href="#710-零碎未整理的知识点"></a> 7.10 零碎未整理的知识点</h3>
<p><b>1.2 <code>git branch -r</code></b></p>
<p>查看远程版本库分支列表</p>
<p><b>1.3 <code>git branch -a</code></b></p>
<p>查看所有分支列表，包括本地和远程</p>
<p><b>1.5 <code>git branch -d dev</code></b></p>
<p>删除<code>dev</code>分支，如果在分支中有一些未merge的提交，那么会删除分支失败，此时可以使用 <code>git branch -D dev</code>：强制删除<code>dev</code>分支。</p>
<p><b>1.6 <code>git branch -vv</code></b></p>
<p>可以查看本地分支对应的远程分支</p>
<p><b>1.7 <code>git branch -m oldName newName</code></b></p>
<p>给分支重命名</p>
<p><b>2.1 操作文件</b></p>
<p>2.1.1 <code>git checkout filename</code> 放弃单个文件的修改</p>
<p>2.1.2 <code>git checkout</code> . 放弃当前目录下的修改</p>
<p><b>2.2 操作分支</b></p>
<p>2.2.1 <code>git checkout master</code> 将分支切换到master</p>
<p>2.2.2 <code>git checkout -b master</code> 如果分支存在则只切换分支，若不存在则创建并切换到<code>master</code>分支，<code>repo start</code>是对<code>git checkout -b</code>这个命令的封装，将所有仓库的分支都切换到<code>master</code>，<code>master</code>是分支名，</p>
<p><b>2.3 查看帮助</b></p>
<p><code>git checkout --help</code></p>
<p>当然<code>git checkout</code>还有许多命令，但这些已经能满足我们日常开发所需 。</p>
<h2 id="8-将博客站点托管到vercel上"><a class="markdownIt-Anchor" href="#8-将博客站点托管到vercel上"></a> 8. 将博客站点托管到Vercel上！</h2>
<p>为什么使用Vercel托管网站？就我的个人使用体验而言，优点有以下几点：</p>
<ul>
<li>服务器在国内（据我查到的资料是在中国台湾），网页加载速度比Github Page快太多；</li>
<li>支持绑定Github账号，可以直接导入Github仓库</li>
<li>我看到的资料里，在Github上<code>hexo d</code>后，Vercel这边也会自动更新，比较省心。</li>
</ul>
<p>下面看看怎么做吧~首先上<a href='https://vercel.com/' target='_blank'>Vercel官网</a>，注册一个自己的账号（点击网页右上角的“Sign Up”），然后（如下图）用Github账号就可以！</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211027-31.jpg' width=400px>
</div>
<p>登陆成功后，我们下一步是在Vercel上新建一个项目（Project，如下图左），导入一个Git仓库（如下图右），点击Import就可以了</p>
<table align='center'>
  <tr>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211027-32.png' width=400px></td>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211027-33.png' width=400px></td>
  </tr>
</table>
<p>导入后便进入下面这个页面（下图左）。这里的意思是我们要不要建立一个开发团队，由于这项服务是收费的，所以我们当然就不需要啦，点击“Skip”即可跳过此步。然后进入下一个页面（下图右），直接点击“Deploy”，就可以将我们的Github项目部署到Vercel上面啦！做到这里，基本上就大功告成了！（<span style='font-family:kaiti'>下图右里面有一个选项叫做“PROJECT NAME”，也就是项目名称的意思，这个是能自己取名字的哦！</span>）</p>
<table align='center'>
  <tr>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211027-34.png' width=400px></td>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211027-35.png' width=400px></td>
  </tr>
</table>
<p>最后一步是要知道，我们生成的Vercel网页的网址是什么？</p>
<p>如下图1，先在自己的主页上打开自己刚刚部署好的项目，然后点击图2的“View Domains”，即查看自己的域名。在图3中点击“Edit”，即对自己的域名进行编辑，最后在图4红框处进行改名（<span style='font-family:kaiti'>后面的&quot;.vercel.app&quot;不能改，只能改前面的内容</span>），点击Save进行保存。</p>
<table align='center'>
  <tr>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211027-36.png' width=400px><p align='center' style='font-family:kaiti'>图1</p></td>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211027-37.jpg' width=400px><p align='center' style='font-family:kaiti'>图2</p></td>
  </tr>
  <tr>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211027-38.png' width=400px><p align='center' style='font-family:kaiti'>图3</p></td>
    <td><img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20211027-39.png' width=400px><p align='center' style='font-family:kaiti'>图4</p></td>
  </tr>
</table>
<h2 id="9vercel绑定域名"><a class="markdownIt-Anchor" href="#9vercel绑定域名"></a> 9.Vercel绑定域名</h2>
<p>1- 在vercel的主界面，点击Setting。</p>
<p>2-点击domains设置</p>
<p>3-在域名添加界面，填入信息，点击add按钮</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20220624-40.png' width=500px>
</div>
<h2 id="10将github绑定自己的域名"><a class="markdownIt-Anchor" href="#10将github绑定自己的域名"></a> 10.将Github绑定自己的域名</h2>
<p>1-先买一个域名。</p>
<p>2-在github仓库里添加CNAME文件，并在文件中填写绑定的域名。</p>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20220624-41.png' width=600px>
</div>
<p><b>文件内容如下</b>：（文件里填写要绑定的域名且不要包含<a href="Http://%E5%92%8Cwww">Http://和www</a>） 说白了就是你购买的域名，前面不要 <code>http</code> 和 <code>www </code></p>
<p>进入设置，找到 <b>Custom domain</b>添加域名后保存即可（添加CNAME文件并在文件中填写绑定的域名后应该会自动保存，看看有没有自动保存）</p>
<p>3-ping你的<a href="https://link.zhihu.com/?target=http%3A//github.io">http://github.io</a>域名，得到一个IP；</p>
<p>4-然后在域名中添加两条A记录，使用刚刚得到的IP。一个主机记录为<code>www</code>，一个主机记录为<code>@</code>。</p>
<p>5-对DNS的配置不是立即生效的，过10分钟再去访问你的域名看看有没有配置成功 : )</p>
<h2 id="n-1-博客站点根目录文件配置"><a class="markdownIt-Anchor" href="#n-1-博客站点根目录文件配置"></a> N-1. 博客站点根目录文件配置</h2>
<p>对博客站点根目录进行个性化配置。这是我的个人设置，大家可以根据自己的需要更改。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># Hexo Configuration
## Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;configuration.html
## Source: https:&#x2F;&#x2F;github.com&#x2F;hexojs&#x2F;hexo&#x2F;

# Site
title: 小荷才露尖尖角
subtitle: 蜻蜓
description: &#39;随手写一写，揭晓这世界&#39;   #网站描述
keywords: 马克思主义政治经济学
author: 揭晓                            #你的名字
language: zh-CN                         #网站使用的语言
timezone: Asia&#x2F;Shanghai                 #网站时区

# URL
## Set your site url here. For example, if you use GitHub Page, set url as &#39;https:&#x2F;&#x2F;username.github.io&#x2F;project&#39;
url: https:&#x2F;&#x2F;dhndzwxj.github.io # http:&#x2F;&#x2F;example.com
permalink: :abbrlink.html #前面绝对不能加&#39;&#x2F;&#39;
permalink_defaults:
pretty_urls:
  trailing_index: true # Set to false to remove trailing &#39;index.html&#39; from permalinks
  trailing_html: true # Set to false to remove trailing &#39;.html&#39; from permalinks

#abbrlink配置
abbrlink:
  alg: crc32  # 算法：crc16(default) and crc32
  rep: dec    # 进制：dec(default) and hex  


# Directory 目录配置
source_dir: source    #资源文件夹，这个文件夹用来存放内容
public_dir: public    #公共文件夹，这个文件夹用于存放生成的站点文件
tag_dir: tags         #标签文件夹
archive_dir: archives #归档文件夹
category_dir: categories  #分类文件夹
code_dir: downloads&#x2F;code  #Include code 文件夹
i18n_dir: :lang       #国际化文件夹
skip_render:          #跳过指定文件的渲染，您可使用 glob 来配置路径

# Writing 写作配置
new_post_name: :title.md  #新文章的文件名称
default_layout: post      #默认文章布局
titlecase: false # Transform title into titlecase
external_link: 
  enable: true # Open external links in new tab
  field: site # Apply to the whole site
  exclude: &#39;&#39;
filename_case: 0          #把文件名称转换为 (1) 小写或 (2) 大写
render_drafts: false      #显示草稿
post_asset_folder: true  #是否启动资源文件夹
relative_link: true       #把链接改为与根目录的相对位址
future: true
highlight:
  enable: false
  line_number: false #决定了代码块左侧是否有行数
  auto_detect: false
  tab_replace: &#39;&#39;
  wrap: true
  hljs: true
prismjs:
  enable: true
  preprocess: true
  line_number: true #决定了代码块左侧是否有行数
  tab_replace: &#39;&#39;

# Home page setting
# path: Root path for your blogs index page. (default &#x3D; &#39;&#39;)
# per_page: Posts displayed per page. (0 &#x3D; disable pagination)
# order_by: Posts order. (Order by date descending by default)
index_generator:
  path: &#39;&#39;
  per_page: 10
  order_by: -date
# 归档页面
archive_generator:
  per_page: 50
  yearly: true
  monthly: true
#效果，首页每间隔10篇文章就分页，归档页每间隔50篇文章才分页。

# Category &amp; Tag
default_category: #uncategorized
category_map:
tag_map:

# Metadata elements
## https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;HTML&#x2F;Element&#x2F;meta
meta_generator: true

# Date &#x2F; Time format
## Hexo uses Moment.js to parse and display date
## You can customize the date format as defined in
## http:&#x2F;&#x2F;momentjs.com&#x2F;docs&#x2F;#&#x2F;displaying&#x2F;format&#x2F;
date_format: YYYY-MM-DD
time_format: HH:mm:ss
## updated_option supports &#39;mtime&#39;, &#39;date&#39;, &#39;empty&#39;
updated_option: &#39;mtime&#39;

# Pagination
## Set per_page to 0 to disable pagination
per_page: 10
pagination_dir: page

# Include &#x2F; Exclude file(s)
## include:&#x2F;exclude: options only apply to the &#39;source&#x2F;&#39; folder
include:
exclude:
ignore:

#搜索功能
search:
  path: search.xml
  field: post
  content: true
  format: html
# #搜索功能2
# algolia:
#   applicationID: &#39;applicationID&#39;
#   apiKey: &#39;apiKey&#39;
#   indexName: &#39;...&#39;
# # 文章加密
# encrypt:
#     enable: true

# # mermaid chart
# mermaid: ## mermaid url https:&#x2F;&#x2F;github.com&#x2F;knsv&#x2F;mermaid
#   enable: true  # default true
#   version: &quot;7.1.2&quot; # default v7.1.2
#   options:  # find more api options from https:&#x2F;&#x2F;github.com&#x2F;knsv&#x2F;mermaid&#x2F;blob&#x2F;master&#x2F;src&#x2F;mermaidAPI.js
#     #startOnload: true  &#x2F;&#x2F; default true


# # math
math:
  engine: &#39;mathjax&#39; 
  mathjax:  

# npm uninstall hexo-renderer-marked --save
# npm install hexo-renderer-kramed --save
# kramed:
#   gfm: true
#   pedantic: false
#   sanitize: false
#   tables: true
#   breaks: true
#   smartLists: true
#   smartypants: true
# cnpm un hexo-renderer-marked --save
# cnpm i hexo-renderer-markdown-it --save
markdown:
  preset: &#39;default&#39;
  render:
    html: true # 置为true时，html内容保持不变；置为false时，html内容将被转义成普通字符串
    xhtmlOut: true # 是否生成与XHTML完全兼容的标签;和脚注与数学公式的冲突相关！
    breaks: false # 置为true时，每个换行符都被渲染成一个&lt;br&gt;（即Hexo的默认表现）；置为false时，只有空行才会被渲染为&lt;br&gt;（GFM的默认表现）
    linkify: false # 是否自动识别链接并把它渲染成链接
    typographer: false # 是否自动识别印刷格式（意思是把(c)渲染为©这样的）
    quotes: &#39;“”‘’&#39;
  enable_rules:
  disable_rules:
  plugins:
  anchors:
    level: 2
    collisionSuffix: &#39;&#39;
    permalink: false
    permalinkClass: &#39;header-anchor&#39;
    permalinkSide: &#39;left&#39;
    permalinkSymbol: § #¶
    case: 0
    separator: &#39;&#39;


# Deployment
## Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;one-command-deployment
deploy:
  type: git
  # repo: git@gitee.com:dhndzwxj&#x2F;dhndzwxj.gitee.io.git
  repo: git@github.com:dhndzwxj&#x2F;dhndzwxj.github.io.git
  branch: master
# deploy:
#   type: git
#   repo: git@gitee.com:dhndzwxj&#x2F;dhndzwxj.git
#   branch: master
# Extensions
## Plugins: https:&#x2F;&#x2F;hexo.io&#x2F;plugins&#x2F;
plugins:
  - hexo-sub-footnote
## Themes: https:&#x2F;&#x2F;hexo.io&#x2F;themes&#x2F;
theme: butterfly451
# theme: lanscape<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="n-拓展知识"><a class="markdownIt-Anchor" href="#n-拓展知识"></a> N. 拓展知识</h2>
<h3 id="1-css预处理器"><a class="markdownIt-Anchor" href="#1-css预处理器"></a> 1. CSS预处理器</h3>
<p>CSS指的是层叠样式表(<em>C</em>ascading <em>S</em>tyle <em>S</em>heets)，描述了如何在屏幕、纸张或其他媒体上显示 HTML 元素。可以同时控制多张网页的<span style='color:red'>布局</span>，外部样式存储在css文件中。<span style='font-family:kaiti'>一句话，css的目的是对html中每一个组块（如<code>&lt;a&gt;</code>，<code>&lt;p&gt;</code>，<code>&lt;i&gt;</code>，<code>&lt;h1&gt;</code>）进行个性化定制！</span></p>
<p>CSS 规则集（rule-set）由<span style='color:red'>选择器</span>和<span style='color:red'>声明块</span>组成：</p>
<ul>
<li>选择器<u>指向</u>您需要设置样式的<span style='color:red'> HTML 元素</span>。(<span style='font-family:kaiti'>css是对html中各种元素进行个性化定制的服务！</span>)</li>
<li>声明块包含一条或多条用分号分隔的声明。每条声明都包含一个 CSS 属性名称和一个值，以冒号分隔。多条 CSS 声明用分号分隔，声明块用花括号括起来。</li>
</ul>
<div align='center'>
  <img src='/../../images/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97/image-20210727-42.png' width=400px>
</div>
<p>例子：</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">p</span> <span class="token punctuation">&#123;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>例子解释</p>
<ul>
<li><code>p</code> 是 <code>CSS</code> 中的选择器（它指向要设置样式的 <code>HTML</code> 元素：<code>&lt;p&gt;</code>）。</li>
<li><code>color</code> 是属性，<code>red</code> 是属性值</li>
<li><code>text-align</code> 是属性，<code>center</code> 是属性值</li>
</ul>
<p>CSS（Cascading Style Sheet-级联样式表）的缺陷也很明显。这种「面向命名语言」，不太友好，格式死板，低复制效率。css 预处理器就是这样被创造出来，弥补了直接写 css 的一些缺憾：</p>
<ul>
<li>语法不够强大，比如无法嵌套书写导致模块化开发中需要书写很多重复的选择器；</li>
<li>没有变量和合理的样式复用机制，使得逻辑上相关的属性值必须以字面量的形式重复输出，导致难以维护。</li>
</ul>
<p><b>Stylus</b>：2010年产生，来自Node.js社区，主要用来给Node项目进行CSS预处理支持，在此社区之内有一定支持者。<a href="https://link.zhihu.com/?target=http%3A//wiki.jikexueyuan.com/project/harp-doc/Stylus.html">Stylus 中文文档</a>。</p>
<p>Stylus 是一个高效、动态以及丰富的 CSS 预处理器。它同时支持缩进的和通俗的两种风格的 CSS 语法风格。Stylus 扩展名为「 *.styl 」，<a href="https://link.zhihu.com/?target=https%3A//tj.github.io/nib/">Nib</a>是 Stylus 的应用的类库。给你的「* .styl 」添加 Nib 的最快方式是克隆 Nib 的 Git 版本库并引入，因为有了 Nib，Stylus 的高效性才更为突出。Stylus 在容错性上的突出特性也十分吸引我，你可以在一个 Stylus 文件里这样写，且它们都会被编译成标准 css：</p>
<pre class="line-numbers language-stylus" data-language="stylus"><code class="language-stylus">&#x2F;*style.styl*&#x2F;
&#x2F;*类似于CSS标准语法*&#x2F;
h1 &#123;
  color: #963;
  background-color:#333;
&#125;
&#x2F;*省略大括号（｛｝）*&#x2F;
h1 
  color: #963;
  background-color: #333;
&#x2F;*省略大括号（｛｝）和分号（;）*&#x2F;
h1
  color:#963
  background-color:#333<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><b>Try Stylus！</b></p>
<p>这一部分参考知乎<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/27431427">徐小七七</a></p>
<pre class="line-numbers language-stylus" data-language="stylus"><code class="language-stylus">body,html
    margin:0
    padding:0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>编译成：</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body,
html</span> <span class="token punctuation">&#123;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>stylus : 强大的功能丰富的语言</p>
<pre class="line-numbers language-stylus" data-language="stylus"><code class="language-stylus">-pos(type, args)
  i &#x3D; 0
  position: unquote(type)
  &#123;args[i]&#125;: args[i + 1] is a &#39;unit&#39; ? args[i +&#x3D; 1] : 0
  &#123;args[i +&#x3D; 1]&#125;: args[i + 1] is a &#39;unit&#39; ? args[i +&#x3D; 1] : 0

absolute()
  -pos(&#39;absolute&#39;, arguments)

fixed()
  -pos(&#39;fixed&#39;, arguments)

#prompt
  absolute: top 150px left 5px
  width: 200px
  margin-left: -(@width &#x2F; 2)

#logo
  fixed: top left<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>编译成</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">#prompt</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -100px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">#logo</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>stylus：nibstylus插件</p>
<pre class="line-numbers language-stylus" data-language="stylus"><code class="language-stylus">@import &#39;nib&#39;
body
  background: linear-gradient(20px top, white, black) <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>编译成</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">&#123;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">-webkit-linear-gradient</span><span class="token punctuation">(</span>20px top<span class="token punctuation">,</span> #fff<span class="token punctuation">,</span> #000<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">-moz-linear-gradient</span><span class="token punctuation">(</span>20px top<span class="token punctuation">,</span> #fff<span class="token punctuation">,</span> #000<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">-o-linear-gradient</span><span class="token punctuation">(</span>20px top<span class="token punctuation">,</span> #fff<span class="token punctuation">,</span> #000<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">-ms-linear-gradient</span><span class="token punctuation">(</span>20px top<span class="token punctuation">,</span> #fff<span class="token punctuation">,</span> #000<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>20px top<span class="token punctuation">,</span> #fff<span class="token punctuation">,</span> #000<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2a-hrefhttpswwww3schoolcomcnjsjs_examplesasp-target_blankjavascript-实例a"><a class="markdownIt-Anchor" href="#2a-hrefhttpswwww3schoolcomcnjsjs_examplesasp-target_blankjavascript-实例a"></a> 2.<a href='https://www.w3school.com.cn/js/js_examples.asp' target='_blank'>JavaScript 实例</a></h3>
<p>前面的html是网页页面的主要内容，css是格式化定制页面外观的代码。而JavaScript的作用让上面的内容“动起来”，是让页面内容发生改变的代码。</p>
<blockquote>
<p>JavaScript是一种脚本语言。脚本语言又被称为扩建的语言，或者动态语言，是一种编程语言，用来控制软件应用程序，脚本通常以文本（如ASCII)保存，只在被调用时进行解释或编译。</p>
</blockquote>
<p>根据我的理解，JavaScript就是网页代码中的“函数”（function），它可以根据开发者的目的对网页内容、属性进行一些改变。</p>
<h3 id="语法结构"><a class="markdownIt-Anchor" href="#语法结构"></a> 语法结构</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">></span>
	<span class="token operator">...</span>  
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>弹框的脚本：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>无标题文档<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Welcome! Can I help you?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    ..
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果将JavaScript代码写在body内，需要这么写：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>无标题文档<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;h1>Welcome!&lt;/h1>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;h3>Can I help you?&lt;/h3>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>复杂一点的代码：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>无标题文档<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>中国图书网<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>do<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>社科类图书<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>DIV<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>军事类图书<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
        单击
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">function</span> <span class="token function">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"do"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"计算机类图书"</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"DIV"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"历史类图书"</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">'</span></span></span><span class="token punctuation">></span></span>
      单击按钮，改变显示内容。
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="n1-后记使用bluelake主题"><a class="markdownIt-Anchor" href="#n1-后记使用bluelake主题"></a> N+1 后记：使用Bluelake主题</h2>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git clone https:&#x2F;&#x2F;github.com&#x2F;chaooo&#x2F;hexo-theme-BlueLake.git themes&#x2F;BlueLake<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>安装主题插件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm install hexo-generator-feed --save
cnpm install hexo-generator-sitemap --save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>启用主题。在博客站点配置文件中：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">theme: BlueLake<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>主题更新<br />
今后若主题添加了新功能正是您需要的，您可以直接<code>git pull</code>来更新主题(更新前请先备份主题<code>_config.yml</code>防止被覆盖)。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cd themes&#x2F;BlueLake
git pull<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="1首页不显示文章全文"><a class="markdownIt-Anchor" href="#1首页不显示文章全文"></a> （1）首页不显示文章全文</h3>
<p>先安装插件<code>hexo-excerpt</code></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm install hexo-excerpt --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>再配置主题文件</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">excerpt:
  depth: 10
  excerpt_excludes: []
  more_excludes: []
  hideWholePostExcerpts: true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2本地搜索显示文章内容这部分的精髓没有删掉这块内容的原因"><a class="markdownIt-Anchor" href="#2本地搜索显示文章内容这部分的精髓没有删掉这块内容的原因"></a> （2）本地搜索——显示文章内容(这部分的精髓，没有删掉这块内容的原因)</h3>
<p>最大的问题是，搜索出来后只显示标题不显示文中对应内容，不太方便！</p>
<p>BlueLake主题实现站内搜索的代码位于路径<code>/source/js/search.json.js</code>上。这一点信息我是在模版引擎文件<code>/layout/_partial/after-footer.ejs</code>上这一行代码中读出来的（其实是胡乱尝试出来的）：</p>
<pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs">&lt;!--after-footer.ejs-&gt;
&lt;%- js(&#39;js&#x2F;jquery-3.4.1.min.js&#39;) %&gt;
&lt;%- js(&#39;js&#x2F;search.json.js&#39;) %&gt;
&lt;% if (theme.fancybox)&#123; %&gt;
  &lt;%- js(&#39;fancybox&#x2F;jquery.fancybox.min.js&#39;) %&gt;
&lt;% &#125; %&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>第一行上引入了一个JavaScript代码库，第三行在使用<code>fancybox</code>，只有第二行代码和站内搜索功能相关！因此我们的重点应该放在对<code>search.json.js</code>代码的修改上面。(个人目前对JavaScript代码还不是特别了解，只能采用一点点尝试的办法了！)</p>
<p>经过多次尝试，终于找到了代码的关键部分：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//search.json.js</span>
<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//这个函数是返回值的主要函数！</span>
      <span class="token keyword">var</span> html <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          html <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
              <span class="token keyword">return</span> <span class="token function">tpl</span><span class="token punctuation">(</span>searchTpl<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
                  <span class="token literal-property property">title</span><span class="token operator">:</span> post<span class="token punctuation">.</span>title<span class="token punctuation">,</span> <span class="token comment">//返回标题</span>
                  <span class="token literal-property property">path</span><span class="token operator">:</span> post<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token comment">//返回路径</span>
                  <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//返回日期</span>
                  <span class="token literal-property property">tags</span><span class="token operator">:</span> post<span class="token punctuation">.</span>tags<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                      <span class="token keyword">return</span> <span class="token string">'&lt;span>'</span> <span class="token operator">+</span> tag<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'&lt;/span>'</span><span class="token punctuation">;</span> <span class="token comment">//返回标签</span>
                  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
          html <span class="token operator">=</span> <span class="token string">'&lt;div class="tips">&lt;i class="fa fa-empty">&lt;/i>&lt;p>Results not found!&lt;/p>&lt;/div>'</span><span class="token punctuation">;</span> <span class="token comment">//没有找到</span>
      <span class="token punctuation">&#125;</span> 
      searchResult<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> html<span class="token punctuation">;</span> <span class="token comment">//显示下拉条</span>
  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>分析上述代码可以知道，要想搜索结果中包括文章内容，需要添加的内容肯定位于<code>return tpl</code>之内！只需要在<code>tpl</code>函数中自定义增加一个显示项<code>digest</code>即可。做到这里暂时停住了，接下来在谷歌浏览器中（按F12）打开网页源代码，发现了对应于搜索框的网页结构为<code>/header/header-outer/search-form/result-wrap/search-result</code>，我在layout文件夹中找到了模板引擎文件<code>header.ejs</code>，对应的<code>header-outer/search-form</code>部分代码如下：</p>
<pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs">&lt;!--header.ejs--&gt;
&lt;div id&#x3D;&quot;search-form&quot;&gt;
    &lt;div id&#x3D;&quot;result-mask&quot; class&#x3D;&quot;hide&quot;&gt;&lt;&#x2F;div&gt;
    &lt;label&gt;&lt;input id&#x3D;&quot;search-key&quot; type&#x3D;&quot;text&quot; autocomplete&#x3D;&quot;off&quot; placeholder&#x3D;&quot;&lt;%&#x3D; __(&#39;search&#39;) %&gt;&quot;&gt;&lt;&#x2F;label&gt;
    &lt;div id&#x3D;&quot;result-wrap&quot; class&#x3D;&quot;hide&quot;&gt;
      &lt;div id&#x3D;&quot;search-result&quot;&gt;&lt;&#x2F;div&gt;
    &lt;&#x2F;div&gt;
    &lt;div class&#x3D;&quot;hide&quot;&gt;
      &lt;template id&#x3D;&quot;search-tpl&quot;&gt;
        &lt;div class&#x3D;&quot;item&quot;&gt;
          &lt;a href&#x3D;&quot;&#x2F;&#123;path&#125;&quot; title&#x3D;&quot;&#123;title&#125;&quot;&gt;
            &lt;div class&#x3D;&quot;title&quot;&gt;&#123;title&#125;&lt;&#x2F;div&gt;
            &lt;div class&#x3D;&quot;time&quot;&gt;&#123;date&#125;&lt;&#x2F;div&gt;
            &lt;div class&#x3D;&quot;tags&quot;&gt;&#123;tags&#125;&lt;&#x2F;div&gt;
          &lt;&#x2F;a&gt;
        &lt;&#x2F;div&gt;
      &lt;&#x2F;template&gt;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>加一项<code>digest</code>很容易(如下)！问题是在<code>search.json.js</code>文件中如何定义<code>digest</code>！</p>
<p>经过不断尝试，终于找到了可行的办法。但是要想理解这个办法，首先需要解读<code>search.json.js</code>文件的思路。该文件中有三个函数值得注意：</p>
<ul>
<li><code>regtest(raw,regExp)</code>：检查字符串raw中是否包含匹配目标regExp,包含返回true，否则返回false；</li>
<li><code>matcher(raw,regExp)</code>：检查post中的title/tags/text中是否包含匹配目标regExp,包含返回true，否则返回false；</li>
<li><code>render(data)</code>：将生成的搜索结果返回，这是需要我们重点修改的函数。</li>
</ul>
<p>下面我重点分享一下修改render函数的艰辛历程！<br />
第一步，我尝试着写下下面这段代码，发现搜索框中会显示包含关键词的文章的全文内容：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//search.json.js</span>
<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
<span class="token operator">...</span>
  <span class="token literal-property property">digest</span><span class="token operator">:</span> post<span class="token punctuation">.</span>text<span class="token punctuation">,</span>
<span class="token operator">...</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>尽管距离目标还很远，但却是迈出了重要一步！说明在搜索结果中显示文章内容是可以办到的，下一步就是要从全文中截取出包含着关键词的一个小片段！</p>
<p>第二步，就是在<code>post.text</code>中确定关键词所在的位置！</p>
<p>我们考察<code>search.json.js</code>文件的主体函数search</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//search.json.js</span>
<span class="token keyword">function</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> key <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">var</span> regExp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[ ]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'|'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'gmi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">loadData</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">var</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token function">matcher</span><span class="token punctuation">(</span>post<span class="token punctuation">,</span> regExp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">render</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">removeClass</span><span class="token punctuation">(</span>searchWrap<span class="token punctuation">,</span> <span class="token string">'hide'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">removeClass</span><span class="token punctuation">(</span>searchMask<span class="token punctuation">,</span> <span class="token string">'hide'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        keyInput<span class="token punctuation">.</span><span class="token function-variable function">onfocus</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token function">removeClass</span><span class="token punctuation">(</span>searchWrap<span class="token punctuation">,</span> <span class="token string">'hide'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">removeClass</span><span class="token punctuation">(</span>searchMask<span class="token punctuation">,</span> <span class="token string">'hide'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>再结合前面的<code>render</code>函数主体，发现我们要搜索的关键词<code>key</code>并未进入<code>render</code>函数！因而使用自带的函数是根本没办法进行关键词定位的！接下来我进行了一次大胆的尝试，在<code>render</code>函数中增加一个传入的参数<code>key</code>，将其改为</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//search.json.js</span>
<span class="token keyword">function</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> key <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">var</span> regExp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[ ]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'|'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'gmi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">loadData</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">var</span> result <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token function">matcher</span><span class="token punctuation">(</span>post<span class="token punctuation">,</span> regExp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">render</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//增加一个参数regExp，为搜索的内容</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">removeClass</span><span class="token punctuation">(</span>searchWrap<span class="token punctuation">,</span> <span class="token string">'hide'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">removeClass</span><span class="token punctuation">(</span>searchMask<span class="token punctuation">,</span> <span class="token string">'hide'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        keyInput<span class="token punctuation">.</span><span class="token function-variable function">onfocus</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token function">removeClass</span><span class="token punctuation">(</span>searchWrap<span class="token punctuation">,</span> <span class="token string">'hide'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">removeClass</span><span class="token punctuation">(</span>searchMask<span class="token punctuation">,</span> <span class="token string">'hide'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后再修改<code>render</code>函数为</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//search.json.js</span>
<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
<span class="token operator">...</span>
  <span class="token literal-property property">digest</span><span class="token operator">:</span> key<span class="token punctuation">,</span>
<span class="token operator">...</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>第三步，就是确定要搜索的关键词key在post.text处于什么位置？这里需要用到一个函数<code>indexOf()</code>:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//search.json.js</span>
<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
<span class="token operator">...</span>
  <span class="token literal-property property">digest</span><span class="token operator">:</span> post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">...</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>不错不错，进展顺利！</p>
<p>第四步是从原文post.text中将包括关键词的一段话截出来。这里需要另一个处理字符串的函数<code>.substring()</code>。</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//search.json.js</span>
<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
<span class="token operator">...</span>
  <span class="token literal-property property">digest</span><span class="token operator">:</span> post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">...</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其实做到这里，基本上也就成功了！接下来就是将结果进行美化！经过多番尝试，最终修改成功的代码如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//search.json.js</span>
<span class="token literal-property property">digest</span><span class="token operator">:</span> post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span>post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">///</span>
  <span class="token operator">+</span><span class="token string">"&lt;b style='color:red'>"</span><span class="token comment">///</span>
  <span class="token operator">+</span>post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span>key<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token comment">///</span>
  <span class="token operator">+</span><span class="token string">"&lt;/b>"</span><span class="token comment">///</span>
  <span class="token operator">+</span>post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span>key<span class="token punctuation">.</span>length<span class="token punctuation">,</span>post<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span>key<span class="token punctuation">.</span>length<span class="token operator">+</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token comment">///</span>
  <span class="token operator">+</span><span class="token string">'......'</span><span class="token punctuation">,</span> <span class="token comment">//indexOf返回key第一次出现的位置;.substring(begin,end)截取字符串的某一个片段</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>【hexo博客中ejs文件中，显示markdown全文的功能】</p>
<pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs">&lt;div class&#x3D;&quot;e-content article-entry&quot; itemprop&#x3D;&quot;articleBody&quot;&gt;
  &lt;% if (post.excerpt &amp;&amp; index)&#123; %&gt;
    &lt;%- post.excerpt %&gt;
  &lt;% &#125; else &#123; %&gt;
    &lt;%- post.content %&gt;
    &lt;% if (!index)&#123; %&gt;
        &lt;div id&#x3D;&quot;toc-article&quot;&gt;
            &lt;%- partial(&#39;post&#x2F;toc&#39;) %&gt;
        &lt;&#x2F;div&gt;
    &lt;% &#125; %&gt;
    &lt;% if (theme.copyright.enable)&#123; %&gt;
      &lt;blockquote id&#x3D;&quot;copyright&quot;&gt;
          &lt;p&gt;&lt;%&#x3D; __(&quot;copyright_link&quot;) %&gt;: &lt;a href&#x3D;&quot;&lt;%- url_for(config.url +&#39;&#x2F;&#39;+ page.path) %&gt;&quot;&gt;&lt;%- url_for(config.url +&#39;&#x2F;&#39;+ page.path) %&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
          &lt;p&gt;&lt;%&#x3D; __(&quot;copyright_notice&quot;) %&gt;: &lt;%&#x3D; theme.copyright.content %&gt;&lt;&#x2F;p&gt;
      &lt;&#x2F;blockquote&gt;
    &lt;% &#125; %&gt;
  &lt;% &#125; %&gt;
&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="tags/%E6%9D%82%E8%AE%B0/">杂记</a></div><div class="post_share"><div class="social-share" data-image="/private_img/banner2.gif" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/private_img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/private_img/wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/private_img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/private_img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="3127454572.html"><img class="prev-cover" src="/private_img/banner2.gif" onerror="onerror=null;src='/private_img/banner.gif'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">什么是“温特制”？工作为什么越来越不稳定？</div></div></a></div><div class="next-post pull-right"><a href="3262086267.html"><img class="next-cover" src="/private_img/banner2.gif" onerror="onerror=null;src='/private_img/banner.gif'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">拉沃《后凯恩斯主义》</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/private_img/yuyingnan.jpg" onerror="this.onerror=null;this.src='/private_img/404.gif'" alt="avatar"/></div><div class="author-info__name">揭晓</div><div class="author-info__description">随手写一写，揭晓这世界</div></div><a id="card-info-btn" href="/"><i></i><span>回到首页</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E9%A6%96%E5%85%88%E6%90%AD%E5%BB%BAnodejs%E5%92%8Cgit%E7%8E%AF%E5%A2%83"><span class="toc-text"> 1. 首先搭建nodejs和git环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-windows%E7%89%88%E6%9C%AC"><span class="toc-text"> 1.1 Windows版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-mac%E7%89%88%E6%9C%AC"><span class="toc-text"> 1.2 Mac版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-nas%E7%89%88%E6%9C%AC"><span class="toc-text"> 1.3 Nas版本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9"><span class="toc-text"> 2. 搭建博客站点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-windows%E5%8D%9A%E5%AE%A2%E5%AE%89%E8%A3%85"><span class="toc-text"> 2.1 Windows博客安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-mac%E5%8D%9A%E5%AE%A2%E5%AE%89%E8%A3%85"><span class="toc-text"> 2.2 Mac博客安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-%E9%83%A8%E7%BD%B2hexo%E5%8D%9A%E5%AE%A2%E4%BB%A5%E4%B8%8B%E6%AD%A5%E9%AA%A4%E5%AF%B9windows%E5%92%8Cmac%E8%80%8C%E8%A8%80%E6%B2%A1%E6%9C%89%E4%BB%BB%E4%BD%95%E5%8C%BA%E5%88%AB"><span class="toc-text"> 2.3 部署hexo博客（以下步骤对Windows和Mac而言，没有任何区别）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-nas%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-text"> 2.4 Nas的情况</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B0%86%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0github%E6%88%96%E8%80%85gitee"><span class="toc-text"> 3. 将博客部署到Github或者Gitee</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#31-github"><span class="toc-text"> 3.1 Github</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#31a-hexo-d%E9%81%87%E5%88%B0%E7%9A%84%E6%84%8F%E5%A4%96%E6%83%85%E5%86%B5"><span class="toc-text"> 3.1a Hexo d遇到的意外情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32-gitee"><span class="toc-text"> 3.2 Gitee</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%92%B0%E5%86%99%E5%8D%9A%E5%AE%A2"><span class="toc-text"> 4. 撰写博客</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#41-%E5%8D%9A%E5%AE%A2%E6%96%87%E4%BB%B6%E5%A4%B9%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-text"> 4.1 博客文件夹的介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#42-%E6%96%B0%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%96%87%E4%BB%B6"><span class="toc-text"> 4.2 新建博客文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#43-%E4%B8%80%E4%BA%9Btypora%E4%B8%8A%E7%9A%84%E6%93%8D%E4%BD%9Cmarkdown%E8%AF%AD%E6%B3%95%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0"><span class="toc-text"> 4.3 一些Typora上的操作（Markdown语法，持续更新）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E4%B8%80%E4%BA%9B%E6%8F%92%E4%BB%B6%E7%9A%84%E8%BF%90%E7%94%A8"><span class="toc-text"> 5. 一些插件的运用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#51-%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2%E6%8F%92%E4%BB%B6%E7%8E%B0%E5%9C%A8%E5%BE%88%E5%A4%9A%E4%B8%BB%E9%A2%98%E9%83%BD%E8%87%AA%E5%B8%A6%E4%BA%86"><span class="toc-text"> 5.1 本地搜索插件(现在很多主题都自带了)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#52-hexo%E8%AE%BE%E7%BD%AE%E6%B0%B8%E4%B9%85%E9%93%BE%E6%8E%A5"><span class="toc-text"> 5.2 Hexo设置永久链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#53-latex%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E6%B8%B2%E6%9F%93%E7%9A%84%E9%97%AE%E9%A2%98%E6%B2%A1%E6%9C%89%E8%A7%A3%E5%86%B3%E5%9B%A0%E4%B8%BAlatex%E5%92%8Cmarkdown%E8%AF%AD%E6%B3%95%E6%9C%89%E5%86%B2%E7%AA%81%E8%BF%99%E4%B8%80%E9%83%A8%E5%88%86%E4%B8%8D%E5%BB%BA%E8%AE%AE%E6%96%B0%E6%89%8B%E8%A7%82%E7%9C%8B"><span class="toc-text"> 5.3 LaTeX数学公式渲染的问题（没有解决，因为latex和markdown语法有冲突！这一部分不建议新手观看）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#53a-%E8%B0%83%E8%AF%95%E5%85%AC%E5%BC%8Fbug%E6%8A%80%E5%B7%A7"><span class="toc-text"> 5.3a 调试公式bug技巧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#54-%E8%84%9A%E6%B3%A8hexo-renderer-markdown-it-plus-%E6%8F%92%E4%BB%B6%E7%9B%AE%E5%89%8D%E5%9C%A8%E4%BD%BF%E7%94%A8%E8%BF%99%E4%B8%AA%E6%8F%92%E4%BB%B6%E5%92%8Chexo-renderer-kramed%E6%9C%89%E5%86%B2%E7%AA%81"><span class="toc-text"> 5.4 脚注：hexo-renderer-markdown-it-plus 插件（目前在使用，这个插件和hexo-renderer-kramed有冲突）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#55-%E6%96%87%E7%AB%A0%E5%8A%A0%E5%AF%86%E5%8A%9F%E8%83%BD"><span class="toc-text"> 5.5 文章加密功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#56-%E5%88%A9%E7%94%A8hexo%E5%8D%9A%E5%AE%A2%E4%B8%8A%E4%BC%A0%E6%9C%AC%E5%9C%B0pdf%E6%96%87%E4%BB%B6%E5%B9%B6%E5%9C%A8%E7%BA%BF%E9%A2%84%E8%A7%88pdf"><span class="toc-text"> 5.6 利用Hexo博客上传本地pdf文件并在线预览pdf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#57-%E6%96%87%E7%AB%A0%E4%B8%AD%E5%BC%95%E7%94%A8%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E7%9A%84%E9%93%BE%E6%8E%A5"><span class="toc-text"> 5.7 文章中引用本地文件的链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#58-%E5%BD%92%E6%A1%A3%E9%A1%B5%E9%9D%A2%E7%9A%84%E6%96%87%E7%AB%A0%E6%95%B0%E9%87%8F"><span class="toc-text"> 5.8 归档页面的文章数量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#59-mermaid%E5%8A%9F%E8%83%BD"><span class="toc-text"> 5.9 mermaid功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#510-hexo%E6%8F%92%E5%85%A5%E8%A7%86%E9%A2%91"><span class="toc-text"> 5.10 Hexo插入视频</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E4%BD%BF%E7%94%A8butterfly%E4%B8%BB%E9%A2%98%E5%BD%93%E5%89%8D%E4%B8%BB%E9%A2%98"><span class="toc-text"> 6 使用butterfly主题（当前主题）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#61-%E4%B8%BB%E9%A2%98%E4%B8%8B%E8%BD%BD%E5%85%8B%E9%9A%86"><span class="toc-text"> 6.1 主题下载（克隆）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#62-%E7%BD%91%E7%AB%99%E8%83%8C%E6%99%AF"><span class="toc-text"> 6.2 网站背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#63-%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1"><span class="toc-text"> 6.3 字数统计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#64-%E4%B8%BB%E9%A1%B5%E5%92%8C%E6%96%87%E7%AB%A0%E9%A1%B5%E9%9D%A2%E4%BE%A7%E8%BE%B9%E6%A0%8F%E8%AE%BE%E7%BD%AE"><span class="toc-text"> 6.4 主页和文章页面侧边栏设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#64a-%E6%96%87%E7%AB%A0%E7%BD%AE%E9%A1%B6"><span class="toc-text"> 6.4a 文章置顶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#65-%E7%9B%AE%E5%BD%95%E6%8A%98%E5%8F%A0"><span class="toc-text"> 6.5 目录折叠</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#66-%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2%E4%B8%AA%E6%80%A7%E5%8C%96%E4%BF%AE%E6%94%B9"><span class="toc-text"> 6.6 本地搜索个性化修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#67-%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD%E6%B7%BB%E5%8A%A0twikoo"><span class="toc-text"> 6.7 评论功能添加——Twikoo</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%B8%BB%E9%A2%98%E6%96%87%E4%BB%B6"><span class="toc-text"> 设置主题文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2twikoo"><span class="toc-text"> 云函数部署（一键部署Twikoo）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%A6%E4%B8%80%E7%A7%8D%E9%83%A8%E7%BD%B2%E6%96%B9%E6%B3%95"><span class="toc-text"> 另一种部署方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#68-%E5%8D%9A%E5%AE%A2%E9%A6%96%E9%A1%B5pagination%E6%94%BE%E5%9C%A8%E6%9C%80%E8%BF%91%E6%96%87%E7%AB%A0%E7%9A%84%E9%A1%B6%E7%AB%AF%E4%BE%BF%E4%BA%8E%E7%BF%BB%E9%A1%B5"><span class="toc-text"> 6.8 博客首页pagination放在最近文章的顶端，便于翻页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#68a-tag-hide"><span class="toc-text"> 6.8a tag-hide</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#69-%E5%AD%97%E4%BD%93%E4%BF%AE%E6%94%B9"><span class="toc-text"> 6.9 字体修改</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8-api"><span class="toc-text"> 高级应用 API</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#69a-v2ray%E8%AE%BE%E7%BD%AE"><span class="toc-text"> 6.9a V2Ray设置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#69a1-windows%E7%AB%AF%E9%85%8D%E7%BD%AE"><span class="toc-text"> 6.9a.1 Windows端配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#69a2-macos%E7%AB%AF%E9%85%8D%E7%BD%AE"><span class="toc-text"> 6.9a.2 MacOS端配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#69b-%E4%BD%BF%E7%94%A8%E6%9C%AC%E5%9C%B0%E5%AD%97%E4%BD%93"><span class="toc-text"> 6.9b 使用本地字体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#610-%E7%BD%91%E9%A1%B5%E4%BE%A7%E8%BE%B9%E6%A0%8F%E5%8D%A1%E7%89%87%E4%BF%AE%E6%94%B9"><span class="toc-text"> 6.10 网页侧边栏卡片修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#611-hexo-butterfly-clock"><span class="toc-text"> 6.11 hexo-butterfly-clock</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6n-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text"> 6.n 主题配置文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-git-%E6%95%99%E7%A8%8B%E5%8F%8A%E5%8D%9A%E5%AE%A2%E5%A4%87%E4%BB%BD"><span class="toc-text"> 7 Git 教程及博客备份</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#71-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text"> 7.1 基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#72-git%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E4%B8%80%E5%AE%9A%E8%A6%81%E5%85%88%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BB%93%E5%BA%93"><span class="toc-text"> 7.2 git基本操作——一定要先初始化仓库！</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#73-%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86git-branch"><span class="toc-text"> 7.3 分支管理git branch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#74-%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C%E9%87%8D%E7%A3%85%E6%88%8F"><span class="toc-text"> 7.4 分支操作！！重磅戏！！！！</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#75-git%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93github%E5%A4%87%E4%BB%BD%E7%9A%84%E5%85%B3%E9%94%AE"><span class="toc-text"> 7.5 Git远程仓库（Github）——备份的关键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#76-%E5%8D%9A%E5%AE%A2%E5%A4%87%E4%BB%BD%E6%8E%A8%E9%80%81%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-text"> 7.6 博客备份：推送到远程仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#76a1-git-fetch"><span class="toc-text"> 7.6a.1 git fetch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#76a2-git-pull"><span class="toc-text"> 7.6a.2 git pull</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#77-%E6%80%8E%E4%B9%88%E8%BF%9E%E6%8E%A5%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-text"> 7.7 怎么连接远程仓库？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#78-%E5%8D%9A%E5%AE%A2%E4%BF%AE%E5%A4%8D-%E6%96%87%E4%BB%B6%E6%81%A2%E5%A4%8D"><span class="toc-text"> 7.8 博客修复、文件恢复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#79-%E4%B8%8A%E4%BC%A0%E8%B6%85%E8%BF%87100m%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-text"> 7.9 上传超过100M的文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#710-%E9%9B%B6%E7%A2%8E%E6%9C%AA%E6%95%B4%E7%90%86%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-text"> 7.10 零碎未整理的知识点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E5%B0%86%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9%E6%89%98%E7%AE%A1%E5%88%B0vercel%E4%B8%8A"><span class="toc-text"> 8. 将博客站点托管到Vercel上！</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9vercel%E7%BB%91%E5%AE%9A%E5%9F%9F%E5%90%8D"><span class="toc-text"> 9.Vercel绑定域名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10%E5%B0%86github%E7%BB%91%E5%AE%9A%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D"><span class="toc-text"> 10.将Github绑定自己的域名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#n-1-%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9%E6%A0%B9%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-text"> N-1. 博客站点根目录文件配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#n-%E6%8B%93%E5%B1%95%E7%9F%A5%E8%AF%86"><span class="toc-text"> N. 拓展知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-css%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8"><span class="toc-text"> 1. CSS预处理器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2a-hrefhttpswwww3schoolcomcnjsjs_examplesasp-target_blankjavascript-%E5%AE%9E%E4%BE%8Ba"><span class="toc-text"> 2.JavaScript 实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84"><span class="toc-text"> 语法结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#n1-%E5%90%8E%E8%AE%B0%E4%BD%BF%E7%94%A8bluelake%E4%B8%BB%E9%A2%98"><span class="toc-text"> N+1 后记：使用Bluelake主题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E9%A6%96%E9%A1%B5%E4%B8%8D%E6%98%BE%E7%A4%BA%E6%96%87%E7%AB%A0%E5%85%A8%E6%96%87"><span class="toc-text"> （1）首页不显示文章全文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2%E6%98%BE%E7%A4%BA%E6%96%87%E7%AB%A0%E5%86%85%E5%AE%B9%E8%BF%99%E9%83%A8%E5%88%86%E7%9A%84%E7%B2%BE%E9%AB%93%E6%B2%A1%E6%9C%89%E5%88%A0%E6%8E%89%E8%BF%99%E5%9D%97%E5%86%85%E5%AE%B9%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="toc-text"> （2）本地搜索——显示文章内容(这部分的精髓，没有删掉这块内容的原因)</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="3276806131.html" title="博客搭建日志">博客搭建日志</a><time datetime="2022-11-29T11:51:53.872Z" title="更新于 2022-11-29 19:51:53">2022-11-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="1311052042.html" title="小艾尔弗雷德·钱德勒">小艾尔弗雷德·钱德勒</a><time datetime="2022-11-29T11:47:50.055Z" title="更新于 2022-11-29 19:47:50">2022-11-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="1823545766.html" title="组会名词积累">组会名词积累</a><time datetime="2022-11-29T11:47:50.055Z" title="更新于 2022-11-29 19:47:50">2022-11-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="3666905482.html" title="马恩全集摘抄">马恩全集摘抄</a><time datetime="2022-11-29T11:47:50.055Z" title="更新于 2022-11-29 19:47:50">2022-11-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="3429130594.html" title="生成个人github主页">生成个人github主页</a><time datetime="2022-11-29T11:47:50.048Z" title="更新于 2022-11-29 19:47:50">2022-11-29</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/private_img/banner2.gif')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 揭晓</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">欢迎参观我的<a href='https://github.com/dhndzwxj' target='_blank'>github</a>个人主页！</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="js/utils.js"></script><script src="js/main.js"></script><script src="js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container').forEach(node => {
            if (node.hasAttribute('display')) {
              btf.wrap(node, 'div', { class: 'mathjax-overflow' })
            } else {
              btf.wrap(node, 'span', { class: 'mathjax-overflow' })
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://dhndzwxj.github.io/3276806131.html'
    this.page.identifier = ''
    this.page.title = '博客搭建日志'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://https-www-dhndzwxj-top.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }

  document.getElementById('darkmode').addEventListener('click', () => {
    setTimeout(() => window.disqusReset(), 200)
  })
}

if ('Disqus' === 'Disqus' || !true) {
  if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script type='text/javascript' src='https://ajax.loli.net/ajax/libs/jquery/3.2.1/jquery.min.js'></script><script id="dsq-count-scr" src="//https-www-dhndzwxj-top.disqus.com/count.js" async></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://npm.elemecdn.com/hexo-butterfly-clock/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = '/posts/,/about/'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_injector_config();
  }
  </script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax src="https://npm.elemecdn.com/hexo-butterfly-clock/lib/clock.min.js"></script><!-- hexo injector body_end end --></body></html>